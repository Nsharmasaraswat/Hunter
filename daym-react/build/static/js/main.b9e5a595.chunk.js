(this.webpackJsonproma=this.webpackJsonproma||[]).push([[0],{294:function(e){e.exports=JSON.parse('{"local":"http://localhost:3030/","dev":"http://api.test.daym.smarttersstudio.com/","prod":"http://api.daym.smarttersstudio.com/"}')},325:function(e){e.exports=JSON.parse('{"hello_welcome_to_react":"Hello, Welcome to React","add":"Add","list":"List","edit":"Edit","delete":"Delete","save":"Save","cancel":"Cancel","field_type":"Field Type","name":"Name","text":"Text","number":"Number","dropdown":"Dropdown","dropdown_options":"Dropdown Options","select_permission":"Select a Permission","type_enter":"Type and hit enter","initiated":"Initiated","automatic_time":"Set Delivery time Automatically","pending":"Pending","changed_supplier":"Changed By Supplier","confirmed_supplier":"Confirmed By Supplier","scheduled":"Scheduled","startDate":"Start Date","endDate":"End Date","accept_security":"Accepted By Security Guard","reject_security":"Rejected By Security guard","truck_enter":"Truck entered","complete":"Completed","cancelled":"Cancelled","sku":"SKU","description":"Description","status":"Status","headquarter":"HeadQuarter","wareHouses":"WareHouses","wareHouse":"WareHouse","gates":"Gates","gate":"Gate","view_wareHouses":"View WareHouses","view_gates":"View Gates","view_docks":"View Docks","create_headquarter":"Create a HeadQuarter","create_warehouse":"Create a WareHouse","create_product":"Create a Product","create_gate":"Create a Gate","create_dock":"Create a Dock","create_unit":"Create a Unit","create_user":"Create a User","dock":"Dock","docks":"Docks","no_headquarter":"No Head Quarter or Distribution Center provided","no_warehouse":"No Ware Houses provided","no_gates":"No Gates provided","no_dock":"No Docks provided","no_product_category":"No Product Category provided","no_user_category":"No User Type provided","product_category":"Product Category","product":"Product","products":"Products","view_product":"View Product","units":"Units","tagId":"Tag Id","type":"Type","appointment_type":"Appointment Type","users":"Users","fields":"Fields","product_fields":"Product Fields","product_field":"Field","product_units":"Product Units","create_userGroup":"Create a UserGroup","create_product_type":"Create a Product Type","create_field":"Create a Field","create_holiday":"Create a Holiday","permissions":"Permissions","user":"User","user_fields":"User Fields","user_field":"User Field","user_type":"User Types","view_permissions":"View Permissions","view_fields":"View Fields","view_user":"View User","distribution_center":"Distribution Center","location":"Location","create_location":"Create a Location","all_locations":"All Locations","created_Successfully":"created Successfully!","edited_Successfully":"edited Successfully!","deleted_Successfully":"deleted Successfully!","can_not_create":"Can not create","can_not_edit":"Can not edit","can_not_delete":"Can not delete","value":"Value","role":"Role","name_cannot_be_blank":"Name cannot be blank!","drop_down_value_is_required":"Drop down value is required!","occupied":"Occupied","not_occupied":"Not Occupied","can_not_be_empty":"can not be empty","all":"All","holidays":"Holidays","holiday":"Holiday","select_data":"Select Date","day":"Day","date":"Date","month":"Month","january":"January","february":"February","march":"March","april":"April","may":"May","june":"June","july":"July","august":"August","september":"September","october":"October","november":"November","december":"December","barcode":"BarCode","productCode":"Product Code","view_product_detail":"View Product Details","view_user_detail":"View User Details","product_detail":"Product Details","user_detail":"User Details","add_unit":"Add Unit","unit_type":"Unit Type","unit_name":"Unit Name","unit_tagId":"Unit Tag Id","userName":"UserName","view":"View","permission_added":"Permission already added","password_mismatch":"Passwords do not match.","password_changed":"Passwords changed successfully.","permission_add":"Add Permission","logout":"Logout","password":"Password","confirmPass":"Confirm Password","changePass":"Change Password","all_fields_mandatory":"Required fields must not be empty","no_units":"No Units added ! Please add units to continue","no_supplier":"No Supplier Category Provided","suppliers":"Suppliers","supplier":"Supplier","supplier_details":"Supplier Details","supplier_fields":"Supplier Fields","create_supplier":"Create Supplier","driver":"Driver","drivers":"Drivers","no_driver":"No Drivers Created","view_driver_details":"View Driver Details","driver_details":"Driver Details","create_driver":"Create Driver","driver_fields":"Driver Fields","loading_map":"Loading Map","no_access":"You have no access to this page. Only Supplier has access to this page.","no_product_fields":"No fields found","view_admins":"View Administrative Users","admins":"Administrative Users","admin":"Administrative User","create_admin":"Create Administrative User","admin_details":"Admin Details","view_security":"View Security Guards","securities":"Security Guards","security":"Security Guard","create_security":"Create Security Guard","security_details":"Security Guard Details","view_details":"View Details","appointments":"Appointments","appointment":"Appointment","orders":"Orders","quantity":"Quantity","receipt":"Add Receipt","doc":"Add Doc","total_price":"Total Price","add_order":"Add Order","create_appointment":"Create Appointment","truck_overtime":"Truck Overtime","view_appointment":"View Appointment","appointment_details":"Appointment Details","appointment_for":"Appointment For","schedule":"Scheduled On","add_driver":"Add Driver","generate_ticket":"Generate Ticket","view_ticket":"View Ticket","view_document":"View Document","view_receipt":"View Receipt","add_permission":"Add Permission","schedule_appointment":"Confirm Appointment","quantity_cant":"Quantity can\\"t be empty or 0","price_cant":"Total Price can\\"t be empty or 0","only_one_file":"Only 1 file can be selected.","camera_id":"Camera Id","unloading_time":"Unloading Time","in_min":"(in minutes)","choose_image":"Choose Image","elapse_time":"Elapse Time","delivery_time":"Delivery Time","start_time":"Start Time","product_types":"Product Types","end_time":"End Time","action":"Action","truck_entered":"Truck Entered","order_complete":"Order Complete","unloading_time_not_blank":"Unloading Time cannot be blank","no_access_admin":"You have no access to this page. Only Administrative Users have access to this page.","required":"Required","licensePlate":"License Plate","truck":"Truck","trucks":"Trucks","view_trucks":"View Trucks","add_truck":"Add Truck","create_truck":"Create Truck","driver_cant":"Driver must be selected","truck_cant":"Truck must be selected","message":"Write a message","notify_driver":"Notify Driver","notify_success":"Successfully Notified to Driver","truck_fields":"Truck Fields","locate_driver":"Locate Driver","firstDayOfWeek":"0","dayNames":"[\\"Sunday\\", \\"Monday\\", \\"Tuesday\\", \\"Wednesday\\", \\"Thursday\\", \\"Friday\\", \\"Saturday\\"]","dayNamesShort":"[\\"Sun\\", \\"Mon\\", \\"Tue\\", \\"Wed\\", \\"Thu\\", \\"Fri\\", \\"Sat\\"]","dayNamesMin":"[\\"Su\\", \\"Mo\\", \\"Tu\\", \\"We\\", \\"Th\\", \\"Fr\\", \\"Sa\\"]","monthNames":"[\\"January\\", \\"February\\", \\"March\\", \\"April\\", \\"May\\", \\"June\\", \\"July\\", \\"August\\", \\"September\\", \\"October\\", \\"November\\", \\"December\\"]","monthNamesShort":"[\\"Jan\\", \\"Feb\\", \\"Mar\\", \\"Apr\\", \\"May\\", \\"Jun\\", \\"Jul\\", \\"Aug\\", \\"Sep\\", \\"Oct\\", \\"Nov\\", \\"Dec\\"]","today":"Today","clear":"Clear","truck_field":"Truck Field","mandatory":"Mandatory","optional":"Optional","truck_details":"Truck Details","error":"Error","success":"Success","entrance":"Entrance","exit":"Exit","select_type":"Select A Type","some_error":"Some Error Occurred !","validation_failed":"Validation Failed","delivery_date":"Delivery Date","not_added":"Not added yet","no_orders":"No orders created yet","add_deliverydate":"Add Delivery Date in the Appointment First !!!","daily":"Daily","weekly":"Weekly","load":"Load","unload":"UnLoad","in_time":"In time arrival","avg_elapsed":"Average elapsed time","departureTime":"Departure time","arrivalTime":"Arrival time","mapLocale":"en"}')},326:function(e){e.exports=JSON.parse('{"hello_welcome_to_react":"Hola, bienvenido a React","add":"A\xf1adir","list":"Lista","edit":"Editar","delete":"Eliminar","save":"Salvar","cancel":"Cancelar","name":"Nombre","sku":"SKU","description":"Descripci\xf3n","status":"Estado","headquarter":"Sede","wareHouses":"Almacenes","wareHouse":"Dep\xf3sito","gates":"Puertas","gate":"port\xf3n","automatic_time":"Establecer el tiempo de entrega autom\xe1ticamente","view_wareHouses":"Ver almacenes","view_gates":"Ver puertas","view_docks":"Ver muelles","create_headquarter":"Crear una sede","create_warehouse":"Crear un almac\xe9n","create_product":"Crear un producto","create_gate":"Crea una puerta","create_dock":"Crear un muelle","create_unit":"Crear una unidad","create_user":"Crear un usuario","dock":"Muelle","docks":"Muelles","no_headquarter":"No se proporciona sede ni centro de distribuci\xf3n","no_warehouse":"No se proporcionan almacenes","no_gates":"No se proporcionan puertas","no_dock":"No se proporcionan muelles","no_product_category":"No se ha proporcionado ninguna categor\xeda de producto","no_user_category":"No se proporcion\xf3 ning\xfan tipo de usuario","product_category":"categoria de producto","product":"Producto","products":"Productos","view_product":"Ver el producto","units":"Unidades","tagId":"ID de etiqueta","type":"Tipo","users":"Usuarios","fields":"Campos","product_fields":"Campos de producto","product_field":"Campo","product_units":"Unidades de producto","create_userGroup":"Crear un grupo de usuarios","create_product_type":"Crear un tipo de producto","create_field":"Crear un campo","create_holiday":"Crea una fiesta","permissions":"Permisos","user":"Usuario","user_fields":"Campos de usuario","user_field":"Campo de usuario","user_type":"Tipos de usuario","view_permissions":"Ver permisos","view_fields":"Ver campos","view_user":"Ver usuario","distribution_center":"Centro de distribucion","location":"Ubicaci\xf3n","create_location":"Crear una ubicaci\xf3n","all_locations":"Todas las localizaciones","created_Successfully":"creado con \xe9xito!","edited_Successfully":"editado con \xe9xito!","deleted_Successfully":"borrado exitosamente!","can_not_create":"No se puede crear","can_not_edit":"No puedo editar","can_not_delete":"No se puede borrar","value":"Valor","role":"Papel","name_cannot_be_blank":"El nombre no puede estar en blanco!","drop_down_value_is_required":"Se requiere un valor desplegable!","occupied":"Ocupado","not_occupied":"No ocupado","can_not_be_empty":"No puede estar vac\xedo","all":"Todas","holidays":"D\xedas festivos","holiday":"Vacaciones","select_data":"Seleccione fecha","day":"D\xeda","date":"Fecha","month":"Mes","january":"enero","february":"febrero","march":"marzo","april":"abril","may":"Mayo","june":"junio","july":"julio","august":"agosto","september":"septiembre","october":"octubre","november":"noviembre","december":"diciembre","barcode":"C\xf3digo de barras","productCode":"C\xf3digo de producto","view_product_detail":"Ver detalles del producto","view_user_detail":"Ver detalles del usuario","product_detail":"Detalles de producto","user_detail":"Detalles de usuario","add_unit":"Agregar unidad","unit_type":"Tipo de unidad","unit_name":"Nombre de la unidad","unit_tagId":"ID de etiqueta de unidad","userName":"Nombre de usuario","view":"Ver","permission_added":"Permiso ya agregado","permission_add":"Agregar permiso","password":"Contrase\xf1a","all_fields_mandatory":"Todos los campos son obligatorios","no_units":"\xa1No se agregaron unidades! Por favor agregue unidades para continuar","no_supplier":"No se proporcion\xf3 ninguna categor\xeda de proveedor","suppliers":"Proveedores","supplier":"Proveedor","supplier_details":"Detalles del proveedor","supplier_fields":"Campos de proveedores","create_supplier":"Crear proveedor","driver":"Conductor","drivers":"Conductores","no_driver":"No se crearon controladores","view_driver_details":"Ver detalles del conductor","driver_details":"Detalles del conductor","create_driver":"Crear controlador","driver_fields":"Campos de controlador","loading_map":" Cargando mapa ","no_access":"No tienes acceso a esta p\xe1gina. Solo el proveedor tiene acceso a esta p\xe1gina.","no_product_fields":" No se encontraron campos ","view_admins":" Ver usuarios administrativos ","admins":" Ver usuarios administrativos ","admin":" Usuario administrativo ","create_admin":" Crear usuario administrativo ","admin_details":" Detalles del administrador ","view_security":" Ver guardias de seguridad ","securities":" Guardias de seguridad ","security":" Guardia de seguridad ","create_security":" Crear guardia de seguridad ","security_details":" Detalles del guardia de seguridad ","view_details":" Ver detalles ","appointments":" citas ","appointment":" cita ","orders":" Pedidos ","quantity":" Cantidad ","receipt":" Agregar recibo ","doc":" Agregar documento ","total_price":" precio total ","add_order":" Agregar pedido ","create_appointment":" Crear cita ","appointment_details":" Detalles de la cita ","appointment_for":" Cita por ","schedule":" Programado el ","add_driver":" Agregar controlador ","generate_ticket":" Generar ticket ","view_ticket":" Ver ticket ","view_document":" Ver documento ","view_receipt":" Ver recibo ","add_permission":" Agregar permiso ","schedule_appointment":" Programar una cita ","quantity_cant":" La cantidad no puede estar vac\xeda o 0","price_cant":" El precio total no puede estar vac\xedo o 0","only_one_file":" Solo se puede seleccionar 1 archivo.","camera_id":" ID de c\xe1mara ","unloading_time":" Tiempo de descarga ","in_min":"( en minutos)","choose_image":" Elegir imagen ","elapse_time":" Transcurrir el tiempo ","delivery_time":" El tiempo de entrega ","start_time":" Hora de inicio ","product_types":" Tipos de producto ","end_time":" Hora de finalizaci\xf3n ","action":" Acci\xf3n ","truck_entered":" Cami\xf3n ingresado ","order_complete":" orden completada ","unloading_time_not_blank":" El tiempo de descarga no puede estar en blanco ","no_access_admin":" No tienes acceso a esta p\xe1gina. Solo los usuarios administrativos tienen acceso a esta p\xe1gina.","required":" Necesario ","licensePlate":" Placa ","truck":" Cami\xf3n ","trucks":" Camiones ","view_trucks":" Ver camiones ","add_truck":" Agregar cami\xf3n ","create_truck":" Crear cami\xf3n ","driver_cant":" El conductor debe ser seleccionado ","truck_cant":" El cami\xf3n debe ser seleccionado ","truck_fields":" Campos de camiones ","locate_driver":" Localizar controlador ","truck_field":" Campo de camiones ","mandatory":" Obligatorio ","optional":" Opcional ","truck_details":" Detalles del cami\xf3n ","error":" Error ","success":" \xc9xito ","select_type":" Seleccione un tipo ","some_error":" Ocurri\xf3 alg\xfan error!","validation_failed":" Validaci\xf3n fallida ","field_type":"Tipo de campo","text":"Texto","number":"N\xfamero","dropdown":"Desplegable","dropdown_options":"Opciones desplegables","select_permission":"Seleccione un permiso","type_enter":"Escriba y pulsa enter","initiated":"Iniciado","pending":"Pendiente","firstDayOfWeek":"1","dayNames":"[\\"domingo\\", \\"lunes\\", \\"martes\\", \\"mi\xe9rcoles\\", \\"jueves\\", \\"viernes\\", \\"s\xe1bado\\"]","dayNamesShort":"[\\"dom\\", \\"lun\\", \\"mar\\", \\"mi\xe9\\", \\"jue\\", \\"vie\\", \\"s\xe1b\\"]","dayNamesMin":"[\\"D\\", \\"L\\", \\"M\\", \\"X\\", \\"J\\", \\"V\\", \\"S\\"]","monthNames":"[\\"enero\\", \\"febrero\\", \\"marzo\\", \\"abril\\", \\"mayo\\", \\"junio\\", \\"julio\\", \\"agosto\\", \\"septiembre\\", \\"octubre\\", \\"noviembre\\", \\"diciembre\\"]","monthNamesShort":"[\\"ene\\", \\"feb\\", \\"mar\\", \\"abr\\", \\"may\\", \\"jun\\", \\"jul\\", \\"ago\\", \\"sep\\", \\"oct\\", \\"nov\\", \\"dic\\"]","today":"Hoy","clear":"Claro","changed_supplier":"Cambiado por proveedor","confirmed_supplier":"Confirmado por el proveedor","scheduled":"Programado","startDate":"Fecha de inicio","endDate":"Fecha final","accept_security":"Aceptado por el guardia de seguridad","reject_security":"Rechazado por el guardia de seguridad","truck_enter":"Cami\xf3n ingresado","complete":"Terminado","cancelled":"Cancelado","password_mismatch":"Las contrase\xf1as no coinciden.","password_changed":"Las contrase\xf1as se cambiaron correctamente.","logout":"Cerrar sesi\xf3n","appointment_type":"Tipo de cita","confirmPass":"confirmar Contrase\xf1a","changePass":"Cambia la contrase\xf1a","truck_overtime":"Horas extras de camiones","view_appointment":"Ver cita","entrance":"Entrada","exit":"Salida","delivery_date":"Fecha de entrega","not_added":"A\xfan no agregado","no_orders":"A\xfan no se han creado pedidos","add_deliverydate":"Primero agregue la fecha de entrega en la cita !!!","daily":"Diario","weekly":"Semanal","mapLocale":"es"}')},327:function(e){e.exports=JSON.parse('{"hello_welcome_to_react":"Ol\xe1, bem-vindo ao React","add":"Adicionar","list":"Lista","edit":"Editar","delete":"Excluir","save":"Salvar","cancel":"Cancelar","name":"Nome","sku":"SKU","description":"Descri\xe7\xe3o","status":"Status","headquarter":"Sede","wareHouses":"Armaz\xe9ns","wareHouse":"Armaz\xe9m","gates":"port\xf5es","gate":"Port\xe3o","view_wareHouses":"Ver Armaz\xe9m","view_gates":"Ver port\xf5es","view_docks":"Ver Docas","create_headquarter":"Crie um Sede","create_warehouse":"Crie um Armaz\xe9m","create_product":"Crie um produto","create_gate":"Crie um port\xe3o","create_dock":"Crie uma doca","create_unit":"Criar uma Unidade","create_user":"Criar um usu\xe1rio","dock":"Doca","docks":"Docas","no_headquarter":"Sem sede ou centro de distribui\xe7\xe3o fornecido","no_warehouse":"Nenhum armaz\xe9m fornecido","no_gates":"Nenhum port\xe3o fornecido","no_dock":"N\xe3o h\xe1 docas fornecidas","no_product_category":"Nenhuma categoria de produto fornecida","no_user_category":"Nenhum tipo de usu\xe1rio fornecido","product_category":"Categoria de Produto","product":"produtos","products":"Produtos","view_product":"Ver produto","units":"Unidades","tagId":"Id da tag","type":"Tipo","users":"Usu\xe1rios","fields":"Campos","firstDayOfWeek":"1","dayNames":"[\\"Domingo\\", \\"Segunda\\", \\"Ter\xe7a\\", \\"Quarta\\", \\"Quinta\\", \\"Sexta\\", \\"S\xe1bado\\"]","dayNamesShort":"[\\"Dom\\", \\"Seg\\", \\"Ter\\", \\"Qua\\", \\"Qui\\", \\"Sex\\", \\"Sab\\"]","dayNamesMin":"[\\"D\\", \\"S\\", \\"T\\", \\"Q\\", \\"Q\\", \\"S\\", \\"S\\"]","monthNames":"[\\"Janeiro\\", \\"Fevereiro\\", \\"Mar\xe7o\\", \\"Abril\\", \\"Maio\\", \\"Junho\\", \\"Julho\\", \\"Agosto\\", \\"Setembro\\", \\"Outubro\\", \\"Novembro\\", \\"Dezembro\\"]","monthNamesShort":"[\\"Jan\\", \\"Fev\\", \\"Mar\\", \\"Abr\\", \\"Mai\\", \\"Jun\\", \\"Jul\\", \\"Ago\\", \\"Set\\", \\"Out\\", \\"Nov\\", \\"Dez\\"]","today":"Hoje","clear":"Limpar","product_fields":"Campos de Produto","product_field":"Campo","product_units":"Unidades de Produto","create_userGroup":"Crie um grupo de usu\xe1rios","create_product_type":"Crie um tipo de produto","create_field":"Crie um campo","create_holiday":"Crie um feriado","permissions":"Permiss\xf5es","user":"Do utilizador","user_fields":"Campos do usu\xe1rio","user_field":"Campo do usu\xe1rio","user_type":"Tipos de usu\xe1rio","view_permissions":"Exibir permiss\xf5es","view_fields":"Ver Campos","view_user":"Ver usu\xe1rio","distribution_center":"Centro de distribui\xe7\xe3o","location":"Localiza\xe7\xe3o","create_location":"Crie um local","all_locations":"Todos os locais","created_Successfully":"criado com sucesso!","edited_Successfully":"editado com sucesso!","deleted_Successfully":"Apagado com sucesso!","can_not_create":"N\xe3o pode criar","can_not_edit":"N\xe3o pode editar","can_not_delete":"N\xe3o pode apagar","value":"Valor","role":"Fun\xe7\xe3o","name_cannot_be_blank":"O nome n\xe3o pode ficar em branco!","drop_down_value_is_required":"O valor suspenso \xe9 obrigat\xf3rio!","occupied":"Ocupada","not_occupied":"N\xe3o ocupado","can_not_be_empty":"n\xe3o pode estar vazio","all":"Todos","holidays":"Feriados","holiday":"Feriado","select_data":"Selecione a data","day":"Dia","date":"Encontro","month":"M\xeas","january":"janeiro","february":"fevereiro","march":"Mar\xe7o","april":"abril","may":"Maio","june":"Junho","july":"Julho","august":"agosto","september":"setembro","october":"Outubro","november":"novembro","december":"dezembro","barcode":"C\xf3digo de barras","productCode":"C\xf3digo do produto","view_product_detail":"Ver detalhes do produto","view_user_detail":"Exibir detalhes do usu\xe1rio","product_detail":"Detalhes do produto","user_detail":"Detalhes do usuario","add_unit":"Adicionar Unidade","unit_type":"Tipo de unidade","unit_name":"Nome da Unidade","unit_tagId":"Id da etiqueta da unidade","userName":"Nome do usu\xe1rio","view":"Vis\xe3o","permission_added":"Permiss\xe3o j\xe1 adicionada","permission_add":"Adicionar permiss\xe3o","password":"Senha","all_fields_mandatory":"Todos os campos s\xe3o necess\xe1rios","no_units":"Nenhuma unidade adicionada! Por favor, adicione unidades ao contonue","no_supplier":"Nenhuma categoria de fornecedor fornecida","suppliers":"Fornecedores","supplier":"Fornecedor","supplier_details":"Detalhes do fornecedor","supplier_fields":"Campos do Fornecedor","create_supplier":"Criar Fornecedor","driver":"Motorista","drivers":"Motoristas","no_driver":"Nenhum Motorista criado","view_driver_details":"Ver detalhes do motorista","driver_details":"Detalhes do motorista","create_driver":"Criar Motorista","loading_map":" Carregando mapa ","no_access":"Voc\xea n\xe3o tem acesso a esta p\xe1gina. Apenas o fornecedor tem acesso a esta p\xe1gina.","no_product_fields":" Nenhum campo encontrado ","view_admins":" Exibir usu\xe1rios administrativos ","admins":" Usu\xe1rios Administrativos ","admin":" Usu\xe1rio Administrativo ","create_admin":" Criar usu\xe1rio administrativo ","admin_details":" Detalhes do administrador ","view_security":" Ver Guardas de Seguran\xe7a ","securities":" Seguran\xe7as ","security":" Seguran\xe7a ","create_security":" Criar seguran\xe7a ","security_details":" Detalhes do seguran\xe7a ","view_details":" Ver detalhes ","appointments":" Compromissos ","appointment":" Compromisso ","orders":" Pedidos ","quantity":" Quantidade ","receipt":" Adicionar Recibo ","doc":" Adicionar Doc ","total_price":" Pre\xe7o total ","add_order":" Adicionar pedido ","create_appointment":" Criar Compromisso ","appointment_details":" Detalhes do compromisso ","appointment_for":" Nomea\xe7\xe3o por ","schedule":" Programado em ","add_driver":" Adicionar motorista ","generate_ticket":" Gerar t\xedquete ","view_ticket":" Ver Ingresso ","view_document":" Ver Documento ","view_receipt":" Veja o recibo ","add_permission":" Adicionar permiss\xe3o ","schedule_appointment":" Agendar consulta ","quantity_cant":" Quantidade n\xe3o pode estar vazia ou 0","price_cant":" O pre\xe7o total n\xe3o pode estar vazio ou 0","only_one_file":" Apenas 1 arquivo pode ser selecionado.","camera_id":" Id da c\xe2mera ","unloading_time":" Tempo de Descarga ","in_min":"(em minutos)","choose_image":" Escolha a imagem ","elapse_time":" Tempo passado ","delivery_time":" Tempo de entrega ","start_time":" Hora de in\xedcio ","product_types":" Tipos de Produto ","end_time":" Fim do tempo ","action":" A\xe7ao ","truck_entered":" Caminh\xe3o inserido ","order_complete":" Pedido completo ","unloading_time_not_blank":" O tempo de descarga n\xe3o pode ficar em branco ","no_access_admin":" Voc\xea n\xe3o tem acesso a esta p\xe1gina. Apenas usu\xe1rios administrativos t\xeam acesso a esta p\xe1gina.","required":" Requeridos ","licensePlate":" Placa de carro ","truck":" Caminh\xe3o ","trucks":" Caminh\xf5es ","view_trucks":" Ver caminh\xf5es ","add_truck":" Adicionar caminh\xe3o ","create_truck":" Criar caminh\xe3o ","driver_cant":" O motorista deve ser selecionado ","truck_cant":" O caminh\xe3o deve ser selecionado ","truck_fields":" Campos de caminh\xe3o ","locate_driver":" Localizar Motorista ","truck_field":" Campo de caminh\xe3o ","mandatory":" Obrigat\xf3rio ","optional":" Opcional ","truck_details":" Detalhes do caminh\xe3o ","error":" Erro ","success":" Sucesso ","select_type":" Selecione um tipo ","some_error":" Algum erro ocorreu!","validation_failed":" Falha na valida\xe7\xe3o ","field_type":"Tipo de campo","text":"Texto","number":"N\xfamero","dropdown":"Suspenso","dropdown_options":"Op\xe7\xf5es suspensas","select_permission":"Selecione uma permiss\xe3o","type_enter":"digite e pressione Enter","initiated":"Iniciado","pending":"Pendente","changed_supplier":"Alterado pelo fornecedor","confirmed_supplier":"Confirmado pelo fornecedor","scheduled":"Programado","startDate":"Data de in\xedcio","endDate":"Data final","accept_security":"Aceito pelo seguran\xe7a","reject_security":"Rejeitado pelo seguran\xe7a","truck_enter":"Caminh\xe3o entrou","complete":"Conclu\xeddo","automatic_time":"Definir o tempo de entrega automaticamente","cancelled":"Cancelado","password_mismatch":"As senhas n\xe3o coincidem.","password_changed":"Senhas alteradas com sucesso.","logout":"Sair","appointment_type":"Tipo de Compromisso","confirmPass":"Confirme a Senha","changePass":"Alterar a senha","truck_overtime":"Horas extras de caminh\xe3o","view_appointment":"Ver Compromisso","entrance":"Entrada","exit":"Sa\xedda","delivery_date":"Data de entrega","not_added":"Ainda n\xe3o adicionado","no_orders":"Nenhum pedido criado ainda","add_deliverydate":"Adicione a data de entrega no compromisso primeiro !!!","driver_fields":"Campos do motorista","daily":"\xdanico","weekly":"Semanal","mapLocale":"pt-BR"}')},329:function(e,t,a){e.exports=a(754)},606:function(e,t,a){},73:function(e,t,a){},754:function(e,t,a){"use strict";a.r(t);a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(156),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(374),a(375),a(376),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(388),a(389),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(404),a(405),a(406),a(407),a(408),a(409),a(411),a(413),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426),a(427),a(428),a(429),a(430),a(431),a(432),a(433),a(434),a(435),a(437),a(438),a(441),a(442),a(443),a(445),a(446),a(447),a(448),a(449),a(450),a(451),a(452),a(453),a(454),a(455),a(257),a(456),a(457),a(458),a(459),a(460),a(461),a(462),a(260),a(463),a(464),a(465),a(466),a(467),a(468),a(469),a(470),a(471),a(472),a(473),a(474),a(475),a(476),a(477),a(478),a(479),a(480),a(481),a(482),a(483),a(484),a(485),a(486),a(487),a(488),a(490),a(491),a(492),a(493),a(494),a(495),a(496),a(497),a(498),a(499),a(500),a(501),a(502),a(503),a(504),a(505),a(506),a(507),a(508),a(509),a(510),a(511),a(512),a(513),a(514),a(515),a(516),a(517),a(518),a(519),a(520),a(521),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(529),a(530),a(533),a(268);var n=a(0),r=a.n(n),s=a(28),i=a.n(s),l=a(7),o=a(8),c=a(16),u=a(15),d=a(109),p=a(5),m=a(13),h=a.n(m),v=a(26),g=a(150),f=a(12),y=a(21),b=a(3),E=a(17),w=a(10),S=a.n(w),k=a(294).dev,C=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getSupplierType",value:function(){return S.a.get(k+"v1/user-type",{params:{role:4},headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getDashboardData",value:function(){return S.a.get(k+"v1/dashboard",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e.data}))}},{key:"changePassword",value:function(e,t){return S.a.patch(k+"v1/user/"+t,{password:e},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAdminType",value:function(){return S.a.get(k+"v1/user-type",{params:{role:8},headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getSecurityType",value:function(){return S.a.get(k+"v1/user-type",{params:{role:5},headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getDriverType",value:function(){return S.a.get(k+"v1/user-type",{params:{role:6},headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"editUser",value:function(e,t){return S.a.patch(k+"v1/user/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllUser",value:function(e){return S.a.get(k+"v1/user?userType="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllAdmins",value:function(e,t){return S.a.get(k+"v1/user?userType="+e+"&dock="+t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllSecurityGuards",value:function(e,t){return S.a.get(k+"v1/user?userType="+e+"&gate="+t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllDrivers",value:function(e){return S.a.get(k+"v1/user?parent="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createUser",value:function(e){return S.a.post(k+"v1/user",e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteUser",value:function(e){return S.a.delete(k+"v1/user/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),N=a(758),_=a(22),T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={languageList:[{label:"English",value:"en"},{label:"Portuguese",value:"pr"},{label:"Spanish",value:"sp"}],language:localStorage.getItem("i18nextLng")?localStorage.getItem("i18nextLng"):"pr",user:JSON.parse(localStorage.getItem("daym-user"))},e.handleChangePassword=e.handleChangePassword.bind(Object(p.a)(e)),e.userService=new C,e}return Object(o.a)(a,[{key:"onTopbarItemClick",value:function(e,t){this.props.onTopbarItemClick&&this.props.onTopbarItemClick({originalEvent:e,item:t})}},{key:"handleChangePassword",value:function(){var e=this;this.state.password===this.state.passwordConf?(this.setState({buttonLoading:!0}),this.userService.changePassword(this.state.password,this.state.user._id).then((function(t){e.growl.show({severity:"success",summary:e.props.t("error"),detail:e.props.t("password_changed")}),e.setState({loading:!1,passwordOpen:!1})})).catch((function(t){var a=t&&t.response&&t.response.data&&t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})})).finally((function(){e.setState({buttonLoading:!1})}))):this.growl.show({severity:"warn",summary:this.props.t("error"),detail:this.props.t("password_mismatch")})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({passwordOpen:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleChangePassword,label:this.props.t("save")}));return r.a.createElement("div",{className:"layout-topbar"},r.a.createElement("div",{style:{padding:"12px 20px"}},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("button",{className:"p-link layout-menu-button layout-topbar-icon",onClick:this.props.onMenuButtonClick},r.a.createElement("i",{className:"pi pi-bars"})),r.a.createElement("button",{className:"p-link layout-topbar-logo",onClick:function(){return window.location="#/"}},r.a.createElement("img",{id:"topbar-logo",src:"assets/layout/images/logo-roma-white.svg",alt:"roma-react"})),r.a.createElement("ul",{className:"topbar-menu"},r.a.createElement("li",{className:"user-profile"},r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:10,color:"white",margin:"unset"}},"Language"),r.a.createElement(v.Dropdown,{style:{marginTop:4},options:this.state.languageList,value:this.state.language,onChange:function(t){e.setState({language:t.value}),g.a.changeLanguage(t.value)},autoWidth:!1}))),r.a.createElement("li",{className:h()("user-profile",{"active-topmenuitem fadeInDown":"profile"===this.props.activeTopbarItem})},!this.props.inlineUser&&r.a.createElement("button",{className:"p-link",onClick:function(t){return e.onTopbarItemClick(t,"profile")}},r.a.createElement("img",{src:this.state.user.avatar,alt:"roma-layout"}),r.a.createElement("div",{className:"layout-profile-userinfo"},r.a.createElement("span",{className:"layout-profile-name"},this.state.user.name),r.a.createElement("span",{className:"layout-profile-role"},this.state.user.userType.name))),r.a.createElement("ul",{className:"fadeInDown"},r.a.createElement("li",null,r.a.createElement("button",{className:"p-link",onClick:function(){localStorage.removeItem("daym-user"),localStorage.removeItem("daym-tok"),window.location.reload()}},r.a.createElement("i",{className:"pi pi-fw pi-cog"}),r.a.createElement("span",null,this.props.t("logout")))),r.a.createElement("li",null,r.a.createElement("button",{className:"p-link",onClick:function(){e.setState({passwordOpen:!0})}},r.a.createElement("i",{className:"pi pi-fw pi-lock"}),r.a.createElement("span",null,this.props.t("changePass"))))),r.a.createElement(y.Dialog,{header:this.props.t("changePass"),visible:this.state.passwordOpen,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({passwordOpen:!1})}},r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{type:"password",placeholder:this.props.t("password"),value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{type:"password",placeholder:this.props.t("confirmPass"),value:this.state.passwordConf,onChange:function(t){return e.setState({passwordConf:t.target.value})}})))))))))}}]),a}(n.Component);T.defaultProps={onMenuButtonClick:null,onTopbarMenuButtonClick:null,onTopbarItemClick:null,onRightMenuButtonClick:null,topbarMenuActive:!1,activeTopbarItem:null,inlineUser:null,onThemeChange:null};var D=Object(N.a)()(T),O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout-footer"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-6"},r.a.createElement("h2",null,"HUNTER"),r.a.createElement("p",null,"Powered By GTP Automation")),r.a.createElement("div",{className:"p-col-6 footer-icons"},r.a.createElement("button",{className:"p-link"},r.a.createElement("i",{className:"pi pi-home"})),r.a.createElement("button",{className:"p-link"},r.a.createElement("i",{className:"pi pi-globe"})),r.a.createElement("button",{className:"p-link"},r.a.createElement("i",{className:"pi pi-envelope"})))))}}]),a}(n.Component),x=a(123),V=a(94),j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"onMenuItemClick",value:function(e,t,a){if(t.disabled)return e.preventDefault(),!0;this.props.root&&this.props.onRootItemClick&&this.props.onRootItemClick({originalEvent:e,item:t}),t.items&&e.preventDefault(),t.command&&(t.command({originalEvent:e,item:t}),e.preventDefault()),a===this.state.activeIndex?this.setState({activeIndex:null}):this.setState({activeIndex:a}),this.props.onMenuItemClick&&this.props.onMenuItemClick({originalEvent:e,item:t})}},{key:"onMenuItemMouseEnter",value:function(e){this.props.root&&this.props.menuActive&&this.isHorizontalOrSlim()&&!this.isMobile()&&this.setState({activeIndex:e})}},{key:"componentDidUpdate",value:function(e,t,a){this.isHorizontalOrSlim()&&!this.isMobile()&&e.menuActive&&!this.props.menuActive&&this.setState({activeIndex:null})}},{key:"isMobile",value:function(){return window.innerWidth<=1025}},{key:"isHorizontalOrSlim",value:function(){return"horizontal"===this.props.layoutMode||"slim"===this.props.layoutMode}},{key:"renderLinkContent",value:function(e){var t=e.items&&r.a.createElement("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"});return r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:h()(e.icon,"layout-menuitem-icon")}),r.a.createElement("span",{className:"layout-menuitem-text"},e.label),t)}},{key:"renderLink",value:function(e,t){var a=this,n=this.renderLinkContent(e);return e.to?r.a.createElement(x.b,{activeClassName:"active-menuitem-routerlink",to:e.to,onClick:function(n){return a.onMenuItemClick(n,e,t)},exact:!0,target:e.target,onMouseEnter:function(e){return a.onMenuItemMouseEnter(t)},className:e.styleClass},n):r.a.createElement("button",{onClick:function(n){return a.onMenuItemClick(n,e,t)},onMouseEnter:function(e){return a.onMenuItemMouseEnter(t)},className:h()(e.styleClass,"p-link")},n)}},{key:"render",value:function(){var e=this,t=this.props.items&&this.props.items.map((function(t,n){var s=e.state.activeIndex===n,i=h()(t.badgeStyleClass,{"active-menuitem":s}),l=e.props.root&&r.a.createElement("div",{className:"layout-menu-tooltip"},r.a.createElement("div",{className:"layout-menu-tooltip-arrow"}),r.a.createElement("div",{className:"layout-menu-tooltip-text"},t.label));return r.a.createElement("li",{className:i,key:n},e.renderLink(t,n),l,r.a.createElement(V.CSSTransition,{classNames:"layout-submenu",timeout:{enter:400,exit:400},in:s},r.a.createElement(a,{items:t.items,onMenuItemClick:e.props.onMenuItemClick,layoutMode:e.props.layoutMode,menuActive:e.props.menuActive,parentMenuItemActive:s})))}));return t?r.a.createElement("ul",{className:this.props.className},t):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.parentMenuItemActive?{activeIndex:null}:null}}]),a}(n.Component);j.defaultProps={className:null,items:null,onMenuItemClick:null,onRootItemClick:null,root:!1,layoutMode:null,menuActive:!1,parentMenuItemActive:!1};var I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(j,{items:this.props.model,className:"layout-menu",menuActive:this.props.active,onRootItemClick:this.props.onRootMenuItemClick,onMenuItemClick:this.props.onMenuItemClick,root:!0,layoutMode:this.props.layoutMode,parentMenuItemActive:!0})}}]),a}(n.Component);I.defaultProps={model:null,onMenuItemClick:null,onRootMenuItemClick:null,layoutMode:null,active:!1};var B=a(53),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=[{name:"Light",topbarColor:"layout-topbar-light",logo:"logo-roma",image:"light.png"},{name:"Dark",topbarColor:"layout-topbar-dark",logo:"logo-roma-white",image:"dark.png"},{name:"Blue",topbarColor:"layout-topbar-blue",logo:"logo-roma-white",image:"blue.png"},{name:"Green",topbarColor:"layout-topbar-green",logo:"logo-roma-white",image:"green.png"},{name:"Orange",topbarColor:"layout-topbar-orange",logo:"logo-roma-white",image:"orange.png"},{name:"Magenta",topbarColor:"layout-topbar-magenta",logo:"logo-roma-white",image:"magenta.png"},{name:"Blue Grey",topbarColor:"layout-topbar-bluegrey",logo:"logo-roma-white",image:"bluegrey.png"},{name:"Deep Purple",topbarColor:"layout-topbar-deeppurple",logo:"logo-roma-white",image:"deeppurple.png"},{name:"Brown",topbarColor:"layout-topbar-brown",logo:"logo-roma-white",image:"brown.png"},{name:"Lime",topbarColor:"layout-topbar-lime",logo:"logo-roma-white",image:"lime.png"},{name:"Rose",topbarColor:"layout-topbar-rose",logo:"logo-roma-white",image:"rose.png"},{name:"Cyan",topbarColor:"layout-topbar-cyan",logo:"logo-roma-white",image:"cyan.png"},{name:"Teal",topbarColor:"layout-topbar-teal",logo:"logo-roma-white",image:"teal.png"},{name:"Deep Orange",topbarColor:"layout-topbar-deeporange",logo:"logo-roma-white",image:"deeporange.png"},{name:"Indigo",topbarColor:"layout-topbar-indigo",logo:"logo-roma-white",image:"indigo.png"},{name:"Pink",topbarColor:"layout-topbar-pink",logo:"logo-roma-white",image:"pink.png"},{name:"Purple",topbarColor:"layout-topbar-purple",logo:"logo-roma-white",image:"purple.png"}],a=[{name:"Blue",file:"blue",image:"blue.svg"},{name:"Blue Grey",file:"bluegrey",image:"bluegrey.svg"},{name:"Brown",file:"brown",image:"brown.svg"},{name:"Cyan",file:"cyan",image:"cyan.svg"},{name:"Deep Orange",file:"deeporange",image:"deeporange.svg"},{name:"Deep Purple",file:"deeppurple",image:"deeppurple.svg"},{name:"Green",file:"green",image:"green.svg"},{name:"Teal",file:"teal",image:"teal.svg"},{name:"Indigo",file:"indigo",image:"indigo.svg"},{name:"Lime",file:"lime",image:"lime.svg"},{name:"Magenta",file:"magenta",image:"magenta.svg"},{name:"Orange",file:"orange",image:"orange.svg"},{name:"Pink",file:"pink",image:"pink.svg"},{name:"Purple",file:"purple",image:"purple.svg"},{name:"Rose",file:"rose",image:"rose.svg"}];return r.a.createElement("div",{className:h()("layout-config",{"layout-config-active":this.props.configDialogActive}),onClick:this.props.onConfigClick},r.a.createElement("div",{className:"layout-config-content"},r.a.createElement("button",{className:"layout-config-button",id:"layout-config-button",onClick:this.props.onConfigButtonClick},r.a.createElement("i",{className:"pi pi-cog"})),r.a.createElement("button",{className:"layout-config-close",onClick:this.props.onConfigCloseClick},r.a.createElement("i",{className:"pi pi-times"})),r.a.createElement(B.TabView,null,r.a.createElement(B.TabPanel,{header:"Menu",headerClassName:""},r.a.createElement("h1",null,"Menu Modes"),r.a.createElement("div",{className:"panel-items"},r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeMenuMode({originalEvent:t,menuMode:"static"})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-static.png",alt:"roma"}),"static"===this.props.layoutMode&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Static")),r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeMenuMode({originalEvent:t,menuMode:"overlay"})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-overlay.png",alt:"roma"}),"overlay"===this.props.layoutMode&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Overlay")),r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeMenuMode({originalEvent:t,menuMode:"horizontal"})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-horizontal.png",alt:"roma"}),"horizontal"===this.props.layoutMode&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Horizontal")),r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeMenuMode({originalEvent:t,menuMode:"slim"})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-slim.png",alt:"roma"}),"slim"===this.props.layoutMode&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Slim"))),r.a.createElement("h1",null,"Menu Colors"),r.a.createElement("div",{className:"panel-items"},r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeMenuColor({originalEvent:t,lightMenu:!1})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-dark.png",alt:"roma"}),!1===this.props.lightMenu&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Dark")),r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeMenuColor({originalEvent:t,lightMenu:!0})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-static.png",alt:"roma"}),!0===this.props.lightMenu&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Light")))),r.a.createElement(B.TabPanel,{header:"User Profile",headerClassName:""},r.a.createElement("div",{className:"panel-items"},r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:h()("p-link",{"p-disabled":"horizontal"===this.props.layoutMode}),onClick:function(t){return e.props.changeProfileMode({originalEvent:t,inlineUser:!0})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-inline.png",alt:"roma"}),!0===this.props.inlineUser&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Inline")),r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:h()("p-link",{"p-disabled":"horizontal"===this.props.layoutMode}),onClick:function(t){return e.props.changeProfileMode({originalEvent:t,inlineUser:!1})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-popup.png",alt:"roma"}),!1===this.props.inlineUser&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"Overlay")))),r.a.createElement(B.TabPanel,{header:"Orientation",headerClassName:""},r.a.createElement("div",{className:"panel-items"},r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeOrientation({originalEvent:t,isRTL:!1})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-rtl.png",alt:"roma"}),!1===this.props.isRTL&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"LTR")),r.a.createElement("div",{className:"panel-item"},r.a.createElement("button",{className:"p-link",onClick:function(t){return e.props.changeOrientation({originalEvent:t,isRTL:!0})}},r.a.createElement("img",{src:"assets/layout/images/configurator/menu/roma-static.png",alt:"roma"}),!0===this.props.isRTL&&r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("span",null,"RTL")))),r.a.createElement(B.TabPanel,{header:"Topbar"},r.a.createElement("div",{className:"panel-items"},t&&t.map((function(t,a){return r.a.createElement("div",{className:"panel-item colors",key:a},r.a.createElement("button",{className:"p-link layout-config-option",onClick:function(a){return e.props.changeTopbarColor({originalEvent:a,topbarColor:t.topbarColor,logo:t.logo})}},r.a.createElement("img",{src:"assets/layout/images/configurator/topbar/"+t.image,alt:t.name}),e.props.topbarColor===t.topbarColor&&r.a.createElement("i",{className:"pi pi-check"})))})))),r.a.createElement(B.TabPanel,{header:"Themes"},r.a.createElement("div",{className:"panel-items"},a&&a.map((function(t,a){return r.a.createElement("div",{className:"panel-item colors",key:a},r.a.createElement("button",{className:"p-link layout-config-option",onClick:function(a){return e.props.changeTheme({originalEvent:a,theme:t.file})}},r.a.createElement("img",{src:"assets/layout/images/configurator/themes/"+t.image,alt:t.name}),e.props.themeColor===t.file&&r.a.createElement("i",{className:"pi pi-check"})))})))))))}}]),a}(n.Component);A.defaultProps={layoutMode:"slim",lightMenu:!0,isRTL:!1,inlineUser:!1,topbarColor:"layout-topbar-blue",themeColor:"blue",configDialogActive:!1};var M=a(96),L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:h()("layout-right-panel",{"layout-right-panel-active":this.props.rightPanelMenuActive}),onClick:this.props.onRightMenuClick},r.a.createElement(B.TabView,null,r.a.createElement(B.TabPanel,{header:"Status"},r.a.createElement("div",{className:"status-title"},r.a.createElement("span",null,"Datacenter Status"),r.a.createElement("i",{className:"pi pi-download"})),r.a.createElement("div",null,r.a.createElement(M.ProgressBar,{value:88,showValue:!1})),r.a.createElement("div",{className:"status-content"},r.a.createElement("span",{className:"percentage-1"},"65"),r.a.createElement("span",{className:"percentage-2"},"/88")," Servers Online"),r.a.createElement("div",{className:"status-title"},r.a.createElement("span",null,"Performance Status"),r.a.createElement("i",{className:"pi pi-clock"})),r.a.createElement("div",null,r.a.createElement(M.ProgressBar,{value:65,showValue:!1})),r.a.createElement("div",{className:" status-content"},r.a.createElement("span",{className:" percentage-1"},"4"),r.a.createElement("span",{className:" percentage-2"},"/5"),"Active Pipeline"),r.a.createElement("div",{className:" status-title"},r.a.createElement("span",null,"Drivers on Way"),r.a.createElement("i",{className:" pi pi-cloud"})),r.a.createElement("div",null,r.a.createElement(M.ProgressBar,{value:35,showValue:!1})),r.a.createElement("div",{className:" status-content"},r.a.createElement("span",{className:" percentage-1"},"12"),r.a.createElement("span",{className:" percentage-2"},"/40"),"Drivers"),r.a.createElement("div",{className:" status-title"},r.a.createElement("span",null,"Datacenter Status"),r.a.createElement("i",{className:" pi pi-map-marker"})),r.a.createElement("div",null,r.a.createElement(M.ProgressBar,{value:85,showValue:!1})),r.a.createElement("div",{className:" status-content"},r.a.createElement("span",{className:" percentage-1"},"65"),r.a.createElement("span",{className:" percentage-2"},"/88"),"Servers Online")),r.a.createElement(B.TabPanel,{header:"Messages"},r.a.createElement("div",{className:"messages-title"},r.a.createElement("span",null,"November 13, 2018")),r.a.createElement("div",{className:"messages-content p-grid p-col"},r.a.createElement("div",{className:"time p-col-4"},"00:00 GMT+03:00"),r.a.createElement("div",{className:"message-1 p-col-8"},"All systems reporting at 100%")),r.a.createElement("div",{className:"messages-title"},r.a.createElement("span",null,"November 12, 2018")),r.a.createElement("div",{className:"messages-content p-grid p-col"},r.a.createElement("span",{className:"time p-col-4"},"00:00 GMT+03:00"),r.a.createElement("span",{className:"message-1 p-col-8"},"All systems reporting at 100%")),r.a.createElement("div",{className:"messages-title"},r.a.createElement("span",null,"November 7, 2018")),r.a.createElement("div",{className:"messages-content p-grid p-col"},r.a.createElement("span",{className:"time p-col-4"},"09:23 GMT+03:00"),r.a.createElement("span",{className:"message-1 p-col-8"},"Everything operating normally."),r.a.createElement("span",{className:"time p-col-4"},"08:58 GMT+03:00"),r.a.createElement("span",{className:"message-2 p-col-8"},"We're investigating delays inupdates to PrimeFaces.org."),r.a.createElement("span",{className:"time p-col-4"},"08:50 GMT+03:00"),r.a.createElement("span",{className:"message-2 p-col-8"},"We are investigating reports of elevated error rates.")))))}}]),a}(n.Component);L.defaultProps={onRightMenuClick:null,rightPanelMenuActive:null};var P=a(4),F=a(19),U=a(31),W=a.n(U),q=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],loading:!0,dashboardData:{},methods:[]},e.userService=new C,e}return Object(o.a)(a,[{key:"checkPermission",value:function(e){return e.filter((function(e){return"/users"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this;this.userService.getDashboardData().then((function(t){console.log("Ressss----\x3e",t),e.setState({dataTableValue:t.orders,dashboardData:t,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement("div",{className:"p-grid layout-dashboard"},r.a.createElement("div",{className:"p-col-12 p-md-6 p-lg-4"},r.a.createElement("div",{className:"overview-box card"},r.a.createElement("div",{className:"overview-box-title"},this.props.t("avg_elapsed")),r.a.createElement("div",{className:"overview-box-value"},this.state.dashboardData.avgReceiptTime+" mins"),r.a.createElement("img",{src:"assets/layout/images/dashboard/graph-purchases.svg",alt:"roma"}))),r.a.createElement("div",{className:"p-col-12 p-md-6 p-lg-4"},r.a.createElement("div",{className:"overview-box card"},r.a.createElement("div",{className:"overview-box-title"},this.props.t("in_time")),r.a.createElement("div",{className:"overview-box-value"},this.state.dashboardData.percentageOnArrival+" %"),r.a.createElement("img",{src:"assets/layout/images/dashboard/graph-messages.svg",alt:"roma"}))),r.a.createElement("div",{className:"p-col-12 p-md-12 p-lg-12",style:{marginTop:40}}),r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:null,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"supplier",header:this.props.t("supplier"),sortable:!0}),r.a.createElement(P.Column,{field:"materialType",header:this.props.t("product"),sortable:!0}),r.a.createElement(P.Column,{field:"amount",header:this.props.t("amount"),sortable:!0}),r.a.createElement(P.Column,{body:function(t){return 1===t.operationType?e.props.t("unload"):e.props.t("load")},header:this.props.t("type"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"vehicle",header:this.props.t("truck"),sortable:!0}),r.a.createElement(P.Column,{field:"vehicleLicense",header:this.props.t("licensePlate"),sortable:!0}),r.a.createElement(P.Column,{field:"driver",header:this.props.t("driver"),sortable:!0}),r.a.createElement(P.Column,{field:"driverUserId",header:this.props.t("driver")+" "+this.props.t("userName"),sortable:!0}),r.a.createElement(P.Column,{field:"warehouse",header:this.props.t("wareHouse"),sortable:!0}),r.a.createElement(P.Column,{body:function(e){return W()(e.schedulingTime).format("YYYY-MM-DD hh:mm A")},header:this.props.t("schedule"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{body:function(e){return W()(e.arrivalTime).format("YYYY-MM-DD hh:mm A")},header:this.props.t("arrivalTime"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{body:function(e){return W()(e.departureTime).format("YYYY-MM-DD hh:mm A")},header:this.props.t("departureTime"),style:{textAlign:"center"}}))))}}]),a}(n.Component),G=Object(N.a)()(q),R=(a(600),a(601),a(602),a(603),a(604),a(605),a(606),a(24)),H=a(11),z=a.n(H),J=a(23),Y=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editGate",value:function(e,t){return S.a.patch(k+"v1/address/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllGates",value:function(e){return S.a.get(k+"v1/address",{params:{location:e,addressType:2},headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createGate",value:function(e,t,a,n,r){return S.a.post(k+"v1/address",{name:e,cameraId:t,gateType:r,location:a,wkt:n,addressType:2},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteGate",value:function(e){return S.a.delete(k+"v1/address/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),$=a(62),Q=a(75),K=a(61),Z=a.n(K);var X=Object(N.a)()(Object(Q.GoogleApiWrapper)((function(e){return{apiKey:"AIzaSyBBYqXYQ_WN8pz5RSyZwN97basD2xdxfHA",language:e.language}}))((function(e){var t=e.google,a=e.setCoordinates,s=e.coordinate,i=e.initialCenter,l=e.t,o=Object(n.useState)(s===[]?s:s.map((function(e){return{lat:e[0],lng:e[1]}}))),c=Object($.a)(o,2),u=c[0],d=c[1],p=Object(n.useState)({mapCenter:{lat:s.length>0?s[0][0]:i&&i[0]||"-5.266008",lng:s.length>0?s[0][1]:i&&i[1]||"-37.048647"}}),m=Object($.a)(p,2),h=m[0];return m[1],r.a.createElement("div",{id:"googleMaps",style:{position:"unset !important"}},r.a.createElement(Q.Map,{zoom:s.length>0?16:13,google:t,onClick:function(e,t,a){d([].concat(Object(R.a)(u),[{lat:a.latLng.lat(),lng:a.latLng.lng()}]))},containerStyle:{width:"27vw",height:"40vh",position:"relative",margin:"15px 0"},initialCenter:{lat:h.mapCenter.lat,lng:h.mapCenter.lng}},1===u.length?r.a.createElement(Q.Marker,{name:"Click another point to start geo fencing",title:"Click another point to start geo fencing",position:u[0]}):r.a.createElement(Q.Polygon,{paths:u})),r.a.createElement(b.Button,{onClick:function(){return d([])},label:l("cancel"),style:{marginRight:"10px"}}),r.a.createElement(b.Button,{icon:"pi pi-check",onClick:function(){if(0!==u.length){var e={type:1===u.length?"Point":2===u.length?"LineString":"Polygon",coordinates:1===u.length?[u[0].lat,u[0].lng]:2===u.length?u.map((function(e){return[e.lat,e.lng]})):[u.map((function(e){return[e.lat,e.lng]}))]};a(Object(K.stringify)(e))}},label:l("save")}))}))),ee=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editHeadQuarter",value:function(e,t){return S.a.patch(k+"v1/location/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllHeadquaters",value:function(){return S.a.get(k+"v1/location",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getHeadQuarterDetails",value:function(e){return S.a.get("".concat(k,"v1/location/").concat(e),{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createHeadQuarter",value:function(e,t,a){return S.a.post(k+"v1/location",{name:e,type:t,crs:"EPSG4326",wkt:a,rotation:"0",mapFile:"icon.png"},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteHeadQuarter",value:function(e){return S.a.delete(k+"v1/location/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),te=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],methods:[],types:[],locale:"",type:1,loading:!0,buttonLoading:!1,deleteLoading:!1},e.gatesService=new Y,e.hqService=new ee,e.handleCreateGate=e.handleCreateGate.bind(Object(p.a)(e)),e.handleDeleteGate=e.handleDeleteGate.bind(Object(p.a)(e)),e.viewSecurities=e.viewSecurities.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteGate(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,wkt:e.wkt,cameraId:e.cameraId,type:e.gateType,editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/gate"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/gate"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({locationId:a}),this.hqService.getHeadQuarterDetails(a).then((function(t){e.setState({hq:t.data}),e.gatesService.getAllGates(a||"").then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(e){}))}))}},{key:"componentDidUpdate",value:function(e,t,a){this.state.locale!==localStorage.getItem("i18nextLng")&&this.setState({types:[{label:this.props.t("entrance"),value:1},{label:this.props.t("exit"),value:2}],locale:localStorage.getItem("i18nextLng")})}},{key:"validate",value:function(){return this.state.name?this.state.cameraId?!!this.state.wkt||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("location")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("camera_id")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateGate",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,cameraId:this.state.cameraId,wkt:this.state.wkt,gateType:this.state.type};this.gatesService.editGate(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("gate")+" "+e.props.t("edited_Successfully")}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("gate")}),e.setState({buttonLoading:!1})}))}else this.gatesService.createGate(this.state.name,this.state.cameraId,this.state.locationId,this.state.wkt,this.state.type).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("gate")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("gate")}),e.setState({buttonLoading:!1})}))}},{key:"handleDeleteGate",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.gatesService.deleteGate(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("gate")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("gate")}),t.setState({deleteLoading:!1})}))}},{key:"viewSecurities",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:this.props.t("view_security"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/manage-security/"+e._id}}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateGate,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},this.state.hq&&r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("gates"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("camera_id"),style:{width:"100%"},value:this.state.cameraId,onChange:function(t){return e.setState({cameraId:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("type"),value:this.state.type,options:this.state.types,onChange:function(t){e.setState({type:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(X,{language:this.props.t("mapLocale"),initialCenter:Z.a.parse(this.state.hq.wkt).coordinates,setCoordinates:function(t){e.setState({wkt:t})},coordinate:this.state.editData?Z.a.parse(this.state.editData.wkt).coordinates[0]:[]})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_gate"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",cameraId:"",type:1,editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("gates")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"cameraId",header:this.props.t("camera_id"),sortable:!0}),r.a.createElement(P.Column,{body:function(t){return 1===t.occupiedStatus?e.props.t("not_occupied"):e.props.t("occupied")},header:this.props.t("status")}),r.a.createElement(P.Column,{body:function(t){return 1===t.gateType?e.props.t("entrance"):e.props.t("exit")},header:this.props.t("type")}),r.a.createElement(P.Column,{header:this.props.t("securities"),body:this.viewSecurities,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}}))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_gates"))))}}]),a}(n.Component),ae=Object(N.a)()(te),ne=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editDock",value:function(e,t){return S.a.patch(k+"v1/address/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllDocks",value:function(e){return S.a.get(k+"v1/address",{params:{parentId:e},headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createDock",value:function(e,t,a,n,r,s,i){return S.a.post(k+"v1/address",{name:e,startingTime:t,endingTime:a,productTypes:n,location:r,parentId:s,wkt:i,addressType:3,parentType:"warehouse"},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteDock",value:function(e){return S.a.delete(k+"v1/address/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),re=a(50),se=a(30),ie=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllAppointments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S.a.get(k+"v1/appointment?$populate[0]=user&$populate[1]=supplier&$populate[2]=entranceGate&$populate[3]=driver&$populate[4]=truck&$populate[5]=exitGate&$populate[6]=userType"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllAppointmentsForCalendar",value:function(){return S.a.get(k+"v1/order?orderInfo=true",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"uploadFile",value:function(e){var t=new FormData;return e.map((function(e,a){return t.append("demo"+a,e)})),S.a.post(k+"v1/upload",t,{headers:{"Content-Type":"multipart/form-data;",Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAppointment",value:function(e){return S.a.get(k+"v1/appointment/"+e+"?$populate[0]=user&$populate[1]=supplier&$populate[2]=entranceGate&$populate[3]=driver&$populate[4]=truck&$populate[5]=exitGate&$populate[6]=userType",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"updateStatusToThree",value:function(e,t){return S.a.patch(k+"v1/appointment/"+e+"?$populate[0]=user&$populate[1]=supplier&$populate[2]=entranceGate&$populate[3]=driver&$populate[4]=truck&$populate[5]=exitGate&$populate[6]=userType",{receipt:t,status:3},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"updateStatusToFour",value:function(e,t,a){return S.a.patch(k+"v1/appointment/"+e+"?$populate[0]=user&$populate[1]=supplier&$populate[2]=entranceGate&$populate[3]=driver&$populate[4]=truck&$populate[5]=exitGate&$populate[6]=userType",{entranceGate:t,exitGate:a,status:4},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"changeStatus",value:function(e,t,a){return S.a.patch(k+"v1/order/"+e,{status:t,appointment:a},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"addDriver",value:function(e,t,a,n){return console.log("Extra",n),S.a.patch(k+"v1/appointment/"+e+"?$populate[0]=user&$populate[1]=supplier&$populate[2]=entranceGate&$populate[3]=driver&$populate[4]=truck&$populate[5]=exitGate&$populate[6]=userType",Object(se.a)({driver:t,truck:a},n),{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"cancelAppointment",value:function(e){return S.a.patch(k+"v1/appointment/"+e+"?$populate[0]=user&$populate[1]=supplier&$populate[2]=entranceGate&$populate[3]=driver&$populate[4]=truck&$populate[5]=exitGate&$populate[6]=userType",{status:-1},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"generateTicket",value:function(e,t){return S.a.post(k+"v1/generate-ticket",{appointment:e,language:t},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"notifyDriver",value:function(e,t){return S.a.post(k+"v1/notification",{text:e,users:t},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getDriverCoordinate",value:function(e){return S.a.get(k+"v1/driver-session?status=1&appointment="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e.data[0]}))}},{key:"getAllProducts",value:function(){return S.a.get(k+"v1/product?$populate[0]=productType",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllProductTypes",value:function(){return S.a.get(k+"v1/product-type",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllDocks",value:function(){return S.a.get(k+"v1/address?addressType=3&$populate[0]=parentId",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllGates",value:function(){return S.a.get(k+"v1/address?addressType=2",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllSuppliers",value:function(e,t){return e?S.a.get(k+"v1/user-type?role[$in]=1&role[$in]=2&role[$in]=3",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e})):S.a.get(k+"v1/user?role=4"+(t?"":"&getAllFields=false"),{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllDriver",value:function(e){return S.a.get(k+"v1/user?parent="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllTrucks",value:function(e){return S.a.get(k+"v1/truck?user="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createAppointment",value:function(e,t,a,n,r,s){var i=1===n?{deliveryOn:a}:{},l=Object(se.a)(Object(se.a)({},4===JSON.parse(localStorage.getItem("daym-user")).role?{userType:e}:{supplier:e}),{},{orders:t,operationType:r},s);return 1===n?S.a.post(k+"v1/appointment?$populate[0]=user&$populate[1]=supplier&$populate[2]=userType",Object(se.a)(Object(se.a)({},i),l),{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e})):S.a.post(k+"v1/create-weekly-appointment",Object(se.a)(Object(se.a)({},i),l),{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),le=a(107),oe=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editWarehouse",value:function(e,t){return S.a.patch(k+"v1/address/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllWarehouses",value:function(e){return S.a.get(k+"v1/address",{params:{location:e,addressType:1},headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createWarehouse",value:function(e,t,a){return S.a.post(k+"v1/address",{name:e,location:t,wkt:a,addressType:1},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteWarehouse",value:function(e){return S.a.delete(k+"v1/address/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getWareHouseDetails",value:function(e){return S.a.get(k+"v1/address/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),ce=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],productTypes:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.DockService=new ne,e.wareHouseService=new oe,e.appointmentService=new ie,e.viewAdmins=e.viewAdmins.bind(Object(p.a)(e)),e.handleCreateDock=e.handleCreateDock.bind(Object(p.a)(e)),e.handleDeleteDock=e.handleDeleteDock.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteDock(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,wkt:e.wkt,startingTime:new Date(e.startingTime),endingTime:new Date(e.endingTime),selectedProducts:e.productTypes,editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/dock"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/dock"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2],n=this.props.location.pathname.split("/")[3];this.setState({locationId:n,parentId:a}),this.DockService.getAllDocks(a||"").then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})})),this.wareHouseService.getWareHouseDetails(a).then((function(t){e.setState({wareHouse:t.data}),e.appointmentService.getAllProductTypes().then((function(t){e.setState({allProducts:t.data.map((function(e){return{label:e.name,value:e._id}}))})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}))}},{key:"validate",value:function(){return this.state.name?this.state.startingTime?this.state.endingTime?this.state.selectedProducts&&0!==this.state.selectedProducts.length?!!this.state.wkt||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("location")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("product_types")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("end_time")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("start_time")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateDock",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,startingTime:this.state.startingTime,endingTime:this.state.endingTime,productTypes:this.state.selectedProducts,wkt:this.state.wkt};this.DockService.editDock(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("dock")+" "+e.props.t("edited_Successfully")}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("dock")}),e.setState({buttonLoading:!1})}))}else this.DockService.createDock(this.state.name,this.state.startingTime,this.state.endingTime,this.state.selectedProducts,this.state.locationId,this.state.parentId,this.state.wkt).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("dock")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("dock")}),e.setState({buttonLoading:!1})}))}},{key:"handleDeleteDock",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.DockService.deleteDock(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("dock")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("dock")}),t.setState({deleteLoading:!1})}))}},{key:"viewAdmins",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:this.props.t("view_admins"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/manage-admins/"+e._id}}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateDock,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},this.state.wareHouse&&r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("docks"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement(re.Calendar,{locale:{firstDayOfWeek:parseInt(this.props.t("firstDayOfWeek")),dayNames:JSON.parse(this.props.t("dayNames")),dayNamesShort:JSON.parse(this.props.t("dayNamesShort")),dayNamesMin:JSON.parse(this.props.t("dayNamesMin")),monthNames:JSON.parse(this.props.t("monthNames")),monthNamesShort:JSON.parse(this.props.t("monthNamesShort")),today:this.props.t("today"),clear:this.props.t("clear")},placeholder:this.props.t("start_time"),timeOnly:!0,showTime:!0,value:this.state.startingTime,onChange:function(t){e.setState({startingTime:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement(re.Calendar,{locale:{firstDayOfWeek:parseInt(this.props.t("firstDayOfWeek")),dayNames:JSON.parse(this.props.t("dayNames")),dayNamesShort:JSON.parse(this.props.t("dayNamesShort")),dayNamesMin:JSON.parse(this.props.t("dayNamesMin")),monthNames:JSON.parse(this.props.t("monthNames")),monthNamesShort:JSON.parse(this.props.t("monthNamesShort")),today:this.props.t("today"),clear:this.props.t("clear")},placeholder:this.props.t("end_time"),timeOnly:!0,showTime:!0,value:this.state.endingTime,onChange:function(t){e.setState({endingTime:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,this.props.t("product_types")),r.a.createElement(le.MultiSelect,{value:this.state.selectedProducts,options:this.state.allProducts,onChange:function(t){e.setState({selectedProducts:t.value})},filter:!0}))),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(X,{language:this.props.t("mapLocale"),setCoordinates:function(t){e.setState({wkt:t})},coordinate:this.state.editData?Z.a.parse(this.state.editData.wkt).coordinates[0]:[],initialCenter:this.state.wareHouse?Z.a.parse(this.state.wareHouse.wkt).coordinates[0][0]:[]})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_dock"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",startingTime:"",endingTime:"",selectedProducts:[],editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("docks")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{body:function(t){return 1===t.occupiedStatus?e.props.t("not_occupied"):e.props.t("occupied")},header:this.props.t("status"),sortable:!0}),r.a.createElement(P.Column,{body:function(e){return W()(e.startingTime).local().format("hh:mm A")},header:this.props.t("start_time")}),r.a.createElement(P.Column,{body:function(e){return W()(e.endingTime).local().format("hh:mm A")},header:this.props.t("end_time")}),r.a.createElement(P.Column,{header:this.props.t("admins"),body:this.viewAdmins,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}}))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_dock"))))}}]),a}(n.Component),ue=Object(N.a)()(ce),de=a(48),pe=a(187),me=a.n(pe);var he=Object(N.a)()(Object(Q.GoogleApiWrapper)((function(e){return{apiKey:"AIzaSyBBYqXYQ_WN8pz5RSyZwN97basD2xdxfHA",language:e.language}}))((function(e){var t=this,a=e.google,s=e.setCoordinates,i=e.coordinate,l=Object(n.useState)({address:"",showingInfoWindow:!1,activeMarker:{},selectedPlace:{},mapCenter:{lat:i[0],lng:i[1]}}),o=Object($.a)(l,2),c=o[0],u=o[1];console.log(a);var d=Object(n.useState)([]),p=Object($.a)(d,2),m=p[0],h=p[1];return r.a.createElement("div",{id:"googleMaps",style:{position:"unset !important"}},r.a.createElement(me.a,{value:c.address,onChange:function(e){u(Object(se.a)(Object(se.a)({},c),{},{address:e}))},onSelect:function(e){Object(pe.geocodeByAddress)(e).then((function(e){return Object(pe.getLatLng)(e[0])})).then((function(t){s({type:"Point",coordinates:[t.lat,t.lng]}),u(Object(se.a)(Object(se.a)({},c),{},{address:e,mapCenter:t})),h(t)})).catch((function(e){return console.error(t.props.t("error"),e)}))}},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,s=e.loading;return r.a.createElement("div",{style:{position:"relative",width:"100%"}},r.a.createElement("input",Object.assign({},t({placeholder:"Search Places",className:"location-search-input"}),{style:{padding:"6px",margin:"6px 0px",width:"100%"}})),r.a.createElement("div",{className:"autocomplete-dropdown-container",style:{position:"absolute",zIndex:99,maxWidth:"100%"}},s&&r.a.createElement("div",null,"Loading Results..."),a.map((function(e,t){var a=e.active?"suggestion-item--active":"suggestion-item",s=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",Object.assign({key:t},n(e,{className:a,style:s})),r.a.createElement("span",{style:{padding:"4px"}},e.description))}))))})),r.a.createElement(Q.Map,{zoom:10,google:Object(se.a)(Object(se.a)({},a),{},{language:"es"}),bootstrapURLKeys:{language:"ru",region:"ru"},initialCenter:{lat:c.mapCenter.lat,lng:c.mapCenter.lng},containerStyle:{width:"27vw",height:"40vh",position:"relative",margin:"15px 0"},center:m,onClick:function(e,t,a){s({type:"Point",coordinates:[e.initialCenter.lat,e.initialCenter.lng]}),u(Object(se.a)(Object(se.a)({},c),{},{mapCenter:{lat:a.latLng.lat(),lng:a.latLng.lng()}}))}},r.a.createElement(Q.Marker,{position:{lat:c.mapCenter.lat,lng:c.mapCenter.lng}})))}))),ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={radioValue:"1",dataTableValue:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.headquaterService=new ee,e.handleCreateHeadQuarter=e.handleCreateHeadQuarter.bind(Object(p.a)(e)),e.handleDeleteHeadQuarter=e.handleDeleteHeadQuarter.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.viewWareHouse=e.viewWareHouse.bind(Object(p.a)(e)),e.viewGate=e.viewGate.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteHeadQuarter(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,hqName:e.name,radioValue:JSON.stringify(e.type),editData:e})}}))}},{key:"viewGate",value:function(e,t){return r.a.createElement("div",{style:{padding:"0px 8px"}},r.a.createElement(b.Button,{label:this.props.t("view_gates"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/gate/"+e._id}}))}},{key:"viewWareHouse",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:this.props.t("view_wareHouses"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/warehouse/"+e._id}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/locations"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/locations"===e.route}))[0].methods}):window.location="#/accessdenied",this.headquaterService.getAllHeadquaters().then((function(t){e.setState({dataTableValue:t.data,loading:!1})}))}},{key:"validate",value:function(){return!!this.state.hqName||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateHeadQuarter",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.hqName,type:this.state.radioValue,wkt:Z.a.stringify(this.state.coordinates)};this.headquaterService.editHeadQuarter(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("location")+" "+e.props.t("edited_Successfully")}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("location")}),e.setState({buttonLoading:!1})}))}else this.headquaterService.createHeadQuarter(this.state.hqName,this.state.radioValue,Z.a.stringify(this.state.coordinates)).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("location")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("location")}),e.setState({buttonLoading:!1})}))}},{key:"handleDeleteHeadQuarter",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.headquaterService.deleteHeadQuarter(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("location")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("location")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateHeadQuarter,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("location"),visible:this.state.display,modal:!0,style:{width:"60vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-6 p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.hqName,onChange:function(t){return e.setState({hqName:t.target.value})}}),r.a.createElement("div",{className:"p-fluid"},r.a.createElement("p",null,this.props.t("type")),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement(de.RadioButton,{value:"1",inputId:"rb1",onChange:function(t){return e.setState({radioValue:t.value})},checked:"1"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb1",className:"p-radiobutton-label"},this.props.t("headquarter"))),r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement(de.RadioButton,{value:"2",inputId:"rb2",onChange:function(t){return e.setState({radioValue:t.value})},checked:"2"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb2",className:"p-radiobutton-label"},this.props.t("distribution_center"))))))),r.a.createElement("div",{className:"p-col-12 p-md-6 p-grid"},r.a.createElement(he,{setCoordinates:function(t){return e.setState({coordinates:t})},coordinate:this.state.editData?Z.a.parse(this.state.editData.wkt).coordinates:[-5.266008,-37.048647],language:this.props.t("mapLocale")})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_location"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,hqName:"",hqMetaName:"",editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("all_locations")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{body:function(t){return 1===t.type?e.props.t("headquarter"):e.props.t("distribution_center")},header:this.props.t("type"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("wareHouses"),body:this.viewWareHouse,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("gates"),body:this.viewGate,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),ge=Object(N.a)()(ve),fe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.warehouseService=new oe,e.hqService=new ee,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.viewDocs=e.viewDocs.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,wkt:e.wkt,editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/warehouse"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/warehouse"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({locationId:a}),this.hqService.getHeadQuarterDetails(a).then((function(t){e.setState({hq:t.data}),e.warehouseService.getAllWarehouses(a||"").then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(e){}))}))}},{key:"validate",value:function(){return this.state.name?!!this.state.wkt||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("location")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,wkt:this.state.wkt};this.warehouseService.editWarehouse(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("wareHouses")+" "+e.props.t("edited_Successfully")}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("wareHouses")}),e.setState({buttonLoading:!1})}))}else this.warehouseService.createWarehouse(this.state.name,this.state.locationId,this.state.wkt).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("wareHouses")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("wareHouses")}),e.setState({buttonLoading:!1})}))}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.warehouseService.deleteWarehouse(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("wareHouses")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("wareHouses")}),t.setState({deleteLoading:!1})}))}},{key:"viewDocs",value:function(e,t){var a=this;return r.a.createElement("div",null,r.a.createElement(b.Button,{label:this.props.t("view_docks"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/dock/"+e._id+"/"+a.state.locationId}}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},this.state.hq&&r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+this.props.t("wareHouses"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(X,{language:this.props.t("mapLocale"),setCoordinates:function(t){e.setState({wkt:t})},initialCenter:Z.a.parse(this.state.hq.wkt).coordinates,coordinate:this.state.editData?Z.a.parse(this.state.editData.wkt).coordinates[0]:[]})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_warehouse"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",metaname:"",editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("wareHouses")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{body:function(t){return 1===t.occupiedStatus?e.props.t("not_occupied"):e.props.t("occupied")},header:this.props.t("status"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("docks"),body:this.viewDocs,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}}))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_warehouse"))))}}]),a}(n.Component),ye=Object(N.a)()(fe),be=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllUserGroup",value:function(){return S.a.get(k+"v1/user-type?role[$in]=2&role[$in]=3",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createUserGroup",value:function(e,t,a){return S.a.post(k+"v1/user-type",{name:e,description:t,role:a},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"editUserGroup",value:function(e,t,a,n){return S.a.patch(k+"v1/user-type/"+e,{name:t,description:a,role:n},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteUserGroup",value:function(e){return S.a.delete(k+"v1/user-type/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),Ee=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],loading:!0,buttonLoading:!1,deleteLoading:!1,role:2,methods:[],roles:[{label:"Admin",value:2},{label:"Employee",value:3}]},e.userGroupService=new be,e.handleCreateUserGroup=e.handleCreateUserGroup.bind(Object(p.a)(e)),e.handleDeleteUserGroup=e.handleDeleteUserGroup.bind(Object(p.a)(e)),e.addPermission=e.addPermission.bind(Object(p.a)(e)),e.addFields=e.addFields.bind(Object(p.a)(e)),e.viewUsers=e.viewUsers.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,description:e.description,role:e.role,editData:e})}}),this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginLeft:".5em"},onClick:function(){a.handleDeleteUserGroup(e)}}))}},{key:"viewUsers",value:function(e,t){return r.a.createElement("div",{style:{padding:"0px 8px"}},r.a.createElement(b.Button,{label:this.props.t("view_user"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/users/"+e._id}}))}},{key:"addPermission",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:this.props.t("view_permissions"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/user-permission/"+e._id}}))}},{key:"addFields",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:this.props.t("view_fields"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/user-field/"+e._id}}))}},{key:"handleDeleteUserGroup",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userGroupService.deleteUserGroup(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:"User Type deleted Successfully!"}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){t.growl.show({severity:"error",summary:t.props.t("error"),detail:"Can not delete User Type"}),t.setState({deleteLoading:!1})}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/user-type"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/user-type"===e.route}))[0].methods}):window.location="#/accessdenied",this.userGroupService.getAllUserGroup().then((function(t){e.setState({dataTableValue:t.data,loading:!1})}))}},{key:"validate",value:function(){return!!this.state.name||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name_cannot_be_blank")}),!1)}},{key:"handleCreateUserGroup",value:function(){var e=this;this.validate()&&this.setState({buttonLoading:!0}),this.state.editData?this.userGroupService.editUserGroup(this.state.editData._id,this.state.name,this.state.description,this.state.role).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"User Type edited Successfully!"}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.growl.show({severity:"error",summary:e.props.t("error"),detail:"Can not edit User Type"}),e.setState({buttonLoading:!1})})):this.userGroupService.createUserGroup(this.state.name,this.state.description,this.state.role).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"User Type created Successfully!"}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.growl.show({severity:"error",summary:e.props.t("error"),detail:"Can not create User Type"}),e.setState({buttonLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1,name:"",description:"",role:2,editData:null})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateUserGroup,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("user_type"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1,name:"",description:"",role:2,editData:null})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("description"),style:{width:"100%"},value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("role"),value:this.state.role,options:this.state.roles,onChange:function(t){e.setState({role:t.value})}})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_userGroup"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,hqName:"",hqMetaName:"",editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("user_type")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"description",header:this.props.t("description"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("fields"),body:this.addFields,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("permissions"),body:this.addPermission,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("user"),body:this.viewUsers,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),we=Object(N.a)()(Ee),Se=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllFields",value:function(e){return S.a.get(k+"v1/user-field?userType="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createUserField",value:function(e,t,a,n,r){var s=a.map((function(e){return{label:e,value:e.split(" ").join("_").toLowerCase()}}));return S.a.post(k+"v1/user-field",{name:e,type:t,values:s,userType:n,required:r},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"editUserField",value:function(e,t,a,n,r,s){var i=n.map((function(e){return{label:e,value:e.split(" ").join("_").toLowerCase()}}));return S.a.patch(k+"v1/user-field/"+e,{name:t,type:a,values:i,userType:r,required:s},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteUserField",value:function(e){return S.a.delete(k+"v1/user-field/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),ke=a(108),Ce=a(52),Ne=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],radioValue:"String",chipsValue:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1,required:!1},e.userFieldService=new Se,e.handleCreateUserField=e.handleCreateUserField.bind(Object(p.a)(e)),e.handleDeleteUserField=e.handleDeleteUserField.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"checkPermission",value:function(e){return e.filter((function(e){return"/user-field"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/user-field"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({userTypeId:a}),this.userFieldService.getAllFields(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})}))}},{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,radioValue:e.type,chipsValue:e.values.map((function(e){return e.label})),required:e.required,editData:e})}}),this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginLeft:".5em"},onClick:function(){a.handleDeleteUserField(e)}}))}},{key:"handleDeleteUserField",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userFieldService.deleteUserField(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:"User Type deleted Successfully!"}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){t.growl.show({severity:"error",summary:t.props.t("error"),detail:"Can not delete User Type"}),t.setState({deleteLoading:!1})}))}},{key:"validate",value:function(){return this.state.name?"Select"!==this.state.radioValue||0!==this.state.chipsValue.length||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("drop_down_value_is_required")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name_cannot_be_blank")}),!1)}},{key:"handleCreateUserField",value:function(){var e=this;this.validate()&&this.setState({buttonLoading:!0}),this.state.editData?this.userFieldService.editUserField(this.state.editData._id,this.state.name,this.state.radioValue,this.state.chipsValue,this.state.userTypeId,this.state.required).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"User field edited Successfully!"}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.growl.show({severity:"error",summary:e.props.t("error"),detail:"Can not edit User field"}),e.setState({buttonLoading:!1})})):this.userFieldService.createUserField(this.state.name,this.state.radioValue,this.state.chipsValue,this.state.userTypeId,this.state.required).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"User field created Successfully!"}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Can not create User field"}),e.setState({buttonLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateUserField,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("fields"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,this.props.t("field_type")),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"String",inputId:"rb1",onChange:function(t){return e.setState({radioValue:t.value})},checked:"String"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb1",className:"p-radiobutton-label"},this.props.t("text"))),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Number",inputId:"rb2",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Number"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb2",className:"p-radiobutton-label"},this.props.t("number"))),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Select",inputId:"rb3",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Select"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb3",className:"p-radiobutton-label"},this.props.t("dropdown"))),r.a.createElement("div",{className:"p-col-12 p-md-4",style:{marginTop:5}},r.a.createElement(Ce.Checkbox,{value:"get",inputId:"cb2",onChange:function(t){return e.setState({required:t.checked})},checked:this.state.required}),r.a.createElement("label",{htmlFor:"cb2",className:"p-checkbox-label"},this.props.t("required"))))),"Select"===this.state.radioValue&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,this.props.t("dropdown_options")),r.a.createElement(ke.Chips,{value:this.state.chipsValue,placeholder:this.props.t("type_enter"),onChange:function(t){var a=t.value;e.setState({chipsValue:a})}})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_field"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",radioValue:"String",chipsValue:[],required:!1,editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("fields")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"type",header:this.props.t("type"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("required"),body:function(t,a){return t.required?e.props.t("mandatory"):e.props.t("optional")}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),_e=Object(N.a)()(Ne),Te=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllFields",value:function(e){return S.a.get(k+"v1/product-field?productType="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createProductField",value:function(e,t,a,n,r){var s=a.map((function(e){return{label:e,value:e.split(" ").join("_").toLowerCase()}}));return S.a.post(k+"v1/product-field",{name:e,type:t,values:s,productType:n,required:r},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"editProductField",value:function(e,t,a,n,r,s){var i=n.map((function(e){return{label:e,value:e.split(" ").join("_").toLowerCase()}}));return S.a.patch(k+"v1/product-field/"+e,{name:t,type:a,values:i,productType:r,required:s},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteProductField",value:function(e){return S.a.delete(k+"v1/product-field/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),De=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],radioValue:"String",chipsValue:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1,required:!1},e.productFieldService=new Te,e.handleCreateUserField=e.handleCreateUserField.bind(Object(p.a)(e)),e.handleDeleteUserField=e.handleDeleteUserField.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"checkPermission",value:function(e){return e.filter((function(e){return"/product-field"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/product-field"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({userId:a}),this.productFieldService.getAllFields(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})}))}},{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,radioValue:e.type,chipsValue:e.values.map((function(e){return e.label})),required:e.required,editData:e})}}),this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginLeft:".5em"},onClick:function(){a.handleDeleteUserField(e)}}))}},{key:"handleDeleteUserField",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.productFieldService.deleteProductField(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:"User Type deleted Successfully!"}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){t.growl.show({severity:"error",summary:t.props.t("error"),detail:"Can not delete User Type"}),t.setState({deleteLoading:!1})}))}},{key:"validate",value:function(){return this.state.name?"Select"!==this.state.radioValue||0!==this.state.chipsValue.length||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("drop_down_value_is_required")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name_cannot_be_blank")}),!1)}},{key:"handleCreateUserField",value:function(){var e=this;this.validate()&&this.setState({buttonLoading:!0}),this.state.editData?this.productFieldService.editProductField(this.state.editData._id,this.state.name,this.state.radioValue,this.state.chipsValue,this.state.userId,this.state.required).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"User field edited Successfully!"}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.growl.show({severity:"error",summary:e.props.t("error"),detail:"Can not edit User field"}),e.setState({buttonLoading:!1})})):this.productFieldService.createProductField(this.state.name,this.state.radioValue,this.state.chipsValue,this.state.userId,this.state.required).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"User field created Successfully!"}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Can not create User field"}),e.setState({buttonLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateUserField,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("fields"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,this.props.t("field_type")),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"String",inputId:"rb1",onChange:function(t){return e.setState({radioValue:t.value})},checked:"String"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb1",className:"p-radiobutton-label"},"Text")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Number",inputId:"rb2",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Number"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb2",className:"p-radiobutton-label"},"Number")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Select",inputId:"rb3",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Select"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb3",className:"p-radiobutton-label"},"DropDown")),r.a.createElement("div",{className:"p-col-12 p-md-4",style:{marginTop:5}},r.a.createElement(Ce.Checkbox,{value:"get",inputId:"cb2",onChange:function(t){return e.setState({required:t.checked})},checked:this.state.required}),r.a.createElement("label",{htmlFor:"cb2",className:"p-checkbox-label"},this.props.t("required"))))),"Select"===this.state.radioValue&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,"DropDown Options"),r.a.createElement(ke.Chips,{value:this.state.chipsValue,placeholder:"Type and hit enter",onChange:function(t){var a=t.value;e.setState({chipsValue:a})}})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_field"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",radioValue:"String",chipsValue:[],required:!1,editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("fields")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"type",header:this.props.t("type"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("required"),body:function(t,a){return t.required?e.props.t("mandatory"):e.props.t("optional")}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),Oe=Object(N.a)()(De),xe=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllProductType",value:function(){return S.a.get(k+"v1/product-type",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createProductType",value:function(e,t,a){return S.a.post(k+"v1/product-type",{name:e,description:t,unloadingTime:a},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"editProductType",value:function(e,t,a,n){return S.a.patch(k+"v1/product-type/"+e,{name:t,description:a,unloadingTime:n},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteProductType",value:function(e){return S.a.delete(k+"v1/product-type/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),Ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.productTypeService=new xe,e.handleCreateUserGroup=e.handleCreateUserGroup.bind(Object(p.a)(e)),e.handleDeleteUserGroup=e.handleDeleteUserGroup.bind(Object(p.a)(e)),e.addFields=e.addFields.bind(Object(p.a)(e)),e.viewProducts=e.viewProducts.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,description:e.description,editData:e})}}),this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginLeft:".5em"},onClick:function(){a.handleDeleteUserGroup(e)}}))}},{key:"viewProducts",value:function(e,t){return r.a.createElement("div",{style:{padding:"0px 8px"}},r.a.createElement(b.Button,{label:this.props.t("view_product"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/products/"+e._id}}))}},{key:"addFields",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:this.props.t("view_fields"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/product-field/"+e._id}}))}},{key:"handleDeleteUserGroup",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.productTypeService.deleteProductType(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:"Product Type deleted Successfully!"}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){t.growl.show({severity:"error",summary:t.props.t("error"),detail:"Can not delete Product Type"}),t.setState({deleteLoading:!1})}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/product-type"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/product-type"===e.route}))[0].methods}):window.location="#/accessdenied",this.productTypeService.getAllProductType().then((function(t){e.setState({dataTableValue:t.data,loading:!1})}))}},{key:"validate",value:function(){return this.state.name?!!this.state.unloadingTime||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("unloading_time_not_blank")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name_cannot_be_blank")}),!1)}},{key:"handleCreateUserGroup",value:function(){var e=this;this.validate()&&this.setState({buttonLoading:!0}),this.state.editData?this.productTypeService.editProductType(this.state.editData._id,this.state.name,this.state.description,this.state.unloadingTime).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"Product Type edited Successfully!"}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.growl.show({severity:"error",summary:e.props.t("error"),detail:"Can not edit Product Type"}),e.setState({buttonLoading:!1})})):this.productTypeService.createProductType(this.state.name,this.state.description,this.state.unloadingTime).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"User Type created Successfully!"}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.growl.show({severity:"error",summary:e.props.t("error"),detail:"Can not create User Type"}),e.setState({buttonLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1,name:"",description:"",editData:null})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateUserGroup,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("product_category"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1,name:"",description:"",editData:null})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("description"),style:{width:"100%"},value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("unloading_time")+" "+this.props.t("in_min"),style:{width:"100%"},value:this.state.unloadingTime,onChange:function(t){return e.setState({unloadingTime:t.target.value})},type:"number"})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_product_type"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,hqName:"",hqMetaName:"",editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("product_category")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"description",header:this.props.t("description"),sortable:!0}),r.a.createElement(P.Column,{field:"unloadingTime",header:this.props.t("unloading_time")+" "+this.props.t("in_min"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("fields"),body:this.addFields,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("product"),body:this.viewProducts,style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),je=Object(N.a)()(Ve),Ie=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editProduct",value:function(e,t){return S.a.patch(k+"v1/product/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllProducts",value:function(e){return S.a.get(k+"v1/product?productType="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createProduct",value:function(e){return S.a.post(k+"v1/product",e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteProduct",value:function(e){return S.a.delete(k+"v1/product/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),Be=(a(73),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],productModel:JSON.parse(localStorage.getItem("product_model")),productValues:[],productFields:[],productUnits:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1,units:["EPC96","EPC128","LICENSEPLATES","QRCODE","UPCA","UPCE","EAN13","CODE39","CODE93","CODE128","ITF","CODABAR","NFC","BLE","RTLS","EXTERNAL_SYSTEM"]},e.productService=new Ie,e.productFieldService=new Te,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,productCode:e.productCode,barcode:e.barCode,userValues:a.state.productFields.map((function(t,a){return{userField:t._id,value:e.fields[a]?e.fields[a].value:"",required:t.required}})),productUnits:e.units,editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/products"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/products"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.state.units.map((function(e){return{label:e,value:e}})),n=this.props.location.pathname.split("/")[2];this.setState({productModelId:n,unitValues:a}),this.productFieldService.getAllFields(n).then((function(t){var a=t.data.map((function(e){return{productField:e._id,value:"",required:e.required}}));e.setState({productValues:a,productFields:t.data}),e.productService.getAllProducts(n).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))}},{key:"validate",value:function(){var e=this.state.productValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.editData&&!this.state.barcode?(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("barcode")+" "+this.props.t("can_not_be_empty")}),!1):this.state.editData&&!this.state.productCode?(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("productCode")+" "+this.props.t("can_not_be_empty")}),!1):e.length>0?(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):!this.state.editData||0!==this.state.productUnits.length||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("no_units")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,productCode:this.state.productCode,barCode:this.state.barcode,productType:this.state.productModelId,fields:this.state.productValues,units:this.state.productUnits};this.productService.editProduct(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("product")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",productCode:"",barcode:"",productValues:e.state.productValues.map((function(e){return{productField:e.productField,value:"",required:e.required}})),productUnits:[]});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("product")}),e.setState({buttonLoading:!1})}))}else{var a={name:this.state.name,productCode:this.state.productCode,barCode:this.state.barcode,productType:this.state.productModelId,fields:this.state.productValues,units:this.state.productUnits};this.productService.createProduct(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("product")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",productCode:"",barcode:"",productValues:e.state.productValues.map((function(e){return{productField:e.productField,value:"",required:e.required}})),productUnits:[]});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("product")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.productService.deleteProduct(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("product")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("product")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("product"),visible:this.state.display,modal:!0,style:{maxWidth:"70vw",minWidth:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:this.state.editData?"p-grid p-col-12 p-md-5":"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),this.state.editData&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("barcode"),style:{width:"100%"},value:this.state.barcode,onChange:function(t){return e.setState({barcode:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("productCode"),style:{width:"100%"},value:this.state.productCode,onChange:function(t){return e.setState({productCode:t.target.value})}}))),this.state.productFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.productValues[a].value,options:t.values,onChange:function(t){var n=e.state.productValues;n[a].value=t.value,e.setState({productValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.productValues[a].value,onChange:function(t){var n=e.state.productValues;n[a].value=t.target.value,e.setState({productValues:n})}}))}))),this.state.editData&&r.a.createElement("div",{className:"p-grid p-col-12 p-md-7"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.productUnits,selectionMode:"single",header:r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:this.props.t("add_unit"),visible:this.state.display1,modal:!0,style:{width:"30vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display1:!1,unitName:"",unitType:"",unitTagId:""})},label:this.props.t("cancel"),className:"p-button-secondary"}),r.a.createElement(b.Button,{icon:"pi pi-check",onClick:function(){if(!(e.state.unitName&&e.state.unitType&&e.state.unitTagId))return e.growl.show({severity:"warn",summary:e.props.t("validation_failed"),detail:e.props.t("all_fields_mandatory")}),!1;var t=e.state.productUnits;t.push({name:e.state.unitName,type:e.state.unitType,tagId:e.state.unitTagId}),e.setState({unitName:"",unitType:"",unitTagId:"",productUnits:t,display1:!1})},label:this.props.t("save")})),onHide:function(){return e.setState({display1:!1,unitName:"",unitType:"",unitTagId:""})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("unit_type"),value:this.state.unitType,options:this.state.unitValues,onChange:function(t){return e.setState({unitType:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("unit_tagId"),style:{width:"100%"},value:this.state.unitTagId,onChange:function(t){return e.setState({unitTagId:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("unit_name"),style:{width:"100%"},value:this.state.unitName,onChange:function(t){return e.setState({unitName:t.target.value})}})))),r.a.createElement(b.Button,{type:"button",label:this.props.t("add_unit"),icon:"pi pi-cog",onClick:function(){return e.setState({display1:!0})}})),paginator:!0,rows:10,responsive:!0,selection:this.state.productUnits1,onSelectionChange:function(t){return e.setState({productUnits1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("unit_name"),sortable:!0}),r.a.createElement(P.Column,{field:"type",header:this.props.t("unit_type"),sortable:!0}),r.a.createElement(P.Column,{field:"tagId",header:this.props.t("unit_tagId"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("delete"),body:function(t){return r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){var a=e.state.productUnits;a.splice(a.indexOf(t),1),e.setState({productUnits:a})}})},style:{textAlign:"center",width:"8em"}}))))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_product"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",productCode:"",barcode:"",productValues:e.state.productValues.map((function(e){return{productField:e.productField,value:"",required:e.required}})),productUnits:[],editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("products")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"barCode",header:this.props.t("barcode"),sortable:!0}),r.a.createElement(P.Column,{field:"productCode",header:this.props.t("productCode"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("product_detail"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view_product_detail"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedUnits:t.units,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("product_detail"),visible:this.state.detailsShow,modal:!0,style:{width:"70vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-6"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("product_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.productField.name},header:this.props.t("product_field"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0}))),r.a.createElement("div",{className:"p-grid p-col-12 p-md-6"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedUnits,selectionMode:"single",header:this.props.t("product_units"),paginator:!0,rows:7,responsive:!0,selection:this.state.selectedUnits1,onSelectionChange:function(t){return e.setState({selectedUnits1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("unit_name"),sortable:!0}),r.a.createElement(P.Column,{field:"type",header:this.props.t("unit_type"),sortable:!0}),r.a.createElement(P.Column,{field:"tagId",header:this.props.t("unit_tagId"),sortable:!0})))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_product_category"))))}}]),a}(n.Component)),Ae=Object(N.a)()(Be),Me=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.userService=new C,e.userFieldService=new Se,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,password:e.password,userName:e.userName,userValues:e.fields.map((function(e){return{userField:e.userField._id,value:e.value,required:e.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/manage-admins"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/manage-admins"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({locationId:a}),this.userService.getAdminType().then((function(t){var n=t.data[0]._id;e.setState({userTypeId:n}),e.userFieldService.getAllFields(n).then((function(t){var a=t.data.map((function(e){return{userField:e._id,value:"",required:e.required}}));e.setState({userValues:a,userFields:t.data})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})})),e.userService.getAllAdmins(n,a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(e){}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.userName?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("userName")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.editUser(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("admin")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("admin")}),e.setState({buttonLoading:!1})}))}else{var a={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues,dock:this.state.locationId};this.userService.createUser(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("admin")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("admin")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userService.deleteUser(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("admin")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("admin")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("admin"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("userName"),style:{width:"100%"},value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})}})),!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("password"),style:{width:"100%"},value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(t){var n=e.state.userValues;n[a].value=t.target.value,e.setState({userValues:n})}}))}))))),r.a.createElement(b.Button,{type:"button",label:this.props.t("view_fields"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){window.location="#/user-field/"+e.state.userTypeId}}),r.a.createElement(b.Button,{type:"button",label:this.props.t("add_permission"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){e.state.userTypeId&&(window.location="#/user-permission/"+e.state.userTypeId)}}),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_admin"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}})),editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("admins")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"userName",header:this.props.t("userName"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("admin_details"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view")+" "+e.props.t("admin_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("admin_details"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("admin_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.userField.name},header:this.props.t("user_field"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0})))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_warehouse"))))}}]),a}(n.Component),Le=Object(N.a)()(Me),Pe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.userService=new C,e.userFieldService=new Se,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,password:e.password,userName:e.userName,userValues:e.fields.map((function(e){return{userField:e.userField._id,value:e.value,required:e.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/manage-security"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/manage-security"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({locationId:a}),this.userService.getSecurityType().then((function(t){var n=t.data[0]._id;e.setState({userTypeId:n}),e.userFieldService.getAllFields(n).then((function(t){var a=t.data.map((function(e){return{userField:e._id,value:"",required:e.required}}));e.setState({userValues:a,userFields:t.data})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})})),e.userService.getAllSecurityGuards(n,a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(e){}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.userName?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("userName")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.editUser(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("security")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("security")}),e.setState({buttonLoading:!1})}))}else{var a={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues,gate:this.state.locationId};this.userService.createUser(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("security")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("security")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userService.deleteUser(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("security")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("security")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("security"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("userName"),style:{width:"100%"},value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})}})),!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("password"),style:{width:"100%"},value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(t){var n=e.state.userValues;n[a].value=t.target.value,e.setState({userValues:n})}}))}))))),r.a.createElement(b.Button,{type:"button",label:this.props.t("view_fields"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){window.location="#/user-field/"+e.state.userTypeId}}),r.a.createElement(b.Button,{type:"button",label:this.props.t("add_permission"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){e.state.userTypeId&&(window.location="#/user-permission/"+e.state.userTypeId)}}),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_security"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}})),editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("securities")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"userName",header:this.props.t("userName"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("security_details"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view")+" "+e.props.t("security_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("security_details"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("security_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.userField.name},header:this.props.t("user_field"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0})))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_warehouse"))))}}]),a}(n.Component),Fe=Object(N.a)()(Pe),Ue=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onSelectFile=function(t){if(t.target.files&&t.target.files.length>0){e.setState({imageFile:t.target.files[0]});var a=new FileReader;a.addEventListener("load",(function(){return e.setState({src:a.result})})),a.readAsDataURL(t.target.files[0])}},e.state={dataTableValue:[],userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1},e.userService=new C,e.userFieldService=new Se,e.appointmentService=new ie,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleAddEditWarehouse=e.handleAddEditWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e.onSelectFile=e.onSelectFile.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,password:e.password,userName:e.userName,userValues:a.state.userFields.map((function(t,a){return{userField:t._id,value:e.fields[a]?e.fields[a].value:"",required:t.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/users"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/users"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({userTypeId:a}),this.userFieldService.getAllFields(a).then((function(t){var n=t.data.map((function(e){return{userField:e._id,value:"",required:e.required}}));e.setState({userValues:n,userFields:t.data}),e.userService.getAllUser(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.userName?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("userName")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;this.state.imageFile?this.appointmentService.uploadFile(this.state.imageFile).then((function(t){t.data.result?e.handleAddEditWarehouse(t.data.file):e.growl.show({severity:"error",summary:e.props.t("error"),detail:t.data.message||"Something Went Wrong"})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})})):this.handleAddEditWarehouse()}},{key:"handleAddEditWarehouse",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=t?{avatar:t}:{};if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var n={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.editUser(this.state.editData._id,Object(se.a)(Object(se.a)({},n),a)).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("user")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.shotruew({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("user")}),e.setState({buttonLoading:!1})}))}else{var r={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.createUser(Object(se.a)(Object(se.a)({},r),a)).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("user")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("user")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userService.deleteUser(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("user")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("user")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("user"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",flexDirection:"column"}},r.a.createElement("img",{style:{width:150,height:150},src:this.state.editData?this.state.editData.avatar:this.state.src?this.state.src:"assets/layout/images/add-user.png"}),r.a.createElement("label",{htmlFor:"user-avatar",style:{cursor:"pointer"}},this.props.t("choose_image")),r.a.createElement("input",{accept:"image/*",hidden:!0,id:"user-avatar",onChange:this.onSelectFile,type:"file"})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("userName"),style:{width:"100%"},value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})}})),!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("password"),style:{width:"100%"},value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(t){var n=e.state.userValues;n[a].value=t.target.value,e.setState({userValues:n})}}))}))))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_user"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",password:"",userName:"",src:null,imageFile:null,userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}})),editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("users")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"userName",header:this.props.t("userName"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("user_detail"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view_user_detail"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("user_detail"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("user_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.userField.name},header:this.props.t("user_field"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0})))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_user_category"))))}}]),a}(n.Component),We=Object(N.a)()(Ue),qe=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editHoliday",value:function(e,t){return S.a.patch(k+"v1/holiday/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllHolidays",value:function(){return S.a.get(k+"v1/holiday",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createHoliday",value:function(e,t,a){return S.a.post(k+"v1/holiday",{name:e,date:t,month:a},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteHoliday",value:function(e){return S.a.delete(k+"v1/holiday/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),Ge=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],methods:[],selectedDate:"",selectedMonth:"",loading:!0,buttonLoading:!1,deleteLoading:!1},e.holidayService=new qe,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){var t=new Date(e.month+"/"+e.date+"/"+(new Date).getFullYear());a.setState({display:!0,name:e.name,date2:t,editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/manage-holiday"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/manage-holiday"===e.route}))[0].methods}):window.location="#/accessdenied",this.holidayService.getAllHolidays().then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(e){}))}},{key:"validate",value:function(){return this.state.name?!!this.state.date2||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("date")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,date:this.state.selectedDate,month:this.state.selectedMonth};this.holidayService.editHoliday(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("holiday")+" "+e.props.t("edited_Successfully")}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("holiday")}),e.setState({buttonLoading:!1})}))}else this.holidayService.createHoliday(this.state.name,this.state.selectedDate,this.state.selectedMonth).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("holiday")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("holiday")}),e.setState({buttonLoading:!1})}))}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.holidayService.deleteHoliday(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("holiday")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("holiday")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{contentStyle:{overflowY:"unset !important"},header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("holiday"),visible:this.state.display,modal:!0,style:{width:"30vw",maxHeight:"100vh"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid-m p-fluid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(re.Calendar,{locale:{firstDayOfWeek:parseInt(this.props.t("firstDayOfWeek")),dayNames:JSON.parse(this.props.t("dayNames")),dayNamesShort:JSON.parse(this.props.t("dayNamesShort")),dayNamesMin:JSON.parse(this.props.t("dayNamesMin")),monthNames:JSON.parse(this.props.t("monthNames")),monthNamesShort:JSON.parse(this.props.t("monthNamesShort")),today:this.props.t("today"),clear:this.props.t("clear")},placeholder:this.props.t("holiday"),value:this.state.date2,onChange:function(t){var a=new Date(t.value);e.setState({selectedDate:a.getDate(),selectedMonth:a.getMonth()+1,date2:a})}})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_holiday"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",date2:"",editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("holidays")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{body:function(t){return 1===t.month?e.props.t("january"):2===t.month?e.props.t("february"):3===t.month?e.props.t("march"):4===t.month?e.props.t("april"):5===t.month?e.props.t("may"):6===t.month?e.props.t("june"):7===t.month?e.props.t("july"):8===t.month?e.props.t("august"):9===t.month?e.props.t("september"):10===t.month?e.props.t("october"):11===t.month?e.props.t("november"):e.props.t("december")},header:this.props.t("month")}),r.a.createElement(P.Column,{field:"date",header:this.props.t("day"),sortable:!0}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),Re=Object(N.a)()(Ge),He=a(125),ze=a.n(He),Je=a(126),Ye=a.n(Je),$e=a(127),Qe=a.n($e),Ke=a(173),Ze=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],methods:[],selectedDate:"",selectedMonth:"",fullcalendarOptions:{plugins:[ze.a,Ye.a,Qe.a],defaultView:"dayGridMonth",defaultDate:new Date,header:{left:"prev,next, today",center:"title",right:""},editable:!1}},e.holidayService=new qe,e}return Object(o.a)(a,[{key:"checkPermission",value:function(e){return e.filter((function(e){return"/view-holiday"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/view-holiday"===e.route}))[0].methods}):window.location="#/accessdenied",this.holidayService.getAllHolidays().then((function(t){var a=t.data.map((function(e,t){return{id:t,start:(new Date).getFullYear()+"-"+(e.month<10?"0":"")+e.month+"-"+(e.date<10?"0":"")+e.date,title:e.name}})),n=t.data.map((function(e,t){return{id:t,start:(new Date).getFullYear()-1+"-"+(e.month<10?"0":"")+e.month+"-"+(e.date<10?"0":"")+e.date,title:e.name}})),r=t.data.map((function(e,t){return{id:t,start:(new Date).getFullYear()+1+"-"+(e.month<10?"0":"")+e.month+"-"+(e.date<10?"0":"")+e.date,title:e.name}}));e.setState({fullcalendarEvents:[].concat(Object(R.a)(a),Object(R.a)(n),Object(R.a)(r))})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("all")+" "+this.props.t("holidays")),r.a.createElement(Ke.FullCalendar,{events:this.state.fullcalendarEvents,options:Object(se.a)(Object(se.a)({},this.state.fullcalendarOptions),{locale:{sp:"es",pr:"pt",en:"en"}[localStorage.getItem("i18nextLng")]})}))))}}]),a}(n.Component),Xe=Object(N.a)()(Ze),et=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAlPermissions",value:function(){return S.a.get(k+"v1/all-permissions",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllUserPermissions",value:function(e){return S.a.get(k+"v1/user-permission?userType="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"addUserPermissions",value:function(e,t){return S.a.patch(k+"v1/user-permission/"+e,{paths:t},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),tt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],radioValue:"String",locale:localStorage.getItem("i18nextLng"),chipsValue:[],checkboxValue:[],allPermissions:[],dropDownData:[],methods:[],loading:!0,buttonLoading:!1},e.userPermisssionService=new et,e.handleSaveUserPermission=e.handleSaveUserPermission.bind(Object(p.a)(e)),e.handleCreateUserField=e.handleCreateUserField.bind(Object(p.a)(e)),e.handleDeleteUserField=e.handleDeleteUserField.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e.onCheckboxChange=e.onCheckboxChange.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"onCheckboxChange",value:function(e,t){var a=this.state.dataTableValue,n=this.state.dataTableValue.indexOf(t),r=t.methods;e.checked?r.push(e.value):r.splice(r.indexOf(e.value),1),a[n].methods=r,this.setState({dataTableValue:a})}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/user-permission"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/user-permission"===e.route}))[0].methods}):window.location="#/accessdenied";var a={sp:"spanish",pr:"portuguese",en:"name"},n=this.props.location.pathname.split("/")[2];this.setState({userTypeId:n}),this.userPermisssionService.getAlPermissions().then((function(t){var n=t.data,r=n.map((function(t){return delete t._id,{value:JSON.stringify(t),label:t[a[e.state.locale]]}})),s=n.map((function(e){return delete e._id,e}));e.setState({allPermissions:s,dropDownData:r})})),this.userPermisssionService.getAllUserPermissions(n).then((function(t){e.setState({userPermission:t.data[0],dataTableValue:t.data[0].paths,loading:!1})}))}},{key:"componentDidUpdate",value:function(e,t,a){if(this.state.locale!==localStorage.getItem("i18nextLng")){var n=this.state.allPermissions,r={sp:"spanish",pr:"portuguese",en:"name"},s=n.map((function(e){return{value:JSON.stringify(e),label:e[r[localStorage.getItem("i18nextLng")]]}}));this.setState({dropDownData:s,locale:localStorage.getItem("i18nextLng")})}}},{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",className:"p-button-danger",onClick:function(){a.handleDeleteUserField(e)}}))}},{key:"handleDeleteUserField",value:function(e){var t=this.state.dataTableValue,a=this.state.dataTableValue.indexOf(e);t.splice(a,1)}},{key:"validate",value:function(){var e=JSON.parse(this.state.selectedPermission);return!(this.state.dataTableValue.filter((function(t){return t.name===e.name})).length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("permission_added")}),!1)}},{key:"handleCreateUserField",value:function(){if(this.validate()){this.setState({buttonLoading:!0});var e=this.state.dataTableValue;e.push(JSON.parse(this.state.selectedPermission)),this.setState({selectedPermission:null,dataTableValue:e,display:!1,buttonLoading:!1})}}},{key:"handleSaveUserPermission",value:function(){var e=this;this.state.dataTableValue.length>0&&this.userPermisssionService.addUserPermissions(this.state.userPermission._id,this.state.dataTableValue).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"Permission updated Successfully!"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Can not update Permission"})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateUserField,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:this.props.t("add")+" "+this.props.t("permissions"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("div",null,r.a.createElement("p",null,this.props.t("select_permission")),r.a.createElement(v.Dropdown,{options:this.state.dropDownData,value:this.state.selectedPermission,onChange:function(t){e.setState({selectedPermission:t.value})},autoWidth:!1}))))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("permission_add"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0})}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("save"),style:{marginLeft:10},icon:"pi pi-cog",onClick:this.handleSaveUserPermission})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("permissions")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{body:function(t){return r.a.createElement(Ce.Checkbox,{value:"get",inputId:"cb1",onChange:function(a){return e.onCheckboxChange(a,t)},checked:t.methods.indexOf("get")>-1})},header:this.props.t("view")}),r.a.createElement(P.Column,{body:function(t){return r.a.createElement(Ce.Checkbox,{value:"find",inputId:"cb2",onChange:function(a){return e.onCheckboxChange(a,t)},checked:t.methods.indexOf("find")>-1})},header:this.props.t("list")}),r.a.createElement(P.Column,{body:function(t){return r.a.createElement(Ce.Checkbox,{value:"create",inputId:"cb3",onChange:function(a){return e.onCheckboxChange(a,t)},checked:t.methods.indexOf("create")>-1})},header:this.props.t("add")}),r.a.createElement(P.Column,{body:function(t){return r.a.createElement(Ce.Checkbox,{value:"patch",inputId:"cb3",onChange:function(a){return e.onCheckboxChange(a,t)},checked:t.methods.indexOf("patch")>-1})},header:this.props.t("edit")}),r.a.createElement(P.Column,{body:function(t){return r.a.createElement(Ce.Checkbox,{value:"remove",inputId:"cb3",onChange:function(a){return e.onCheckboxChange(a,t)},checked:t.methods.indexOf("remove")>-1})},header:this.props.t("delete")}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),at=Object(N.a)()(tt),nt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.userService=new C,e.userFieldService=new Se,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,password:e.password,userName:e.userName,userValues:a.state.userFields.map((function(t,a){return{userField:t._id,value:e.fields[a]?e.fields[a].value:"",required:t.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/supplier"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/supplier"===e.route}))[0].methods}):window.location="#/accessdenied",this.userService.getSupplierType().then((function(t){var a=t.data[0]._id;e.setState({userTypeId:a}),e.userFieldService.getAllFields(a).then((function(t){var n=t.data.map((function(e){return{userField:e._id,value:"",required:e.required}}));e.setState({userValues:n,userFields:t.data}),e.userService.getAllUser(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(e){}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.userName?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("userName")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.editUser(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("supplier")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("supplier")}),e.setState({buttonLoading:!1})}))}else{var a={name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.createUser(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("supplier")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("supplier")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userService.deleteUser(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("supplier")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("supplier")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("supplier"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("userName"),style:{width:"100%"},value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})}})),!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("password"),style:{width:"100%"},value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(t){var n=e.state.userValues;n[a].value=t.target.value,e.setState({userValues:n})}}))}))))),r.a.createElement(b.Button,{type:"button",label:this.props.t("view_fields"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){window.location="#/user-field/"+e.state.userTypeId}}),r.a.createElement(b.Button,{type:"button",label:this.props.t("add_permission"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){e.state.userTypeId&&(window.location="#/user-permission/"+e.state.userTypeId)}}),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_supplier"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}})),editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("suppliers")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"userName",header:this.props.t("userName"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("driver"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view")+" "+e.props.t("driver"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/driver/"+t._id}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("view_trucks"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view")+" "+e.props.t("truck"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/supplier-truck/"+t._id}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("supplier_details"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view")+" "+e.props.t("supplier_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("supplier_details"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("supplier_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.userField.name},header:this.props.t("user_field"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0}))))))}}]),a}(n.Component),rt=Object(N.a)()(nt),st=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],productModel:JSON.parse(localStorage.getItem("product_model")),userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.userService=new C,e.userFieldService=new Se,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,password:e.password,userName:e.userName,userValues:e.fields.map((function(e){return{userField:e.userField._id,value:e.value,required:e.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/driver"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/driver"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({parentId:a}),this.userService.getDriverType().then((function(t){var n=t.data[0]._id;e.setState({userTypeId:n}),e.userFieldService.getAllFields(n).then((function(t){var n=t.data.map((function(e){return{userField:e._id,value:"",required:e.required}}));e.setState({userValues:n,userFields:t.data}),e.userService.getAllDrivers(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response.data||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(e){}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.userName?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("userName")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={parent:this.state.parentId,name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.editUser(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("driver")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("driver")}),e.setState({buttonLoading:!1})}))}else{var a={parent:this.state.parentId,name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.createUser(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("driver")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("driver")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userService.deleteUser(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("driver")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("driver")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("driver"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("userName"),style:{width:"100%"},value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})}})),!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("password"),style:{width:"100%"},value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(n){var r=e.state.userValues;"Number"===t.type?r[a].value=parseInt(n.target.value):r[a].value=n.target.value,e.setState({userValues:r})}}))}))))),r.a.createElement(b.Button,{type:"button",label:this.props.t("view_fields"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){window.location="#/user-field/"+e.state.userTypeId}}),r.a.createElement(b.Button,{type:"button",label:this.props.t("add_permission"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){e.state.userTypeId&&(window.location="#/user-permission/"+e.state.userTypeId)}}),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_driver"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}})),editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("drivers")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"userName",header:this.props.t("userName"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("driver_details"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view_driver_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("driver_details"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("driver_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.userField.name},header:this.props.t("driver_fields"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0})))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_driver"))))}}]),a}(n.Component),it=Object(N.a)()(st),lt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],user:JSON.parse(localStorage.getItem("daym-user")),userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.userService=new C,e.userFieldService=new Se,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,password:e.password,userName:e.userName,userValues:a.state.userFields.map((function(t,a){return{userField:t._id,value:e.fields[a]?e.fields[a].value:"",required:t.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/all-drivers"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/all-drivers"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.state.user._id;this.setState({parentId:a}),this.userService.getDriverType().then((function(t){var n=t.data[0]._id;e.setState({userTypeId:n}),e.userFieldService.getAllFields(n).then((function(t){var n=t.data.map((function(e){return{userField:e._id,value:"",required:e.required}}));e.setState({userValues:n,userFields:t.data}),e.userService.getAllDrivers(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(e){}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.userName?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("userName")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={parent:this.state.parentId,name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.editUser(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("driver")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("driver")}),e.setState({buttonLoading:!1})}))}else{var a={parent:this.state.parentId,name:this.state.name,password:this.state.password,userName:this.state.userName,userType:this.state.userTypeId,fields:this.state.userValues};this.userService.createUser(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("driver")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("driver")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.userService.deleteUser(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("driver")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("driver")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("driver"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("userName"),style:{width:"100%"},value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})}})),!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("password"),style:{width:"100%"},value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(n){var r=e.state.userValues;"Number"===t.type?r[a].value=parseInt(n.target.value):r[a].value=n.target.value,e.setState({userValues:r})}}))}))))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_driver"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",password:"",userName:"",userValues:e.state.userValues.map((function(e){return{userField:e.userField,value:"",required:e.required}})),editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return 4!==this.state.user.role?r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_access")))):r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("drivers")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"userName",header:this.props.t("userName"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("driver_details"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view_driver_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("driver_details"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("driver_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.userField.name},header:this.props.t("driver_fields"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0}))))))}}]),a}(n.Component),ot=Object(N.a)()(lt),ct=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getCarsSmall",value:function(){return S.a.get("assets/demo/data/cars-small.json").then((function(e){return e.data.data}))}},{key:"getCarsMedium",value:function(){return S.a.get("assets/demo/data/cars-medium.json").then((function(e){return e.data.data}))}},{key:"getCarsLarge",value:function(){return S.a.get("assets/demo/data/cars-large.json").then((function(e){return e.data.data}))}}]),e}(),ut=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getFiles",value:function(e){return S.a.get("assets/demo/data/files.json").then((function(e){return e.data.data})).then((function(t){return e.setState({files:t}),t}))}},{key:"getFilesystem",value:function(e){return S.a.get("assets/demo/data/filesystem.json").then((function(e){return e.data.data})).then((function(t){return e.setState({files:t}),t}))}},{key:"getTreeNodes",value:function(){return S.a.get("assets/demo/data/treenodes.json").then((function(e){return e.data.root}))}},{key:"getTreeTableNodes",value:function(){return S.a.get("assets/demo/data/treetablenodes.json").then((function(e){return e.data.root}))}}]),e}(),dt=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getEvents",value:function(){return S.a.get("assets/demo/data/scheduleevents.json").then((function(e){return e.data.data}))}}]),e}(),pt=a(301),mt=a(147),ht=a(302),vt=a(174),gt=a(175),ft=a(117),yt=a(128),bt=a(303),Et=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],datatableBrand:null,datatableColors:null,dataViewValue:[],picklistSourceCars:[],picklistTargetCars:[],orderlistCars:[],treeData1:[],treeData2:[],selectedFile:null,selectedFiles:null,documents:[],documentsSelection:[],carouselCars:[],fullcalendarEvents:[],fullcalendarOptions:{plugins:[ze.a,Ye.a,Qe.a],defaultView:"dayGridMonth",defaultDate:"2016-01-12",header:{left:"prev,next, today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!0},layout:"list",sortOptions:[{label:"Newest First",value:"!year"},{label:"Oldest First",value:"year"},{label:"Brand",value:"brand"}],organizationChartValue:[{label:"F.C Barcelona",expanded:!0,children:[{label:"F.C Barcelona",expanded:!0,children:[{label:"Chelsea FC"},{label:"F.C. Barcelona"}]},{label:"Real Madrid",expanded:!0,children:[{label:"Bayern Munich"},{label:"Real Madrid"}]}]}]},e.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}],e.carService=new ct,e.nodeService=new ut,e.eventService=new dt,e.dataViewItemTemplate=e.dataViewItemTemplate.bind(Object(p.a)(e)),e.pickListTemplate=e.pickListTemplate.bind(Object(p.a)(e)),e.orderListTemplate=e.orderListTemplate.bind(Object(p.a)(e)),e.onSortChange=e.onSortChange.bind(Object(p.a)(e)),e.onBrandChange=e.onBrandChange.bind(Object(p.a)(e)),e.onColorChange=e.onColorChange.bind(Object(p.a)(e)),e.actionTemplate=e.actionTemplate.bind(Object(p.a)(e)),e.carouselItemTemplate=e.carouselItemTemplate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.carService.getCarsMedium().then((function(t){return e.setState({dataTableValue:t})})),this.nodeService.getTreeNodes(this).then((function(t){return e.setState({treeData1:t})})),this.nodeService.getTreeNodes(this).then((function(t){return e.setState({treeData2:t})})),this.carService.getCarsLarge().then((function(t){return e.setState({dataViewValue:t})})),this.nodeService.getTreeTableNodes(this).then((function(t){return e.setState({documents:t})})),this.carService.getCarsMedium().then((function(t){return e.setState({picklistSourceCars:t})})),this.carService.getCarsSmall().then((function(t){return e.setState({orderlistCars:t})})),this.eventService.getEvents().then((function(t){return e.setState({fullcalendarEvents:t})})),this.carService.getCarsSmall().then((function(t){return e.setState({carouselCars:t})}))}},{key:"pickListTemplate",value:function(e){if(e)return r.a.createElement("div",{className:"p-clearfix"},r.a.createElement("img",{src:"assets/demo/images/car/".concat(e.brand,".png"),alt:e.brand,style:{display:"inline-block",margin:"2px 0 2px 2px",width:"50px"}}),r.a.createElement("div",{style:{fontSize:"16px",float:"right",margin:"15px 5px 0 0"}},e.brand))}},{key:"orderListTemplate",value:function(e){if(e)return r.a.createElement("div",{className:"p-clearfix"},r.a.createElement("img",{src:"assets/demo/images/car/".concat(e.brand,".png"),alt:e.brand,style:{display:"inline-block",margin:"2px 0 2px 2px",width:"50px"}}),r.a.createElement("div",{style:{fontSize:14,float:"right",margin:"15px 5px 0 0"}},e.year," - ",e.color))}},{key:"dataViewItemTemplate",value:function(e,t){if(e){var a="assets/demo/images/car/"+e.brand+".png";return"list"===t?r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"car-details"},r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:e.brand}),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},"Vin: ",r.a.createElement("b",null,e.vin)),r.a.createElement("div",{className:"p-col-12"},"Year: ",r.a.createElement("b",null,e.year)),r.a.createElement("div",{className:"p-col-12"},"Brand: ",r.a.createElement("b",null,e.brand)),r.a.createElement("div",{className:"p-col-12"},"Color: ",r.a.createElement("b",null,e.color)))),r.a.createElement(b.Button,{icon:"pi pi-search"}))):"grid"===t?r.a.createElement("div",{style:{padding:".5em"},className:"p-col-12 p-md-3"},r.a.createElement(ft.Panel,{header:e.vin,style:{textAlign:"center"}},r.a.createElement("img",{src:"assets/demo/images/car/".concat(e.brand,".png"),alt:e.brand}),r.a.createElement("div",{className:"car-detail"},e.year," - ",e.color),r.a.createElement(b.Button,{icon:"pi pi-search"}))):void 0}}},{key:"onSortChange",value:function(e){var t=e.value;0===t.indexOf("!")?this.setState({sortOrder:-1,sortField:t.substring(1,t.length),sortKey:t}):this.setState({sortOrder:1,sortField:t,sortKey:t})}},{key:"onBrandChange",value:function(e){this.dt.filter(e.value,"brand","equals"),this.setState({datatableBrands:e.value})}},{key:"onColorChange",value:function(e){this.dt.filter(e.value,"color","in"),this.setState({datatableColors:e.value})}},{key:"actionTemplate",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(b.Button,{type:"button",icon:"pi pi-search",className:"p-button-success",style:{marginRight:".5em"}}),r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning"}))}},{key:"carouselItemTemplate",value:function(e){return r.a.createElement("div",{className:"car-details"},r.a.createElement("div",{className:"p-grid p-nogutter separator"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("img",{src:"assets/demo/images/car/".concat(e.brand,".png"),alt:e.brand})),r.a.createElement("div",{className:"p-col-12 car-data"},r.a.createElement("div",{className:"car-title"},e.brand),r.a.createElement("div",{className:"car-subtitle"},e.year," |\xa0",e.color),r.a.createElement("div",{className:"car-buttons"},r.a.createElement(b.Button,{icon:"pi pi-search"}),r.a.createElement(b.Button,{icon:"pi pi-star",className:"p-button-warning"}),r.a.createElement(b.Button,{icon:"pi pi-cog",className:"p-button-success"})))))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4",style:{textAlign:"left"}},r.a.createElement(v.Dropdown,{options:this.state.sortOptions,value:this.state.sortKey,placeholder:"Sort By",onChange:this.onSortChange})),r.a.createElement("div",{className:"p-col-6 p-md-4"},r.a.createElement(f.InputText,{placeholder:"Search by brand",onKeyUp:function(t){return e.dv.filter(t.target.value)}})),r.a.createElement("div",{className:"p-col-6 p-md-4",style:{textAlign:"right"}},r.a.createElement(yt.DataViewLayoutOptions,{layout:this.state.layout,onChange:function(t){return e.setState({layout:t.value})}}))),a=r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:"Select a Brand",value:this.state.datatableBrand,options:[{label:"Audi",value:"Audi"},{label:"BMW",value:"BMW"},{label:"Fiat",value:"Fiat"},{label:"Honda",value:"Honda"},{label:"Jaguar",value:"Jaguar"},{label:"Mercedes",value:"Mercedes"},{label:"Renault",value:"Renault"},{label:"VW",value:"VW"},{label:"Volvo",value:"Volvo"}],onChange:this.onBrandChange}),n=r.a.createElement(le.MultiSelect,{style:{width:"100%"},placeholder:"Select a Color",value:this.state.datatableColors,options:[{label:"White",value:"White"},{label:"Green",value:"Green"},{label:"Silver",value:"Silver"},{label:"Black",value:"Black"},{label:"Red",value:"Red"},{label:"Maroon",value:"Maroon"},{label:"Brown",value:"Brown"},{label:"Orange",value:"Orange"},{label:"Blue",value:"Blue"}],onChange:this.onColorChange}),s=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"}),i=r.a.createElement("h2",{style:{margin:0}},"Borderless DataTable"),l=r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(b.Button,{icon:"pi pi-refresh",className:"p-button-success",tooltip:"Reload"}));return r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,"DataTable"),r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:"List of Cars",paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"vin",header:"Vin",sortable:!0,filter:!0,filterPlaceholder:"Starts with"}),r.a.createElement(P.Column,{field:"year",header:"Year",sortable:!0,filter:!0,filterPlaceholder:"Contains"}),r.a.createElement(P.Column,{field:"brand",header:"Brand",sortable:!0,filter:!0,filterElement:a}),r.a.createElement(P.Column,{field:"color",header:"Color",sortable:!0,filter:!0,filterElement:n}),r.a.createElement(P.Column,{header:s,body:this.actionTemplate,style:{textAlign:"center",width:"8em"}})))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title",style:{padding:"0px"}},r.a.createElement(F.DataTable,{className:"p-datatable-borderless",value:this.state.dataTableValue,selectionMode:"single",header:i,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection2,onSelectionChange:function(t){return e.setState({dataTableSelection2:t.value})}},r.a.createElement(P.Column,{field:"vin",header:"Vin",sortable:!0}),r.a.createElement(P.Column,{field:"year",header:"Year",sortable:!0}),r.a.createElement(P.Column,{field:"brand",header:"Brand",sortable:!0}),r.a.createElement(P.Column,{field:"color",header:"Color",sortable:!0})))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title dataview-demo"},r.a.createElement("h1",null,"DataView"),r.a.createElement(yt.DataView,{ref:function(t){return e.dv=t},value:this.state.dataViewValue,filterBy:"brand",itemTemplate:this.dataViewItemTemplate,layout:this.state.layout,paginatorPosition:"both",paginator:!0,rows:10,header:t,sortOrder:this.state.sortOrder,sortField:this.state.sortField}))),r.a.createElement("div",{className:"p-col-12 p-md-8"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"PickList"),r.a.createElement(vt.PickList,{source:this.state.picklistSourceCars,target:this.state.picklistTargetCars,sourceHeader:"Available",targetHeader:"Selected",responsive:!0,itemTemplate:this.pickListTemplate,sourceStyle:{height:250},targetStyle:{height:250},onChange:function(t){return e.setState({picklistSourceCars:t.source,picklistTargetCars:t.target})}}))),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"OrderList"),r.a.createElement(gt.OrderList,{value:this.state.orderlistCars,responsive:!0,header:"OrderList",listStyle:{height:250},itemTemplate:this.orderListTemplate,onChange:function(t){return e.setState({orderlistCars:t.value})}}))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement("h1",null,"Tree"),r.a.createElement(mt.Tree,{value:this.state.treeData1,selectionMode:"single",selectionKeys:this.state.selectedFile,onSelectionChange:function(t){return e.setState({selectedFile:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement("h1",null,"Checkbox Tree"),r.a.createElement(mt.Tree,{value:this.state.treeData2,selectionMode:"checkbox",selectionKeys:this.state.selectedFiles,onSelectionChange:function(t){return e.setState({selectedFiles:t.value})}}))))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"TreeTable"),r.a.createElement(ht.TreeTable,{value:this.state.documents,header:"Documents",selectionMode:"checkbox",footer:l,selectionKeys:this.state.documentsSelection,onSelectionChange:function(t){return e.setState({documentsSelection:t.value})}},r.a.createElement(P.Column,{field:"name",header:"Name",expander:!0}),r.a.createElement(P.Column,{field:"size",header:"Size",sortable:!0}),r.a.createElement(P.Column,{field:"type",header:"Type"}),r.a.createElement(P.Column,{header:s,body:this.actionTemplate,style:{textAlign:"center",width:"8em"}})))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title",style:{overflow:"auto"}},r.a.createElement("h1",null,"Organization Chart"),r.a.createElement(pt.OrganizationChart,{value:this.state.organizationChartValue}))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title carousel-demo"},r.a.createElement("h1",null,"Carousel"),r.a.createElement(bt.Carousel,{value:this.state.carouselCars,itemTemplate:this.carouselItemTemplate,numVisible:4,numScroll:3,responsiveOptions:this.responsiveOptions}))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Schedule"),r.a.createElement(Ke.FullCalendar,{events:this.state.fullcalendarEvents,options:this.state.fullcalendarOptions}))))}}]),a}(n.Component),wt=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getCountries",value:function(e){return S.a.get("assets/demo/data/countries.json").then((function(e){return e.data.data})).then((function(t){return e.setState({countriesData:t}),t}))}}]),e}(),St=a(176),kt=a(148),Ct=a(177),Nt=a(178),_t=a(179),Tt=a(219),Dt=a(180),Ot=a(304),xt=a(305),Vt=a(306),jt=a(181),It=a(182),Bt=a(183),At=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={countriesData:[],cars:[],invalidDates:[new Date("12/25/2020"),new Date("12/29/2020"),new Date("12/31/2020")],selectedType:null,chipsValue:[],date1:null,date2:null,date3:null,date4:null,date5:null,date6:null,date7:null,checkboxValue:[],radioValue:null,inputSwitchValue:!1,dropdownCity:null,spinnerValue:null,sliderValue:[20,80],listBoxCity:null,ratingValue:null,colorPickerValue:null,inputGroupValue:null,carOptions:[{label:"Audi",value:"Audi"},{label:"BMW",value:"BMW"},{label:"Fiat",value:"Fiat"},{label:"Honda",value:"Honda"},{label:"Jaguar",value:"Jaguar"},{label:"Mercedes",value:"Mercedes"},{label:"Renault",value:"Renault"},{label:"VW",value:"VW"},{label:"Volvo",value:"Volvo"}],cities:[{label:"Select City",value:null},{label:"New York",value:"New York"},{label:"Rome",value:"Rome"},{label:"London",value:"London"},{label:"Istanbul",value:"Istanbul"},{label:"Paris",value:"Paris"}],listBoxCities:[{label:"Madrid",value:"Madrid"},{label:"Geneva",value:"Geneva"},{label:"Los Angeles",value:"Los Angeles"},{label:"Monaco",value:"Monaco"},{label:"Berlin",value:"Berlin"}],types:[{label:"Apartment",value:"Apartment"},{label:"House",value:"House"},{label:"Studio",value:"Studio"}],splitButtonItems:[{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-times"},{label:"Home",icon:"pi pi-home",url:"http://www.primefaces.org/primereact"}]},e.countryService=new wt,e.onCheckboxChange=e.onCheckboxChange.bind(Object(p.a)(e)),e.filterCountry=e.filterCountry.bind(Object(p.a)(e)),e.filterBrands=e.filterBrands.bind(Object(p.a)(e)),e.autoCompleteItemTemplate=e.autoCompleteItemTemplate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({countriesData:this.countryService.getCountries(this)}),this.brands=["Audi","BMW","Fiat","Ford","Honda","Jaguar","Mercedes","Renault","Volvo"]}},{key:"filterCountry",value:function(e){var t=this.state.countriesData.filter((function(t){return t.name.toLowerCase().startsWith(e.query.toLowerCase())}));this.setState({filteredCountries:t})}},{key:"filterBrands",value:function(e){var t=this;setTimeout((function(){var a;a=0===e.query.length?Object(R.a)(t.brands):t.brands.filter((function(t){return t.toLowerCase().startsWith(e.query.toLowerCase())})),t.setState({filteredBrands:a})}),250)}},{key:"autoCompleteItemTemplate",value:function(e){if(e)return r.a.createElement("div",{className:"p-clearfix"},r.a.createElement("img",{alt:e,src:"assets/demo/images/car/".concat(e,".png"),style:{width:"32px",display:"inline-block",margin:"5px 0 2px 5px"}}),r.a.createElement("div",{style:{fontSize:"18px",float:"right",margin:"10px 10px 0 0"}},e))}},{key:"onCheckboxChange",value:function(e){var t=Object(R.a)(this.state.checkboxValue);e.checked?t.push(e.value):t.splice(t.indexOf(e.value),1),this.setState({checkboxValue:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"InputText"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(f.InputText,{placeholder:"Name"})),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(f.InputText,{placeholder:"Email"})),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(f.InputText,{placeholder:"Phone"})),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(f.InputText,{placeholder:"Address"})),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(f.InputText,{placeholder:"Disabled",disabled:!0})),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(f.InputText,{placeholder:"Error",className:"p-error"})))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"TextArea"),r.a.createElement(St.InputTextarea,{rows:3,cols:30,placeholder:"Your Message",autoResize:!0})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"AutoComplete"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("label",{htmlFor:"acSimple"},"Simple")),r.a.createElement("div",{className:"p-col-12",style:{marginBottom:"10px"}},r.a.createElement(kt.AutoComplete,{minLength:1,placeholder:"Countries",id:"acSimple",size:30,field:"name",suggestions:this.state.filteredCountries,completeMethod:this.filterCountry,value:this.state.country,onChange:function(t){return e.setState({country:t.value,filteredCountries:null})}})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("label",{htmlFor:"acAdvanced"},"Advanced")),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(kt.AutoComplete,{minLength:1,placeholder:"Hint: type 'v' or 'f'",id:"acAdvanced",size:30,dropdown:!0,multiple:!0,suggestions:this.state.filteredBrands,completeMethod:this.filterBrands,value:this.state.brand,onChange:function(t){return e.setState({brand:t.value,filteredBrands:null})},itemTemplate:this.autoCompleteItemTemplate})))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"MultiSelect"),r.a.createElement(le.MultiSelect,{value:this.state.cars,options:this.state.carOptions,onChange:function(t){return e.setState({cars:t.value})},filter:!0})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Calendar"),r.a.createElement(re.Calendar,{value:this.state.date1,onChange:function(t){return e.setState({date1:t.value})},inline:!0}),r.a.createElement("div",{className:"p-grid-m",style:{marginTop:"20px"}},r.a.createElement("div",{className:"p-col-12"},r.a.createElement(re.Calendar,{placeholder:"Popup",value:this.state.date2,onChange:function(t){return e.setState({date2:t.value})}})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(re.Calendar,{placeholder:"Popup",minDate:new Date,value:this.state.date2,disabledDates:this.state.invalidDates,onChange:function(t){return e.setState({date2:t.value})}})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(re.Calendar,{placeholder:"DateTime",showTime:!0,dateFormat:"mm/dd/yy",value:this.state.date3,onChange:function(t){return e.setState({date3:t.value})}})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(re.Calendar,{placeholder:"Time",timeOnly:!0,showTime:!0,value:this.state.date4,onChange:function(t){e.setState({date4:t.value})}})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(re.Calendar,{placeholder:"Button",showIcon:!0,value:this.state.date5,onChange:function(t){return e.setState({date5:t.value})}})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(re.Calendar,{readOnly:!0,placeholder:"Multiple Months",numberOfMonths:3,value:this.state.date6,onChange:function(t){return e.setState({date6:t.value})}})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(re.Calendar,{readOnly:!0,dateFormat:"mm/yy",placeholder:"Month Picker",view:"month",value:this.state.date7,onChange:function(t){return e.setState({date7:t.value})}})))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Chips"),r.a.createElement(ke.Chips,{value:this.state.chipsValue,onChange:function(t){return e.setState({chipsValue:t.value})}}))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Checkboxes"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(Ce.Checkbox,{value:"Ultima",inputId:"cb1",onChange:this.onCheckboxChange,checked:this.state.checkboxValue.indexOf("Ultima")>-1}),r.a.createElement("label",{htmlFor:"cb1",className:"p-checkbox-label"},"Ultima")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(Ce.Checkbox,{value:"Avalon",inputId:"cb2",onChange:this.onCheckboxChange,checked:this.state.checkboxValue.indexOf("Avalon")>-1}),r.a.createElement("label",{htmlFor:"cb2",className:"p-checkbox-label"},"Avalon")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(Ce.Checkbox,{value:"Serenity",inputId:"cb3",onChange:this.onCheckboxChange,checked:this.state.checkboxValue.indexOf("Serenity")>-1}),r.a.createElement("label",{htmlFor:"cb3",className:"p-checkbox-label"},"Serenity")))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"RadioButtons"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Ultima",inputId:"rb1",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Ultima"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb1",className:"p-radiobutton-label"},"Ultima")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Avalon",inputId:"rb2",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Avalon"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb2",className:"p-radiobutton-label"},"Avalon")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Serenity",inputId:"rb3",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Serenity"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb3",className:"p-radiobutton-label"},"Serenity")))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"InputSwitch"),r.a.createElement(Ct.InputSwitch,{checked:this.state.inputSwitchValue,onChange:function(t){return e.setState({inputSwitchValue:t.value})}})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Dropdown"),r.a.createElement(v.Dropdown,{options:this.state.cities,value:this.state.dropdownCity,onChange:function(t){return e.setState({dropdownCity:t.value})},autoWidth:!1})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Password"),r.a.createElement(Nt.Password,null)),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Spinner"),r.a.createElement(_t.Spinner,{value:this.state.spinnerValue,onChange:function(t){return e.setState({spinnerValue:t.value})}})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Slider"),r.a.createElement(Tt.Slider,{range:!0,value:this.state.sliderValue,onChange:function(t){return e.setState({sliderValue:t.value})}})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"ListBox"),r.a.createElement(Dt.ListBox,{options:this.state.listBoxCities,value:this.state.listBoxCity,onChange:function(t){return e.setState({listBoxCity:t.value})},filter:!0})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Rating"),r.a.createElement(Ot.Rating,{value:this.state.ratingValue,onChange:function(t){return e.setState({ratingValue:t.value})}})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"ColorPicker"),r.a.createElement(xt.ColorPicker,{inline:!0,value:this.state.colorPickerValue,onChange:function(t){return e.setState({colorPickerValue:t.value})}}))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Input Groups"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon"},r.a.createElement("i",{className:"pi pi-user"})),r.a.createElement(f.InputText,{placeholder:"Username"}))),r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon"},r.a.createElement("i",{className:"pi pi-clock"})),r.a.createElement("span",{className:"p-inputgroup-addon"},r.a.createElement("i",{className:"pi pi-star"})),r.a.createElement(f.InputText,{placeholder:"Payment"}),r.a.createElement("span",{className:"p-inputgroup-addon"},"$"),r.a.createElement("span",{className:"p-inputgroup-addon"},".00"))),r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement(f.InputText,{placeholder:"Search"}),r.a.createElement(b.Button,{icon:"pi pi-search"}))),r.a.createElement("div",{className:"p-col-12 p-md-6"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon p-inputgroup-addon-checkbox"},r.a.createElement(Ce.Checkbox,{checked:this.state.inputGroupValue,onChange:function(t){return e.setState({inputGroupValue:t.checked})}})),r.a.createElement(f.InputText,{placeholder:"Confirm"})))))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Editor"),r.a.createElement(Vt.Editor,{style:{height:"320px"}}))),r.a.createElement("div",{className:"p-col-12 p-nogutter"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Buttons"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},"ToggleButton"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(jt.ToggleButton,{checked:this.state.toggleButtonValue,onChange:function(t){return e.setState({toggleButtonValue:t.value})}})),r.a.createElement("div",{className:"p-col-12"},"SelectButton"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(It.SelectButton,{value:this.state.selectedType,options:this.state.types,onChange:function(t){return e.setState({selectedType:t.value})}})),r.a.createElement("div",{className:"p-col-12"},"Button"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(b.Button,{label:"Bookmark"})),r.a.createElement("div",{className:"p-col-12"},"Left Icon"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(b.Button,{label:"Clear",icon:"pi pi-times"})),r.a.createElement("div",{className:"p-col-12"},"Right Icon"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(b.Button,{label:"Clear",icon:"pi pi-times",iconPos:"right"})),r.a.createElement("div",{className:"p-col-12"},"Icon Only"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(b.Button,{icon:"pi pi-check"})),r.a.createElement("div",{className:"p-col-12"},"Link"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("a",{href:"http://www.primefaces.org"},"Homepage")),r.a.createElement("div",{className:"p-col-12"},"SplitButton"),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(Bt.SplitButton,{label:"Save",icon:"pi pi-plus",model:this.state.splitButtonItems}))))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Colored Buttons"),r.a.createElement("p",null,"Flat buttons with various color alternatives."),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4",style:{textAlign:"center"}},r.a.createElement(b.Button,{label:"Primary",style:{marginBottom:"10px"}}),r.a.createElement(b.Button,{label:"Secondary",style:{marginBottom:"10px"},className:"p-button-secondary"}),r.a.createElement(b.Button,{label:"Success",style:{marginBottom:"10px"},className:"p-button-success"}),r.a.createElement(b.Button,{label:"Info",style:{marginBottom:"10px"},className:"p-button-info"}),r.a.createElement(b.Button,{label:"Warning",style:{marginBottom:"10px"},className:"p-button-warning"}),r.a.createElement(b.Button,{label:"Danger",style:{marginBottom:"10px"},className:"p-button-danger"})),r.a.createElement("div",{className:"p-col-12 p-md-4",style:{textAlign:"center"}},r.a.createElement(b.Button,{label:"Primary",style:{marginBottom:"10px"},className:"p-button-raised"}),r.a.createElement(b.Button,{label:"Secondary",style:{marginBottom:"10px"},className:"p-button-secondary p-button-raised"}),r.a.createElement(b.Button,{label:"Success",style:{marginBottom:"10px"},className:"p-button-success p-button-raised"}),r.a.createElement(b.Button,{label:"Info",style:{marginBottom:"10px"},className:"p-button-info p-button-raised"}),r.a.createElement(b.Button,{label:"Warning",style:{marginBottom:"10px"},className:"p-button-warning p-button-raised"}),r.a.createElement(b.Button,{label:"Danger",style:{marginBottom:"10px"},className:"p-button-danger p-button-raised"})),r.a.createElement("div",{className:"p-col-12 p-md-4",style:{textAlign:"center"}},r.a.createElement(b.Button,{label:"Primary",style:{marginBottom:"10px"},className:"p-button-rounded"}),r.a.createElement(b.Button,{label:"Secondary",style:{marginBottom:"10px"},className:"p-button-secondary p-button-rounded"}),r.a.createElement(b.Button,{label:"Success",style:{marginBottom:"10px"},className:"p-button-success p-button-rounded"}),r.a.createElement(b.Button,{label:"Info",style:{marginBottom:"10px"},className:"p-button-info p-button-rounded"}),r.a.createElement(b.Button,{label:"Warning",style:{marginBottom:"10px"},className:"p-button-warning p-button-rounded"}),r.a.createElement(b.Button,{label:"Danger",style:{marginBottom:"10px"},className:"p-button-danger p-button-rounded"}))))))))}}]),a}(n.Component),Mt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).state={dataTableValue:[],ordersList:[],ordersApiList:[],allDocks:[],locale:"",allType:[],type:1,methods:[],loading:!0,buttonLoading:!1,automatic:!0,deliveryTime:new Date,user:JSON.parse(localStorage.getItem("daym-user"))},n.appointmentService=new ie,n.handleCreateHeadQuarter=n.handleCreateHeadQuarter.bind(Object(p.a)(n)),n.viewGate=n.viewGate.bind(Object(p.a)(n)),n.validate=n.validate.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"viewGate",value:function(e,t){return r.a.createElement("div",{style:{padding:"0px 8px"}},r.a.createElement(b.Button,{label:this.props.t("view_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){window.location="#/manage-appointment/"+e._id}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/appointments"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/appointments"===e.route}))[0].methods}):window.location="#/accessdenied",this.appointmentService.getAllAppointments().then((function(t){e.setState({dataTableValue:t.data,loading:!1})})),this.appointmentService.getAllProducts().then((function(t){e.setState({allProducts:t.data.map((function(e){return{label:"".concat(e.name,"(").concat(e.productType.name,")"),value:JSON.stringify(e)}}))})})),this.appointmentService.getAllDocks().then((function(t){e.setState({allDocks:t.data.map((function(e){return{label:"".concat(e.name,"(").concat(e.parentId.name,")"),value:JSON.stringify(e)}}))})})),this.appointmentService.getAllSuppliers(4===JSON.parse(localStorage.getItem("daym-user")).role,4===JSON.parse(localStorage.getItem("daym-user")).role).then((function(t){e.setState({allSuppliers:t.data.map((function(e){return{label:e.name,value:e._id}}))})}))}},{key:"componentDidUpdate",value:function(e,t,a){this.state.locale!==localStorage.getItem("i18nextLng")&&this.setState({allType:[{label:this.props.t("daily"),value:1},{label:this.props.t("weekly"),value:2}],locale:localStorage.getItem("i18nextLng")})}},{key:"validate",value:function(){if(!this.state.supplier)return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("supplier")+" "+this.props.t("can_not_be_empty")}),!1;if(0===this.state.ordersApiList.length)return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("orders")+" "+this.props.t("can_not_be_empty")}),!1;if(1===this.state.type){if(!this.state.deliveryDate)return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("delivery_date")+" "+this.props.t("can_not_be_empty")}),!1}else if(2===this.state.type){if(!this.state.startDate)return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("startDate")+" "+this.props.t("can_not_be_empty")}),!1;if(!this.state.endDate)return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("endDate")+" "+this.props.t("can_not_be_empty")}),!1}return!0}},{key:"handleCreateHeadQuarter",value:function(){var e=this;this.validate()&&(this.setState({buttonLoading:!0}),this.appointmentService.createAppointment(this.state.supplier,this.state.ordersApiList,this.state.deliveryDate,this.state.type,4===JSON.parse(localStorage.getItem("daym-user")).role?2:1,2===this.state.type?{startDate:this.state.startDate,endDate:this.state.endDate}:{}).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("appointment")+" "+e.props.t("created_Successfully")}),a.data.length>0?e.setState({dataTableValue:[].concat(Object(R.a)(a.data),Object(R.a)(e.state.dataTableValue))}):e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue))}),e.setState({display:!1,buttonLoading:!1});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("appointment")}),e.setState({buttonLoading:!1})})))}},{key:"render",value:function(){var e=this,t=[this.props.t("initiated"),this.props.t("pending"),this.props.t("changed_supplier"),this.props.t("confirmed_supplier"),this.props.t("scheduled"),this.props.t("accept_security"),this.props.t("reject_security"),this.props.t("truck_enter"),this.props.t("complete"),this.props.t("cancelled")],a=t.map((function(t,a){return t===e.props.t("cancelled")?{label:t,value:-1}:{label:t,value:a}})),n=r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("select_type"),value:this.state.datatableBrand,options:a,onChange:function(t){e.dt.filter(t.value,"status","equals"),e.setState({datatableBrand:t.value})}}),s=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateHeadQuarter,label:this.props.t("save")})),i=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:this.props.t("add")+" "+this.props.t("appointment"),visible:this.state.display,modal:!0,style:{width:"70vw"},footer:s,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-5 p-fluid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("appointment_type"),value:this.state.type,options:this.state.allType,onChange:function(t){e.setState({type:t.target.value,automatic:2!==t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:4===JSON.parse(localStorage.getItem("daym-user")).role?this.props.t("user"):this.props.t("supplier"),value:this.state.supplier,options:this.state.allSuppliers,onChange:function(t){e.setState({supplier:t.target.value})}})),1===this.state.type?r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(re.Calendar,{locale:{firstDayOfWeek:parseInt(this.props.t("firstDayOfWeek")),dayNames:JSON.parse(this.props.t("dayNames")),dayNamesShort:JSON.parse(this.props.t("dayNamesShort")),dayNamesMin:JSON.parse(this.props.t("dayNamesMin")),monthNames:JSON.parse(this.props.t("monthNames")),monthNamesShort:JSON.parse(this.props.t("monthNamesShort")),today:this.props.t("today"),clear:this.props.t("clear")},placeholder:"Delivery Date",value:this.state.deliveryDate,onChange:function(t){return e.setState({deliveryDate:t.value,deliveryTime:t.value})}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(re.Calendar,{locale:{firstDayOfWeek:parseInt(this.props.t("firstDayOfWeek")),dayNames:JSON.parse(this.props.t("dayNames")),dayNamesShort:JSON.parse(this.props.t("dayNamesShort")),dayNamesMin:JSON.parse(this.props.t("dayNamesMin")),monthNames:JSON.parse(this.props.t("monthNames")),monthNamesShort:JSON.parse(this.props.t("monthNamesShort")),today:this.props.t("today"),clear:this.props.t("clear")},placeholder:"Start Date",value:this.state.startDate,onChange:function(t){return e.setState({startDate:t.value,deliveryTime:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(re.Calendar,{locale:{firstDayOfWeek:parseInt(this.props.t("firstDayOfWeek")),dayNames:JSON.parse(this.props.t("dayNames")),dayNamesShort:JSON.parse(this.props.t("dayNamesShort")),dayNamesMin:JSON.parse(this.props.t("dayNamesMin")),monthNames:JSON.parse(this.props.t("monthNames")),monthNamesShort:JSON.parse(this.props.t("monthNamesShort")),today:this.props.t("today"),clear:this.props.t("clear")},placeholder:"End Date",value:this.state.endDate,onChange:function(t){return e.setState({endDate:t.value})}})))),r.a.createElement("div",{className:"p-grid p-col-12 p-md-7"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.ordersList,selectionMode:"single",header:r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:this.props.t("add_order"),visible:this.state.display1,modal:!0,style:{width:"30vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display1:!1,selectedProduct:null,selectedDock:null,quantity:""})},label:this.props.t("cancel"),className:"p-button-secondary"}),r.a.createElement(b.Button,{icon:"pi pi-check",onClick:function(){if(!(e.state.selectedProduct&&e.state.quantity&&e.state.selectedDock&&e.state.deliveryTime))return e.growl.show({severity:"warn",summary:e.props.t("validation_failed"),detail:e.props.t("all_fields_mandatory")}),!1;var t=e.state.ordersList,a=e.state.ordersApiList;t.push({product:JSON.parse(e.state.selectedProduct).name,quantity:e.state.quantity,dock:JSON.parse(e.state.selectedDock).name}),a.push(Object(se.a)({product:JSON.parse(e.state.selectedProduct)._id,quantity:e.state.quantity,dock:JSON.parse(e.state.selectedDock)._id},e.state.automatic?{}:{deliveryTime:e.state.deliveryTime})),e.setState({selectedProduct:null,quantity:"",selectedDock:null,ordersList:t,ordersApiList:a,display1:!1})},label:this.props.t("save")})),onHide:function(){return e.setState({display1:!1,quantity:"",selectedDock:null,selectedProduct:null})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("product"),value:this.state.selectedProduct,options:this.state.allProducts,onChange:function(t){var a=JSON.parse(t.value);e.setState({selectedProduct:t.value,selectedDocks:e.state.allDocks.filter((function(e){return JSON.parse(e.value).productTypes.indexOf(a.productType._id)>=0}))})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("quantity"),style:{width:"100%"},value:this.state.unitTagId,onChange:function(t){return e.setState({quantity:t.target.value})},type:"number",min:1})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("dock"),value:this.state.selectedDock,options:this.state.selectedDocks,onChange:function(t){return e.setState({selectedDock:t.value})}})),1===this.state.type&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("h5",null,this.props.t("automatic_time")),r.a.createElement(Ct.InputSwitch,{checked:this.state.automatic,onChange:function(t){return e.setState({automatic:t.value})}})),!this.state.automatic&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(re.Calendar,{placeholder:"Time",timeOnly:!0,showTime:!0,value:this.state.deliveryTime,onChange:function(t){e.setState({deliveryTime:t.value})}})))),r.a.createElement(b.Button,{type:"button",label:this.props.t("add_order"),icon:"pi pi-cog",onClick:function(){e.state.deliveryDate||e.state.startDate?e.setState({display1:!0}):e.growl.show({severity:"warn",summary:e.props.t("validation_failed"),detail:e.props.t("add_deliverydate")})}})),paginator:!0,rows:10,responsive:!0,selection:this.state.ordersList1,onSelectionChange:function(t){return e.setState({ordersList1:t.value})}},r.a.createElement(P.Column,{field:"product",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"quantity",header:this.props.t("quantity"),sortable:!0}),r.a.createElement(P.Column,{field:"dock",header:this.props.t("dock"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("delete"),body:function(t){return r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){var a=e.state.ordersList,n=e.state.ordersApiList;a.splice(a.indexOf(t),1),n.splice(a.indexOf(t),1),e.setState({ordersApiList:n,ordersList:a})}})},style:{textAlign:"center",width:"8em"}}))))),this.state.user.role<5&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_appointment"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,hqName:"",hqMetaName:"",editData:null})}}));return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("appointments")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:i,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.supplier.name},header:this.props.t("supplier")}),r.a.createElement(P.Column,{body:function(e){return e.user?e.user.name:e.userType.name},header:this.props.t("appointment_for")}),r.a.createElement(P.Column,{body:function(t){return t.orderCount+" "+e.props.t("products")},header:this.props.t("products")}),r.a.createElement(P.Column,{body:function(a){return-1!==a.status?t[a.status]:e.props.t("cancelled")},header:this.props.t("status"),field:"status",filter:!0,filterElement:n}),this.state.user.role<5&&r.a.createElement(P.Column,{header:this.props.t("view_details"),body:this.viewGate,style:{textAlign:"center"}})))))}}]),a}(n.Component),Lt=Object(N.a)()(Mt);var Pt=Object(Q.GoogleApiWrapper)((function(e){return{apiKey:"AIzaSyBBYqXYQ_WN8pz5RSyZwN97basD2xdxfHA",language:e.language}}))((function(e){var t=e.google,a=e.coordinate;return r.a.createElement("div",{id:"googleMaps",style:{position:"unset !important"}},r.a.createElement(Q.Map,{zoom:10,google:t,initialCenter:{lat:a[1],lng:a[0]},containerStyle:{width:"27vw",height:"40vh",position:"relative",margin:"15px 0"},center:{lat:a[1],lng:a[0]}},r.a.createElement(Q.Marker,{position:{lat:a[1],lng:a[0]}})))})),Ft=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editTruck",value:function(e,t){return S.a.patch(k+"v1/truck/"+e,t,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllTrucks",value:function(e){return S.a.get(k+"v1/truck?user="+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"getAllTrucksOvertime",value:function(){return S.a.get(k+"v1/driver-session?trucksExceedTime=true&$populate=truck&$populate=user&$populate=appointment&status=1",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createTruck",value:function(e){return S.a.post(k+"v1/truck",e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteTruck",value:function(e){return S.a.delete(k+"v1/truck/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),Ut=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],methods:[],selectedDate:"",selectedMonth:"",loading:!0,buttonLoading:!1,deleteLoading:!1},e.truckService=new Ft,e}return Object(o.a)(a,[{key:"checkPermission",value:function(e){return e.filter((function(e){return"/trucks-overtime"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/trucks-overtime"===e.route}))[0].methods}):window.location="#/accessdenied",this.truckService.getAllTrucksOvertime().then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("truck_overtime")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:null,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{header:this.props.t("truck"),body:function(e){return e.truck.name}}),r.a.createElement(P.Column,{header:this.props.t("licensePlate"),body:function(e){return e.truck.licensePlate}}),r.a.createElement(P.Column,{header:this.props.t("driver"),body:function(e){return e.user.name}}),r.a.createElement(P.Column,{header:this.props.t("view_appointment"),body:function(t){return r.a.createElement(b.Button,{icon:"",onClick:function(){return window.location="#/manage-appointment/"+t.appointment._id},label:e.props.t("view_appointment"),className:"p-button-secondary"})},style:{textAlign:"center",width:"12em"}}),r.a.createElement(P.Column,{header:this.props.t("locate_driver"),body:function(t){return r.a.createElement(b.Button,{icon:"",onClick:function(){return e.setState({driverCoordinates:t.coordinates,display1:!0})},label:e.props.t("locate_driver"),className:"p-button-secondary"})},style:{textAlign:"center",width:"12em"}}))),r.a.createElement(y.Dialog,{header:this.props.t("locate_driver"),visible:this.state.display1,modal:!0,style:{width:"30vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display1:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({display1:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(Pt,{language:this.props.t("mapLocale"),coordinate:this.state.driverCoordinates,setCoordinates:function(){}}))))))}}]),a}(n.Component),Wt=Object(N.a)()(Ut),qt=a(184),Gt=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"editOrder",value:function(e,t,a){return S.a.patch(k+"v1/order/"+e+"?$populate[0]=product&$populate[1]=dock",{quantity:a,appointment:t},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createOrder",value:function(e,t,a,n){return S.a.post(k+"v1/order?$populate[0]=product&$populate[1]=dock",{appointment:e,product:t,quantity:a,dock:n},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteOrder",value:function(e){return S.a.delete(k+"v1/order/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),Rt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],receipt:[],loading:!0,buttonLoading:!1,buttonLoadingNotify:!1,invalidDates:[],methods:[],deleteLoading:!1,user:JSON.parse(localStorage.getItem("daym-user"))},e.appointmentService=new ie,e.orderService=new Gt,e.holidayService=new qe,e.handleCreateOrder=e.handleCreateOrder.bind(Object(p.a)(e)),e.handleDeleteOrder=e.handleDeleteOrder.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e.uploadReceipt=e.uploadReceipt.bind(Object(p.a)(e)),e.handleSchedule=e.handleSchedule.bind(Object(p.a)(e)),e.handleAddDriver=e.handleAddDriver.bind(Object(p.a)(e)),e.updateStatusToThree=e.updateStatusToThree.bind(Object(p.a)(e)),e.handleGenerateTicket=e.handleGenerateTicket.bind(Object(p.a)(e)),e.handleCancel=e.handleCancel.bind(Object(p.a)(e)),e.handleLocateDriver=e.handleLocateDriver.bind(Object(p.a)(e)),e.handleNotifyDriver=e.handleNotifyDriver.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"uploadReceipt",value:function(e){var t=this;this.appointmentService.uploadFile(e.files).then((function(e){var a=[];e.data.file?a.push(e.data.file):a=e.data.files,t.setState({receipt:a}),t.updateStatusToThree(a)})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"updateStatusToThree",value:function(e){var t=this;this.appointmentService.updateStatusToThree(this.state.appointmentId,e).then((function(e){t.setState({appointmentDetails:Object(se.a)(Object(se.a)({},t.state.appointmentDetails),e.data)})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteOrder(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,quantity:e.quantity,editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/manage-appointment"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/manage-appointment"===e.route}))[0].methods}):window.location="#/accessdenied";var a=this.props.location.pathname.split("/")[2];this.setState({appointmentId:a}),this.appointmentService.getAppointment(a||"").then((function(t){var a=[];t.data.receipt&&("string"===typeof t.data.receipt?a.push(t.data.receipt):a=t.data.receipt),e.appointmentService.getAllDriver(t.data.supplier._id).then((function(t){e.setState({allDriver:t.data.map((function(e){return{label:e.name,value:e._id}}))})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})})),e.setState({dataTableValue:t.data.orders,loading:!1,appointmentDetails:t.data,receipt:a})})).catch((function(e){console.log("Errrrrrr-----\x3e",e)})),this.appointmentService.getAllProducts().then((function(t){e.setState({allProducts:t.data.map((function(e){return{label:"".concat(e.name,"(").concat(e.productType.name,")"),value:JSON.stringify(e)}}))})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})})),this.appointmentService.getAllGates().then((function(t){e.setState({allGatesEntry:t.data.filter((function(e){return 1===e.gateType})).map((function(e){return{label:e.name,value:e._id}})),allGatesExit:t.data.filter((function(e){return 2===e.gateType})).map((function(e){return{label:e.name,value:e._id}}))})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})})),this.appointmentService.getAllDocks().then((function(t){e.setState({allDocks:t.data.map((function(e){return{label:"".concat(e.name,"(").concat(e.parentId.name,")"),value:JSON.stringify(e)}}))})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}));var n=JSON.parse(localStorage.getItem("daym-user"))._id;this.appointmentService.getAllTrucks(n).then((function(t){e.setState({allTrucks:t.data.map((function(e){return{label:e.name,value:e._id}}))})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"validate",value:function(){if(this.state.editData){if(!this.state.quantity||0===this.state.quantity)return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("quantity_cant")}),!1}else{if(!(this.state.selectedProduct&&this.state.quantity&&this.state.selectedDock))return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")}),!1;if(0===this.state.quantity)return this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("quantity_cant")}),!1}return!0}},{key:"handleCreateOrder",value:function(){var e=this;this.validate()&&(this.setState({buttonLoading:!0}),this.state.editData?this.orderService.editOrder(this.state.editData._id,this.state.appointmentId,this.state.quantity).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("order")+" "+e.props.t("edited_Successfully")}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"}),e.setState({buttonLoading:!1})})):this.orderService.createOrder(this.state.appointmentId,JSON.parse(this.state.selectedProduct)._id,this.state.quantity,JSON.parse(this.state.selectedDock)._id).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("order")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"}),e.setState({buttonLoading:!1})})))}},{key:"handleDeleteOrder",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.orderService.deleteOrder(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("order")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("order")}),t.setState({deleteLoading:!1})}))}},{key:"handleSchedule",value:function(){var e=this;this.appointmentService.updateStatusToFour(this.state.appointmentId,this.state.selectedGateEntry,this.state.selectedGateExit).then((function(t){e.setState({appointmentDetails:Object(se.a)(Object(se.a)({},e.state.appointmentDetails),t.data)})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"handleLocateDriver",value:function(){var e=this;this.appointmentService.getDriverCoordinate(this.state.appointmentId).then((function(t){e.setState({driverCoordinates:t.coordinates,lastUpdated:t.coordinateLastUpdated,display1:!0})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"handleNotifyDriver",value:function(){var e=this;if(this.state.textMesage&&""!==this.state.textMesage){var t=[];this.setState({buttonLoadingNotify:!0}),t.push(this.state.appointmentDetails.driver._id),this.appointmentService.notifyDriver(this.state.textMesage,t).then((function(t){e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("notify_success")}),e.setState({driverCoordinates:t.coordinates,lastUpdated:t.coordinateLastUpdated,display2:!1,buttonLoadingNotify:!1})})).catch((function(t){var a=t.response.data.message;e.setState({buttonLoadingNotify:!1}),e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}}},{key:"handleAddDriver",value:function(){var e=this;this.appointmentService.addDriver(this.state.appointmentId,this.state.selectedDriver,this.state.selectedTruck,this.state.appointmentDetails&&2===this.state.appointmentDetails.operationType?{status:3}:{}).then((function(t){e.setState({appointmentDetails:Object(se.a)(Object(se.a)({},e.state.appointmentDetails),t.data)})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"handleGenerateTicket",value:function(){var e=this,t=localStorage.getItem("i18nextLng"),a="en"===t?"english":"sp"===t?"spanish":"portuguese";this.appointmentService.generateTicket(this.state.appointmentId,a).then((function(t){e.setState({appointmentDetails:Object(se.a)(Object(se.a)({},e.state.appointmentDetails),t.data)})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"handleCancel",value:function(){var e=this;this.appointmentService.cancelAppointment(this.state.appointmentId).then((function(t){e.setState({appointmentDetails:Object(se.a)(Object(se.a)({},e.state.appointmentDetails),t.data)})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Something Went Wrong"})}))}},{key:"render",value:function(){var e=this,t=[this.props.t("initiated"),this.props.t("pending"),this.props.t("changed_supplier"),this.props.t("confirmed_supplier"),this.props.t("scheduled"),this.props.t("accept_security"),this.props.t("reject_security"),this.props.t("truck_enter"),this.props.t("complete"),this.props.t("cancelled")],a=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateOrder,label:this.props.t("save")})),n=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("orders"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:a,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("product"),value:this.state.selectedProduct,options:this.state.allProducts,onChange:function(t){var a=JSON.parse(t.value);e.setState({selectedProduct:t.value,selectedDocks:e.state.allDocks.filter((function(e){return JSON.parse(e.value).productTypes.indexOf(a.productType._id)>=0}))})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("quantity"),style:{width:"100%"},value:this.state.quantity,onChange:function(t){return e.setState({quantity:t.target.value})},type:"number"})),!this.state.editData&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("dock"),value:this.state.selectedDock,options:this.state.selectedDocks,onChange:function(t){return e.setState({selectedDock:t.value})}}))))),s=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return this.props.location.pathname.split("/")[2]?r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),4===this.state.user.role&&this.state.appointmentDetails&&1===this.state.appointmentDetails.operationType&&(1===this.state.appointmentDetails.status||2===this.state.appointmentDetails.status)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-col-6"},r.a.createElement("h3",null,this.props.t("receipt")),r.a.createElement(qt.FileUpload,{name:"demo",customUpload:!0,uploadHandler:this.uploadReceipt,accept:"application/pdf"}))),this.state.appointmentDetails&&(this.state.appointmentDetails.user&&this.state.user._id===this.state.appointmentDetails.user._id||this.state.appointmentDetails.userType&&this.state.user.userType._id===this.state.appointmentDetails.userType._id)&&this.state.appointmentDetails&&3===this.state.appointmentDetails.status&&r.a.createElement("div",{className:"card p-col-12",style:{margin:6,width:"98%"}},r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("h2",null,this.props.t("schedule_appointment"))),r.a.createElement("div",{className:"p-col-4"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("entrance")+" "+this.props.t("gate"),value:this.state.selectedGateEntry,options:this.state.allGatesEntry,onChange:function(t){return e.setState({selectedGateEntry:t.value})}})),r.a.createElement("div",{className:"p-col-4"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("exit")+" "+this.props.t("gate"),value:this.state.selectedGateExit,options:this.state.allGatesExit,onChange:function(t){return e.setState({selectedGateExit:t.value})}})),r.a.createElement("div",{className:"p-col-4"},r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleSchedule,label:this.props.t("schedule_appointment")})))),4===this.state.user.role&&this.state.appointmentDetails&&(1===this.state.appointmentDetails.status||2===this.state.appointmentDetails.status)&&r.a.createElement("div",{className:"card p-col-12",style:{margin:6,width:"98%"}},r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("h2",null,this.props.t("add_driver"))),r.a.createElement("div",{className:"p-col-6"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("drivers"),value:this.state.selectedDriver,options:this.state.allDriver,onChange:function(t){return e.setState({selectedDriver:t.value})}})),r.a.createElement("div",{className:"p-col-6"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("trucks"),value:this.state.selectedTruck,options:this.state.allTrucks,onChange:function(t){return e.setState({selectedTruck:t.value})}})),r.a.createElement("div",{className:"p-col-6"},r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleAddDriver,label:this.props.t("add_driver")})))),this.state.appointmentDetails&&(this.state.appointmentDetails.user&&this.state.user._id===this.state.appointmentDetails.user._id||this.state.appointmentDetails.userType&&this.state.user.userType._id===this.state.appointmentDetails.userType._id)&&!this.state.appointmentDetails.ticket&&4===this.state.appointmentDetails.status&&r.a.createElement("div",{className:"p-col-4 p-fluid"},r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleGenerateTicket,label:this.props.t("generate_ticket")})),this.state.appointmentDetails&&7===this.state.appointmentDetails.status&&r.a.createElement("div",{className:"p-col-4 p-fluid"},r.a.createElement(y.Dialog,{header:this.props.t("notify_driver"),visible:this.state.display2,modal:!0,style:{width:"30vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display2:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoadingNotify?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleNotifyDriver,label:this.props.t("save")})),onHide:function(){return e.setState({display2:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("message"),style:{width:"100%"},value:this.state.textMesage,onChange:function(t){return e.setState({textMesage:t.target.value})}})))),r.a.createElement(b.Button,{icon:"pi pi-check",onClick:function(){return e.setState({display2:!0})},label:this.props.t("notify_driver")})),this.state.appointmentDetails&&7===this.state.appointmentDetails.status&&r.a.createElement("div",{className:"p-col-4 p-fluid"},r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleLocateDriver,label:this.props.t("locate_driver")})),this.state.appointmentDetails&&this.state.appointmentDetails.ticket&&r.a.createElement("div",{className:"p-col-4 p-fluid"},r.a.createElement(b.Button,{icon:"pi pi-check",onClick:function(){window.location=e.state.appointmentDetails.ticket},label:this.props.t("view_ticket")})),this.state.appointmentDetails&&this.state.receipt.length>0&&r.a.createElement("div",{className:"p-col-4 p-fluid"},r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:this.props.t("view_receipt"),value:this.state.selectedReciept,options:this.state.receipt.map((function(e,t){return{label:"Receipt "+t,value:e}})),onChange:function(t){window.open(t.value,"_blank"),e.setState({selectedReciept:t.value})}})),this.state.appointmentDetails&&(this.state.appointmentDetails.user&&this.state.user._id===this.state.appointmentDetails.user._id||this.state.appointmentDetails.userType&&this.state.user.userType._id===this.state.appointmentDetails.userType._id)&&this.state.appointmentDetails.status<3&&-1!==this.state.appointmentDetails.status&&r.a.createElement("div",{className:"p-col-4 p-fluid"},r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCancel,label:this.props.t("cancel")})),!this.state.loading&&r.a.createElement("div",{className:"card p-col-12",style:{margin:6,width:"98%"}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("schedule")),r.a.createElement("h3",null,this.state.appointmentDetails&&W()(this.state.appointmentDetails.deliveryOn).format("DD-MM-YYYY"))),r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("supplier")),r.a.createElement("h3",null,this.state.appointmentDetails&&this.state.appointmentDetails.supplier.name)),r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("appointment_for")),r.a.createElement("h3",null,this.state.appointmentDetails&&this.state.appointmentDetails.user?this.state.appointmentDetails.user.name:this.state.appointmentDetails.userType.name)),r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("status")),r.a.createElement("h3",null,this.state.appointmentDetails&&-1!==this.state.appointmentDetails.status?t[this.state.appointmentDetails.status]:"Cancelled")))),this.state.appointmentDetails&&r.a.createElement("div",{className:"card p-col-12",style:{margin:6,width:"98%"}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("entrance")+" "+this.props.t("gate")),r.a.createElement("h3",null,this.state.appointmentDetails&&this.state.appointmentDetails.entranceGate?this.state.appointmentDetails.entranceGate.name:this.props.t("not_added"))),r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("exit")+" "+this.props.t("gate")),r.a.createElement("h3",null,this.state.appointmentDetails&&this.state.appointmentDetails.exitGate?this.state.appointmentDetails.exitGate.name:this.props.t("not_added"))),r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("driver")),r.a.createElement("h3",null,this.state.appointmentDetails&&this.state.appointmentDetails.driver?this.state.appointmentDetails.driver.name:this.props.t("not_added"))),r.a.createElement("div",{className:"p-col-3"},r.a.createElement("h4",null,this.props.t("truck")),r.a.createElement("h3",null,this.state.appointmentDetails&&this.state.appointmentDetails.truck?this.state.appointmentDetails.truck.name:this.props.t("not_added"))))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("orders")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:n,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.product.name},header:this.props.t("product")}),r.a.createElement(P.Column,{header:this.props.t("quantity"),body:function(e){return e.quantity},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("dock"),body:function(e){return e.dock.name},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:this.props.t("delivery_time"),body:function(e){return W()(e.deliveryTime).local().format("hh:mm A")},style:{textAlign:"center"}}),this.state.appointmentDetails&&this.state.appointmentDetails.status<3&&-1!==this.state.appointmentDetails.status&&r.a.createElement(P.Column,{header:s,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("locate_driver"),visible:this.state.display1,modal:!0,style:{width:"30vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display1:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({display1:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,"Last Updated At : ".concat(W()(this.state.lastUpdated).local().format("DD/MM/YY hh:mm A")))),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(Pt,{language:this.props.t("mapLocale"),coordinate:this.state.driverCoordinates,setCoordinates:function(){}}))))):r.a.createElement("div",{className:"p-grid",style:{height:"75vh"}},r.a.createElement("div",{className:"p-col-12",style:{height:"75vh"}},r.a.createElement("h2",{style:{marginTop:"35vh",textAlign:"center"}},this.props.t("no_warehouse"))))}}]),a}(n.Component),Ht=Object(N.a)()(Rt),zt=a(149),Jt=a(185),Yt=a(307),$t=a(308),Qt=a(89),Kt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={date:null,country:null,filteredCountries:null,countriesData:[],dropdownCity:null,cities:[{label:"Select City",value:null},{label:"New York",value:"New York"},{label:"Rome",value:"Rome"},{label:"London",value:"London"},{label:"Istanbul",value:"Istanbul"},{label:"Paris",value:"Paris"}],spinnerValue:null,checkboxValue:[],radioValue:null,sliderValue:null,toggleButtonValue:null,dialogVisible:!1,dataTableValue:[],dataTableSelection:null,dataViewValue:[],treeData:[],picklistSourceCars:[],picklistTargetCars:[],orderlistCars:[],layout:"list",selectedCars:[],carOptions:[{label:"Audi",value:"Audi"},{label:"BMW",value:"BMW"},{label:"Fiat",value:"Fiat"},{label:"Honda",value:"Honda"},{label:"Jaguar",value:"Jaguar"},{label:"Mercedes",value:"Mercedes"},{label:"Renault",value:"Renault"},{label:"VW",value:"VW"},{label:"Volvo",value:"Volvo"}],listBoxCity:null,listBoxCities:[{label:"Madrid",value:"Madrid"},{label:"Geneva",value:"Geneva"},{label:"Los Angeles",value:"Los Angeles"},{label:"Monaco",value:"Monaco"},{label:"Berlin",value:"Berlin"}],selectedType:null,types:[{label:"Apartment",value:"Apartment"},{label:"House",value:"House"},{label:"Studio",value:"Studio"}],splitButtonItems:[{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-times"},{label:"Home",icon:"pi pi-home",url:"http://www.primefaces.org/primereact"}],menuItems:[{label:"Options",items:[{label:"New",icon:"pi pi-fw pi-plus",command:function(){return window.location.hash="/fileupload"}},{label:"Delete",icon:"pi pi-fw pi-trash",url:"http://primetek.com.tr"}]},{label:"Account",items:[{label:"Options",icon:"pi pi-fw pi-cog",command:function(){return window.location.hash="/"}},{label:"Sign Out",icon:"pi pi-fw pi-power-off"}]}],panelMenuItems:[{label:"Documents",icon:"pi pi-fw pi-file",items:[{label:"New",icon:"pi pi-fw pi-plus",items:[{label:"Bookmark",icon:"pi pi-fw pi-bookmark"},{label:"Video",icon:"pi pi-fw pi-video"}]},{label:"Delete",icon:"pi pi-fw pi-trash"},{separator:!0},{label:"Export",icon:"pi pi-fw pi-external-link"}]},{label:"Manage",icon:"pi pi-fw pi-pencil",items:[{label:"Left",icon:"pi pi-fw pi-align-left"},{label:"Right",icon:"pi pi-fw pi-align-right"},{label:"Center",icon:"pi pi-fw pi-align-center"},{label:"Justify",icon:"pi pi-fw pi-align-justify"}]},{label:"Accounts",icon:"pi pi-fw pi-user",items:[{label:"New",icon:"pi pi-fw pi-user-plus"},{label:"Delete",icon:"pi pi-fw pi-user-minus"},{label:"Search",icon:"pi pi-fw pi-users",items:[{label:"Filter",icon:"pi pi-fw pi-filter",items:[{label:"Print",icon:"pi pi-fw pi-print"}]},{icon:"pi pi-fw pi-bars",label:"List"}]}]},{label:"Calendar",icon:"pi pi-fw pi-calendar",items:[{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Save",icon:"pi pi-fw pi-calendar-plus"},{label:"Delete",icon:"pi pi-fw pi-calendar-minus"}]},{label:"Archieve",icon:"pi pi-fw pi-calendar-times",items:[{label:"Remove",icon:"pi pi-fw pi-calendar-minus"}]}]}]},e.countryService=new wt,e.carService=new ct,e.nodeService=new ut,e.onCheckboxChange=e.onCheckboxChange.bind(Object(p.a)(e)),e.filterCountry=e.filterCountry.bind(Object(p.a)(e)),e.dataViewItemTemplate=e.dataViewItemTemplate.bind(Object(p.a)(e)),e.orderListTemplate=e.orderListTemplate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({countriesData:this.countryService.getCountries(this)}),this.carService.getCarsSmall().then((function(t){return e.setState({dataTableValue:t})})),this.carService.getCarsLarge().then((function(t){return e.setState({dataViewValue:t})})),this.nodeService.getTreeNodes(this).then((function(t){return e.setState({treeData:t})})),this.carService.getCarsSmall().then((function(t){return e.setState({picklistSourceCars:t})})),this.carService.getCarsSmall().then((function(t){return e.setState({orderlistCars:t})}))}},{key:"filterCountry",value:function(e){var t=this.state.countriesData.filter((function(t){return t.name.toLowerCase().startsWith(e.query.toLowerCase())}));this.setState({filteredCountries:t})}},{key:"onCheckboxChange",value:function(e){var t=Object(R.a)(this.state.checkboxValue);e.checked?t.push(e.value):t.splice(t.indexOf(e.value),1),this.setState({checkboxValue:t})}},{key:"orderListTemplate",value:function(e){if(e)return r.a.createElement("div",{className:"p-clearfix"},r.a.createElement("img",{src:"assets/demo/images/car/".concat(e.brand,".png"),alt:e.brand,style:{display:"inline-block",margin:"2px 0 2px 2px",width:"50px"}}),r.a.createElement("div",{style:{fontSize:14,float:"right",margin:"15px 5px 0 0"}},e.brand," - ",e.year," - ",e.color))}},{key:"dataViewItemTemplate",value:function(e,t){var a=this;if(e)return"list"===t?r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"car-details"},r.a.createElement("div",null,r.a.createElement("img",{src:"assets/demo/images/car/".concat(e.brand,".png"),alt:e.brand}),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},"Vin: ",r.a.createElement("b",null,e.vin)),r.a.createElement("div",{className:"p-col-12"},"Year: ",r.a.createElement("b",null,e.year)),r.a.createElement("div",{className:"p-col-12"},"Brand: ",r.a.createElement("b",null,e.brand)),r.a.createElement("div",{className:"p-col-12"},"Color: ",r.a.createElement("b",null,e.color)))),r.a.createElement(b.Button,{icon:"pi pi-search",onClick:function(t){return a.setState({selectedCar:e,visible:!0})}}))):"grid"===t?r.a.createElement("div",{style:{padding:".5em"},className:"p-col-12 p-md-3"},r.a.createElement(ft.Panel,{header:e.vin,style:{textAlign:"center"}},r.a.createElement("img",{src:"assets/demo/images/car/".concat(e.brand,".png"),alt:e.brand}),r.a.createElement("div",{className:"car-detail"},e.year," - ",e.color),r.a.createElement("i",{className:"pi pi-search",style:{cursor:"pointer"}}))):void 0}},{key:"render",value:function(){var e=this,t=r.a.createElement(b.Button,{label:"Login",icon:"pi pi-user",onClick:function(){return e.setState({dialogValue:!1})}}),a=r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-6 p-md-8 filter-container"},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(f.InputText,{placeholder:"Search by brand",onKeyUp:function(t){return e.dv.filter(t.target.value)},style:{width:"12.5em"}}))),r.a.createElement("div",{className:"p-col-6 p-md-4",style:{textAlign:"right"}},r.a.createElement(yt.DataViewLayoutOptions,{layout:this.state.layout,onChange:function(t){return e.setState({layout:t.value})}})));return r.a.createElement("div",{className:"p-fluid"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"p-messages p-component p-messages-success",style:{margin:"0 0 1em 0"}},r.a.createElement("div",{className:"p-messages-wrapper"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"p-messages-icon pi pi-fw pi-2x pi-check",style:{verticalAlign:"bottom"}}),r.a.createElement("span",{className:"p-messages-summary",style:{fontSize:"16px"}},"Roma provides a theme for all 70+ PrimeReact Components. This page contains samples of the commonly used components for demo purposes."))))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Form Elements"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"input"},"Input")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(f.InputText,{id:"input"})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"textarea"},"Textarea")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(St.InputTextarea,{id:"textarea",rows:3,cols:30,autoResize:!0})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"calendar"},"Calendar")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(re.Calendar,{id:"calendar",value:this.state.date,onChange:function(t){return e.setState({date:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"autocomplete"},"AutoComplete")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(kt.AutoComplete,{minLength:1,placeholder:"Countries",id:"autocomplete",field:"name",suggestions:this.state.filteredCountries,completeMethod:this.filterCountry,value:this.state.country,onChange:function(t){return e.setState({country:t.value,filteredCountries:null})}})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"dropdown"},"Dropdown")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(v.Dropdown,{options:this.state.cities,value:this.state.dropdownCity,onChange:function(t){return e.setState({dropdownCity:t.value})},autoWidth:!1})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(Nt.Password,{id:"password"})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"mask"},"Mask")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(Yt.InputMask,{id:"mask",mask:"99/99/9999",slotChar:"dd/mm/yyyy",placeholder:"Date"})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"spinner"},"Spinner")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(_t.Spinner,{value:this.state.spinnerValue,onChange:function(t){return e.setState({spinnerValue:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-2"},"Checkbox"),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement(Ce.Checkbox,{value:"Ultima",inputId:"cb1",onChange:this.onCheckboxChange,checked:this.state.checkboxValue.indexOf("Ultima")>-1}),r.a.createElement("label",{htmlFor:"cb1",className:"p-checkbox-label"},"Ultima")),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(Ce.Checkbox,{value:"Avalon",inputId:"cb2",onChange:this.onCheckboxChange,checked:this.state.checkboxValue.indexOf("Avalon")>-1}),r.a.createElement("label",{htmlFor:"cb2",className:"p-checkbox-label"},"Avalon")),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(Ce.Checkbox,{value:"Serenity",inputId:"cb3",onChange:this.onCheckboxChange,checked:this.state.checkboxValue.indexOf("Serenity")>-1}),r.a.createElement("label",{htmlFor:"cb3",className:"p-checkbox-label"},"Serenity")))),r.a.createElement("div",{className:"p-col-12 p-md-2"},"RadioButton"),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement(de.RadioButton,{value:"Ultima",inputId:"rb1",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Ultima"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb1",className:"p-radiobutton-label"},"Ultima")),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(de.RadioButton,{value:"Avalon",inputId:"rb2",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Avalon"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb2",className:"p-radiobutton-label"},"Avalon")),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(de.RadioButton,{value:"Serenity",inputId:"rb3",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Serenity"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb3",className:"p-radiobutton-label"},"Serenity")))),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"slider"},"Slider")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement($t.Slider,{id:"slider",value:this.state.sliderValue,onChange:function(t){return e.setState({sliderValue:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-2"},"Button"),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(b.Button,{label:"Edit",icon:"pi pi-pencil"})),r.a.createElement("div",{className:"p-col-12 p-md-2"},"SplitButton"),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(Bt.SplitButton,{label:"Save",icon:"pi pi-plus",model:this.state.splitButtonItems})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"multiselect"},"MultiSelect")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(le.MultiSelect,{id:"multiselect",value:this.state.selectedCars,options:this.state.carOptions,onChange:function(t){return e.setState({selectedCars:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-2"},"ToggleButton"),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(jt.ToggleButton,{checked:this.state.toggleButtonValue,onChange:function(t){return e.setState({toggleButtonValue:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-2"},"SelectButton"),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(It.SelectButton,{value:this.state.selectedType,options:this.state.types,onChange:function(t){return e.setState({selectedType:t.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-2"},r.a.createElement("label",{htmlFor:"listbox"},"ListBox")),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(Dt.ListBox,{value:this.state.listBoxCity,options:this.state.listBoxCities,onChange:function(t){return e.setState({listBoxCity:t.value})},filter:!0})),r.a.createElement("div",{className:"p-col-12 p-md-2"},"Dialog"),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(b.Button,{label:"Login",icon:"pi pi-external-link",onClick:function(){return e.setState({dialogVisible:!0})}}))),r.a.createElement(y.Dialog,{header:"Login",visible:this.state.dialogVisible,footer:t,onHide:function(){return e.setState({dialogVisible:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement(f.InputText,{placeholder:"Username"})),r.a.createElement("div",{className:"p-col-12"},r.a.createElement(f.InputText,{placeholder:"Password"}))))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"DataTable"),r.a.createElement(F.DataTable,{value:this.state.dataTableValue,selectionMode:"single",header:"DataTable",selection:this.state.dataTableSelection,onSelectionChange:function(t){return e.setState({dataTableSelection:t.value})}},r.a.createElement(P.Column,{field:"vin",header:"Vin",sortable:!0}),r.a.createElement(P.Column,{field:"year",header:"Year",sortable:!0}),r.a.createElement(P.Column,{field:"brand",header:"Brand",sortable:!0}),r.a.createElement(P.Column,{field:"color",header:"Color",sortable:!0})))),r.a.createElement("div",{className:"p-col-12 dataview-demo"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"DataView"),r.a.createElement(yt.DataView,{ref:function(t){return e.dv=t},value:this.state.dataViewValue,filterBy:"brand",itemTemplate:this.dataViewItemTemplate,paginatorPosition:"both",paginator:!0,rows:10,header:a,layout:this.state.layout}))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"PickList"),r.a.createElement(vt.PickList,{source:this.state.picklistSourceCars,target:this.state.picklistTargetCars,sourceHeader:"Available",targetHeader:"Selected",responsive:!0,itemTemplate:function(e){return r.a.createElement("span",null,e.brand)},onChange:function(t){return e.setState({picklistSourceCars:t.source,picklistTargetCars:t.target})}})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"OrderList"),r.a.createElement(gt.OrderList,{value:this.state.orderlistCars,responsive:!0,header:"OrderList",listStyle:{height:250},itemTemplate:this.orderListTemplate,onChange:function(t){return e.setState({orderlistCars:t.value})}})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"ProgressBar"),r.a.createElement(M.ProgressBar,{value:50})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"PanelMenu"),r.a.createElement(Jt.PanelMenu,{model:this.state.panelMenuItems}))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Accordion Panel"),r.a.createElement(Qt.Accordion,null,r.a.createElement(Qt.AccordionTab,{header:"Godfather I"},"The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughters wedding. His beloved son Michael has just come home from the war, but does not intend to become part of his fathers business. Through Michaels life the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family."),r.a.createElement(Qt.AccordionTab,{header:"Godfather II"},"Francis Ford Coppolas legendary continuation and sequel to his landmark 1972 film, The_Godfather parallels the young Vito Corleone's rise with his son Michael's spiritual fall, deepening The_Godfathers depiction of the dark side of the American dream. In the early 1900s, the child Vito flees his Sicilian village for America after the local Mafia kills his family. Vito struggles to make a living, legally or illegally, for his wife and growing brood in Little Italy, killing the local Black Hand Fanucci after he demands his customary cut of the tyro's business. With Fanucci gone, Vito's communal stature grows."),r.a.createElement(Qt.AccordionTab,{header:"Godfather III"},"After a break of more than 15 years, director Francis Ford Coppola and writer Mario Puzo returned to the well for this third and final story of the fictional Corleone crime family. Two decades have passed, and crime kingpin Michael Corleone, now divorced from his wife Kay has nearly succeeded in keeping his promise that his family would one day be completely legitimate.")),r.a.createElement("h1",null,"TabView"),r.a.createElement(B.TabView,null,r.a.createElement(B.TabPanel,{header:"Godfather I",leftIcon:"pi pi-check"},"The story begins as Don Vito Corleone, the head of a New York Mafia family, overseeshis daughter's wedding. His beloved son ichael has just come home from the war, but does not intend to become part of his father's business. Through Michael's life the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family."),r.a.createElement(B.TabPanel,{header:"Godfather II",leftIcon:"pi pi-user"},"Francis Ford Coppola's legendary continuation and sequel to his landmark 1972 film, The_Godfather parallels the young Vito Corleone's rise with his son Michael's spiritual fall, deepening The_Godfather's depiction of the dark side of the American dream. In the early 1900s, the child Vito flees his Sicilian village for America after the local Mafia kills his family. Vito struggles to make a living, legally or illegally, for his wife and growing brood in Little Italy."),r.a.createElement(B.TabPanel,{header:"Godfather III"},"The Godfather Part III is set in 1979 and 1980. Michael has moved back to New York and taken great strides to remove the family from crime. He turns over his New York criminal interests to longtime enforcer Joey Zasa. He uses his wealth in an attempt to rehabilitate his reputation through numerous philanthropic acts, administered by a foundation named after his father. A decade earlier, he gave custody of his two children to Kay, who has since remarried."))),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Panel"),r.a.createElement(ft.Panel,{header:"Godfather I",toggleable:!0},"The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved son Michael has just come home from the war, but does not intend to become part of his father's business. Through Michael's life the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family.")),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Tree"),r.a.createElement(mt.Tree,{value:this.state.treeData,selectionMode:"single"})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Menu"),r.a.createElement(zt.Menu,{model:this.state.menuItems})))))}}]),a}(n.Component),Zt=a(309),Xt=a(310),ea=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"AccordionPanel"),r.a.createElement(Qt.Accordion,null,r.a.createElement(Qt.AccordionTab,{header:"Godfather I"},"The story begins as Don Vito Corleone, the head of a New York Mafia family, overseeshis daughter's wedding. His beloved son ichael has just come home from the war, but does not intend to become part of his father's business. Through Michael's life the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family."),r.a.createElement(Qt.AccordionTab,{header:"Godfather II"},"Francis Ford Coppola's legendary continuation and sequel to his landmark 1972 film, The_Godfather parallels the young Vito Corleone's rise with his son Michael's spiritual fall, deepening The_Godfather's depiction of the dark side of the American dream. In the early 1900s, the child Vito flees his Sicilian village for America after the local Mafia kills his family. Vito struggles to make a living, legally or illegally, for his wife and growing brood in Little Italy."),r.a.createElement(Qt.AccordionTab,{header:"Godfather III"},"The Godfather Part III is set in 1979 and 1980. Michael has moved back to New York and taken great strides to remove the family from crime. He turns over his New York criminal interests to longtime enforcer Joey Zasa. He uses his wealth in an attempt to rehabilitate his reputation through numerous philanthropic acts, administered by a foundation named after his father. A decade earlier, he gave custody of his two children to Kay, who has since remarried.")))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Panel"),r.a.createElement(ft.Panel,{header:"Godfather I",toggleable:!0},r.a.createElement("p",null,"The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved son Michael has just come home from the war, but does not intend to become part of his father's business. Through Michael's life the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family.")))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"TabView"),r.a.createElement(B.TabView,null,r.a.createElement(B.TabPanel,{header:"Godfather I",leftIcon:"pi pi-check"},"The story begins as Don Vito Corleone, the head of a New York Mafia family, overseeshis daughter's wedding. His beloved son ichael has just come home from the war, but does not intend to become part of his father's business. Through Michael's life the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family."),r.a.createElement(B.TabPanel,{header:"Godfather II",leftIcon:"pi pi-user"},"Francis Ford Coppola's legendary continuation and sequel to his landmark 1972 film, The_Godfather parallels the young Vito Corleone's rise with his son Michael's spiritual fall, deepening The_Godfather's depiction of the dark side of the American dream. In the early 1900s, the child Vito flees his Sicilian village for America after the local Mafia kills his family. Vito struggles to make a living, legally or illegally, for his wife and growing brood in Little Italy."),r.a.createElement(B.TabPanel,{header:"Godfather III"},"The Godfather Part III is set in 1979 and 1980. Michael has moved back to New York and taken great strides to remove the family from crime. He turns over his New York criminal interests to longtime enforcer Joey Zasa. He uses his wealth in an attempt to rehabilitate his reputation through numerous philanthropic acts, administered by a foundation named after his father. A decade earlier, he gave custody of his two children to Kay, who has since remarried.")))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Fieldset"),r.a.createElement(Zt.Fieldset,{legend:"Toggleable",toggleable:!0},"The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved son Michael has just come home from the war, but does not intend to become part of his father's business. Through life of Michael the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family."))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Toolbar"),r.a.createElement(Xt.Toolbar,null,r.a.createElement("div",{className:"p-toolbar-group-left"},r.a.createElement(b.Button,{label:"New",icon:"pi pi-plus",style:{marginRight:".25em"}}),r.a.createElement(b.Button,{label:"Upload",icon:"pi pi-upload",className:"p-button-success"}),r.a.createElement("i",{className:"pi pi-bars p-toolbar-separator"}),r.a.createElement(b.Button,{label:"Save",icon:"pi pi-check",className:"p-button-warning"})),r.a.createElement("div",{className:"p-toolbar-group-right"},r.a.createElement(b.Button,{icon:"pi pi-search",style:{marginRight:".25em"}}),r.a.createElement(b.Button,{icon:"pi pi-calendar",className:"p-button-success",style:{marginRight:".25em"}}),r.a.createElement(b.Button,{icon:"pi pi-times",className:"p-button-danger"}))))))}}]),a}(n.Component),ta=a(221),aa=a(311),na=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],display:!1,images:[{source:"assets/demo/images/sopranos/sopranos1.jpg",thumbnail:"assets/demo/images/sopranos/sopranos1_small.jpg",title:"Sopranos 1"},{source:"assets/demo/images/sopranos/sopranos2.jpg",thumbnail:"assets/demo/images/sopranos/sopranos2_small.jpg",title:"Sopranos 2"},{source:"assets/demo/images/sopranos/sopranos3.jpg",thumbnail:"assets/demo/images/sopranos/sopranos3_small.jpg",title:"Sopranos 3"},{source:"assets/demo/images/sopranos/sopranos4.jpg",thumbnail:"assets/demo/images/sopranos/sopranos4_small.jpg",title:"Sopranos 4"}]},e.carService=new ct,e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.carService.getCarsSmall().then((function(t){return e.setState({dataTableValue:t.splice(0,5)})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-check",onClick:function(){return e.setState({display:!1})},label:"Yes"}),r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:"No",className:"p-button-secondary"}));return r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Overlay Panel"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-6"},r.a.createElement(b.Button,{label:"Image",onClick:function(t){return e.overlayPanel1.toggle(t)}}),r.a.createElement(ta.OverlayPanel,{ref:function(t){return e.overlayPanel1=t}},r.a.createElement("img",{src:"assets/demo/images/nature/nature1.jpg",alt:"Nature 1"}))),r.a.createElement("div",{className:"p-col-6"},r.a.createElement(b.Button,{label:"DataTable",onClick:function(t){return e.overlayPanel2.toggle(t)}}),r.a.createElement(ta.OverlayPanel,{ref:function(t){return e.overlayPanel2=t},showCloseIcon:!0,dismissable:!1},r.a.createElement(F.DataTable,{value:this.state.dataTableValue,style:{width:"500px"}},r.a.createElement(P.Column,{field:"vin",header:"Vin",sortable:!0}),r.a.createElement(P.Column,{field:"year",header:"Year",sortable:!0}),r.a.createElement(P.Column,{field:"brand",header:"Brand",sortable:!0}),r.a.createElement(P.Column,{field:"color",header:"Color",sortable:!0})))))),r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Dialog"),r.a.createElement(y.Dialog,{header:"Godfather I",visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},"The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved son Michael has just come home from the war, but does not intend to become part of his father's business. Through Michael's life the nature of the family business becomes clear. The business of the family is just like the head of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands against the good of the family."),r.a.createElement(b.Button,{icon:"pi pi-external-link",label:"Show",onClick:function(){return e.setState({display:!0})}}))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"LightBox"),r.a.createElement(aa.Lightbox,{images:this.state.images})),r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Tooltip"),r.a.createElement(f.InputText,{tooltip:"Username",tooltipOptions:{position:"bottom"}}))))}}]),a}(n.Component),ra=a(312),sa=a(313),ia=a(314),la=a(315),oa=a(316),ca=a(317),ua=a(318),da=a(222),pa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={breadcrumdItems:[{label:"Categories"},{label:"Sports"},{label:"Football"},{label:"Countries"},{label:"Spain"},{label:"F.C. Barcelona"},{label:"Squad"},{label:"Lionel Messi",url:"https://en.wikipedia.org/wiki/Lionel_Messi"}],home:{icon:"pi pi-home",url:"https://www.primefaces.org/primereact"},stepsItems:[{label:"Personal"},{label:"Seat"},{label:"Payment"},{label:"Confirmation"}],tieredItems:[{label:"File",icon:"pi pi-fw pi-file",items:[{label:"New",icon:"pi pi-fw pi-plus",items:[{label:"Bookmark",icon:"pi pi-fw pi-bookmark"},{label:"Video",icon:"pi pi-fw pi-video"}]},{label:"Delete",icon:"pi pi-fw pi-trash"},{separator:!0},{label:"Export",icon:"pi pi-fw pi-external-link"}]},{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Left",icon:"pi pi-fw pi-align-left"},{label:"Right",icon:"pi pi-fw pi-align-right"},{label:"Center",icon:"pi pi-fw pi-align-center"},{label:"Justify",icon:"pi pi-fw pi-align-justify"}]},{label:"Users",icon:"pi pi-fw pi-user",items:[{label:"New",icon:"pi pi-fw pi-user-plus"},{label:"Delete",icon:"pi pi-fw pi-user-minus"},{label:"Search",icon:"pi pi-fw pi-users",items:[{label:"Filter",icon:"pi pi-fw pi-filter",items:[{label:"Print",icon:"pi pi-fw pi-print"}]},{icon:"pi pi-fw pi-bars",label:"List"}]}]},{label:"Events",icon:"pi pi-fw pi-calendar",items:[{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Save",icon:"pi pi-fw pi-calendar-plus"},{label:"Delete",icon:"pi pi-fw pi-calendar-minus"}]},{label:"Archieve",icon:"pi pi-fw pi-calendar-times",items:[{label:"Remove",icon:"pi pi-fw pi-calendar-minus"}]}]},{label:"Quit",icon:"pi pi-fw pi-power-off"}],items:[{label:"Options",items:[{label:"New",icon:"pi pi-fw pi-plus",command:function(){return window.location.hash="/fileupload"}},{label:"Delete",icon:"pi pi-fw pi-trash",url:"http://primetek.com.tr"}]},{label:"Account",items:[{label:"Options",icon:"pi pi-fw pi-cog",command:function(){return window.location.hash="/"}},{label:"Sign Out",icon:"pi pi-fw pi-power-off"}]}],panelMenuItems:[{label:"Documents",icon:"pi pi-fw pi-file",items:[{label:"New",icon:"pi pi-fw pi-plus",items:[{label:"Bookmark",icon:"pi pi-fw pi-bookmark"},{label:"Video",icon:"pi pi-fw pi-video"}]},{label:"Delete",icon:"pi pi-fw pi-trash"},{separator:!0},{label:"Export",icon:"pi pi-fw pi-external-link"}]},{label:"Manage",icon:"pi pi-fw pi-pencil",items:[{label:"Left",icon:"pi pi-fw pi-align-left"},{label:"Right",icon:"pi pi-fw pi-align-right"},{label:"Center",icon:"pi pi-fw pi-align-center"},{label:"Justify",icon:"pi pi-fw pi-align-justify"}]},{label:"Accounts",icon:"pi pi-fw pi-user",items:[{label:"New",icon:"pi pi-fw pi-user-plus"},{label:"Delete",icon:"pi pi-fw pi-user-minus"},{label:"Search",icon:"pi pi-fw pi-users",items:[{label:"Filter",icon:"pi pi-fw pi-filter",items:[{label:"Print",icon:"pi pi-fw pi-print"}]},{icon:"pi pi-fw pi-bars",label:"List"}]}]},{label:"Calendar",icon:"pi pi-fw pi-calendar",items:[{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Save",icon:"pi pi-fw pi-calendar-plus"},{label:"Delete",icon:"pi pi-fw pi-calendar-minus"}]},{label:"Archieve",icon:"pi pi-fw pi-calendar-times",items:[{label:"Remove",icon:"pi pi-fw pi-calendar-minus"}]}]}],tabMenuItems:[{label:"Home",icon:"pi pi-fw pi-home"},{label:"Calendar",icon:"pi pi-fw pi-calendar"},{label:"Edit",icon:"pi pi-fw pi-pencil"},{label:"Documentation",icon:"pi pi-fw pi-file"},{label:"Settings",icon:"pi pi-fw pi-cog"}],megaMenuItems:[{label:"Videos",icon:"pi pi-fw pi-video",items:[[{label:"Video 1",items:[{label:"Video 1.1"},{label:"Video 1.2"}]},{label:"Video 2",items:[{label:"Video 2.1"},{label:"Video 2.2"}]}],[{label:"Video 3",items:[{label:"Video 3.1"},{label:"Video 3.2"}]},{label:"Video 4",items:[{label:"Video 4.1"},{label:"Video 4.2"}]}]]},{label:"Users",icon:"pi pi-fw pi-users",items:[[{label:"User 1",items:[{label:"User 1.1"},{label:"User 1.2"}]},{label:"User 2",items:[{label:"User 2.1"},{label:"User 2.2"}]}],[{label:"User 3",items:[{label:"User 3.1"},{label:"User 3.2"}]},{label:"User 4",items:[{label:"User 4.1"},{label:"User 4.2"}]}],[{label:"User 5",items:[{label:"User 5.1"},{label:"User 5.2"}]},{label:"User 6",items:[{label:"User 6.1"},{label:"User 6.2"}]}]]},{label:"Events",icon:"pi pi-fw pi-calendar",items:[[{label:"Event 1",items:[{label:"Event 1.1"},{label:"Event 1.2"}]},{label:"Event 2",items:[{label:"Event 2.1"},{label:"Event 2.2"}]}],[{label:"Event 3",items:[{label:"Event 3.1"},{label:"Event 3.2"}]},{label:"Event 4",items:[{label:"Event 4.1"},{label:"Event 4.2"}]}]]},{label:"Settings",icon:"pi pi-fw pi-cog",items:[[{label:"Setting 1",items:[{label:"Setting 1.1"},{label:"Setting 1.2"}]},{label:"Setting 2",items:[{label:"Setting 2.1"},{label:"Setting 2.2"}]},{label:"Setting 3",items:[{label:"Setting 3.1"},{label:"Setting 3.2"}]}],[{label:"Technology 4",items:[{label:"Setting 4.1"},{label:"Setting 4.2"}]}]]}]},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Breadcrumb"),r.a.createElement(ra.BreadCrumb,{model:this.state.breadcrumdItems,home:this.state.home})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Steps"),r.a.createElement(sa.Steps,{model:this.state.stepsItems})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"MenuBar"),r.a.createElement(ia.Menubar,{model:this.state.tieredItems}))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"Plain Menu"),r.a.createElement(zt.Menu,{model:this.state.items}),r.a.createElement(zt.Menu,{model:this.state.items,ref:function(t){return e.menu=t},popup:!0,style:{width:250}}),r.a.createElement(b.Button,{icon:"pi pi-external-link",label:"Show",onClick:function(t){return e.menu.toggle(t)},style:{marginTop:"20px",width:"auto"}})),r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"TieredMenu"),r.a.createElement(la.TieredMenu,{model:this.state.tieredItems,style:{width:"250px",marginBottom:"20px"}}))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card card-w-title"},r.a.createElement("h1",null,"ContextMenu"),"Right click!",r.a.createElement(oa.ContextMenu,{global:!0,model:this.state.tieredItems,style:{width:"12.5em"}})),r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"SlideMenu"),r.a.createElement(ca.SlideMenu,{model:this.state.items,style:{width:"260px"},menuWidth:260})),r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"PanelMenu"),r.a.createElement(Jt.PanelMenu,{model:this.state.panelMenuItems}))),r.a.createElement("div",{className:"p-col-12 p-col-6"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"MegaMenu - Horizontal"),r.a.createElement(da.MegaMenu,{model:this.state.megaMenuItems}),r.a.createElement("h1",null,"MegaMenu - Vertical"),r.a.createElement(da.MegaMenu,{model:this.state.megaMenuItems,orientation:"vertical",style:{width:"200px"}}))),r.a.createElement("div",{className:"p-col-12 p-col-6"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"TabMenu"),r.a.createElement(ua.TabMenu,{model:this.state.tabMenuItems}))))}}]),a}(n.Component),ma=a(319),ha=a(119),va=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).showInfo=e.showInfo.bind(Object(p.a)(e)),e.showSuccess=e.showSuccess.bind(Object(p.a)(e)),e.showWarn=e.showWarn.bind(Object(p.a)(e)),e.showError=e.showError.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"showSuccess",value:function(){var e={severity:"success",summary:"Success Message",detail:"Order submitted"};this.growl.show(e),this.messages.show(e)}},{key:"showInfo",value:function(){var e={severity:"info",summary:"Info Message",detail:"PrimeReact rocks"};this.growl.show(e),this.messages.show(e)}},{key:"showWarn",value:function(){var e={severity:"warn",summary:"Warn Message",detail:"There are unsaved changes"};this.growl.show(e),this.messages.show(e)}},{key:"showError",value:function(){var e={severity:"error",summary:"Error Message",detail:this.props.t("validation_failed")};this.growl.show(e),this.messages.show(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Messages and Growl"),r.a.createElement(ma.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"75px"}}),r.a.createElement(b.Button,{onClick:this.showInfo,label:"Info",className:"p-button-info",style:{width:"10em",marginRight:".25em"}}),r.a.createElement(b.Button,{onClick:this.showSuccess,label:"Success",className:"p-button-success",style:{width:"10em",marginRight:".25em"}}),r.a.createElement(b.Button,{onClick:this.showWarn,label:"Warn",className:"p-button-warning",style:{width:"10em",marginRight:".25em"}}),r.a.createElement(b.Button,{onClick:this.showError,label:"Error",className:"p-button-danger",style:{width:"10em",marginRight:".25em"}}),r.a.createElement("h1",null,"Inline Message"),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-3"},r.a.createElement(ha.Message,{severity:"info",text:"PrimeReact Rocks"})),r.a.createElement("div",{className:"p-col-12 p-md-3"},r.a.createElement(ha.Message,{severity:"success",text:"Record Saved"})),r.a.createElement("div",{className:"p-col-12 p-md-3"},r.a.createElement(ha.Message,{severity:"warn",text:"Are you sure?"})),r.a.createElement("div",{className:"p-col-12 p-md-3"},r.a.createElement(ha.Message,{severity:"error",text:"Field is required"}))),r.a.createElement("div",{style:{marginTop:"30px",paddingLeft:".5em"}},r.a.createElement(f.InputText,{placeholder:"Username",className:"p-error",style:{marginRight:".25em"}}),r.a.createElement(ha.Message,{severity:"error",text:"Field is required"})),r.a.createElement("div",{style:{marginTop:"30px",paddingLeft:".5em"}},r.a.createElement(f.InputText,{placeholder:"Email",className:"p-error",style:{marginRight:".25em"}}),r.a.createElement(ha.Message,{severity:"error"})))))}}]),a}(n.Component),ga=a(120),fa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={lineData:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40],fill:!1,borderColor:"#b944d6"},{label:"Second Dataset",data:[28,48,40,19,86,27,90],fill:!1,borderColor:"#0F97C7"}]},barData:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"#0F97C7",borderColor:"#0F97C7",data:[65,59,80,81,56,55,40]},{label:"My Second dataset",backgroundColor:"#e2841a",borderColor:"#e2841a",data:[28,48,40,19,86,27,90]}]},pieData:{labels:["A","B","C"],datasets:[{data:[540,325,702,421],backgroundColor:["#0F97C7","#b944d6","#e2841a","#10b163"]}]},polarData:{datasets:[{data:[11,16,7,3],backgroundColor:["#0F97C7","#b944d6","#e2841a","#10b163"],label:"My dataset"}],labels:["Blue","Purple","Orange","Green"]},radarData:{labels:["Eating","Drinking","Sleeping","Designing","Coding","Cycling","Running"],datasets:[{label:"My First dataset",backgroundColor:"rgba(15,151,199,0.2)",borderColor:"rgba(15,151,199,1)",pointBackgroundColor:"rgba(15,151,199,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(15,151,199,1)",data:[65,59,90,81,56,55,40]},{label:"My Second dataset",backgroundColor:"rgba(185,68,214,0.2)",borderColor:"rgba(185,68,214,1)",pointBackgroundColor:"rgba(185,68,214,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(185,68,214,1)",data:[28,48,40,19,96,27,100]}]}},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",{className:"centerText"},"Linear Chart"),r.a.createElement(ga.Chart,{type:"line",data:this.state.lineData})),r.a.createElement("div",{className:"card"},r.a.createElement("h1",{className:"centerText"},"Pie Chart"),r.a.createElement(ga.Chart,{type:"pie",data:this.state.pieData,height:"150"})),r.a.createElement("div",{className:"card"},r.a.createElement("h1",{className:"centerText"},"Polar Area Chart"),r.a.createElement(ga.Chart,{type:"polarArea",data:this.state.polarData,height:"150"}))),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",{className:"centerText"},"Bar Chart"),r.a.createElement(ga.Chart,{type:"bar",data:this.state.barData})),r.a.createElement("div",{className:"card"},r.a.createElement("h1",{className:"centerText"},"Doughnut Chart"),r.a.createElement(ga.Chart,{type:"doughnut",data:this.state.pieData,height:"150"})),r.a.createElement("div",{className:"card"},r.a.createElement("h1",{className:"centerText"},"Radar Chart"),r.a.createElement(ga.Chart,{type:"radar",data:this.state.radarData,height:"150"}))))}}]),a}(n.Component),ya=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={value:0},e.onUpload=e.onUpload.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"onUpload",value:function(){this.growl.show({severity:"info",summary:this.props.t("success"),detail:"File Uploaded"})}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){var t=e.state.value;(t+=Math.floor(10*Math.random())+1)>=100&&(t=100,clearInterval(e.interval)),e.setState({value:t})}),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Upload"),r.a.createElement(_.Growl,{ref:function(t){return e.growl=t}}),r.a.createElement(qt.FileUpload,{name:"demo[]",url:"./upload.php",onUpload:this.onUpload,multiple:!0,accept:"image/*",maxFileSize:1e6}))),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"ProgressBar"),r.a.createElement(M.ProgressBar,{value:this.state.value}))))}}]),a}(n.Component),ba=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Empty Page"),r.a.createElement("p",null,"Use this page to start from scratch and place your custom content."))))}}]),a}(n.Component),Ea=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],user:JSON.parse(localStorage.getItem("daym-user")),userValues:[],userFields:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.appointmentService=new ie,e.changeStatus=e.changeStatus.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"changeStatus",value:function(e,t,a,n){var r=this;this.appointmentService.changeStatus(e,t,a).then((function(e){var t=r.state.dataTableValue;t[r.state.dataTableValue.indexOf(n)]=e.data,r.setState({dataTableValue:t})})).catch((function(e){var t=e.response.data.message;r.growl.show({severity:"error",summary:r.props.t("error"),detail:t||r.props.t("some_error")})})).finally((function(){r.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){var e=this,t=8===this.state.user.role?"":"&todayAppointments=true";this.appointmentService.getAllAppointments(t).then((function(t){e.setState({dataTableValue:t.data})})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})})).finally((function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("appointments")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{header:this.props.t("driver"),body:function(e){var t;return e.appointment.driver&&null!==(t=e.appointment.driver.name)&&void 0!==t?t:""}}),r.a.createElement(P.Column,{header:this.props.t("supplier"),body:function(e){var t;return e.appointment.supplier&&null!==(t=e.appointment.supplier.name)&&void 0!==t?t:""}}),r.a.createElement(P.Column,{header:this.props.t("wareHouse"),body:function(e){var t;return e.warehouse&&null!==(t=e.warehouse.name)&&void 0!==t?t:""}}),r.a.createElement(P.Column,{header:this.props.t("dock"),body:function(e){var t;return e.dock&&null!==(t=e.dock.name)&&void 0!==t?t:""}}),r.a.createElement(P.Column,{header:this.props.t("status"),body:function(e){return 1===e.status?"Truck Entered WareHouse":2===e.status?"Order Completed":4===e.status?"Truck Arrived":void 0}}),r.a.createElement(P.Column,{header:this.props.t("delivery_time"),body:function(e){return W()(e.deliveryTime).local().format("hh:mm A")}}),r.a.createElement(P.Column,{field:"totalElapsedTime",header:this.props.t("elapse_time"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("action"),body:function(t){return 1===t.status?r.a.createElement(b.Button,{label:e.props.t("truck_entered"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.changeStatus(t._id,4,t.appointment._id,t)}}):4===t.status?r.a.createElement(b.Button,{label:e.props.t("order_complete"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.changeStatus(t._id,2,t.appointment._id,t)}}):void 0}})))))}}]),a}(n.Component),wa=Object(N.a)()(Ea),Sa=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllFields",value:function(){return S.a.get(k+"v1/truck-field",{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"createTruckField",value:function(e,t,a,n){var r=a.map((function(e){return{label:e,value:e.split(" ").join("_").toLowerCase()}}));return S.a.post(k+"v1/truck-field",{name:e,type:t,values:r,required:n},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"editTruckField",value:function(e,t,a,n,r){var s=n.map((function(e){return{label:e,value:e.split(" ").join("_").toLowerCase()}}));return S.a.patch(k+"v1/truck-field/"+e,{name:t,type:a,values:s,required:r},{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}},{key:"deleteTruckField",value:function(e){return S.a.delete(k+"v1/truck-field/"+e,{headers:{Authorization:localStorage.getItem("daym-tok")}}).then((function(e){return e}))}}]),e}(),ka=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.truckService=new Ft,e.truckFieldService=new Sa,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,licensePlate:e.licensePlate,userValues:a.state.userFields.map((function(t,a){return{truckField:t._id,value:e.fields[a]?e.fields[a].value:"",required:t.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/trucks"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions,a=JSON.parse(localStorage.getItem("daym-user"))._id;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/trucks"===e.route}))[0].methods}):window.location="#/accessdenied",this.truckFieldService.getAllFields().then((function(t){var n=t.data.map((function(e){return{truckField:e._id,value:"",required:e.required}}));e.setState({userValues:n,userFields:t.data}),e.truckService.getAllTrucks(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.licensePlate?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("licensePlate")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,licensePlate:this.state.licensePlate,fields:this.state.userValues};this.truckService.editTruck(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("truck")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",licensePlate:"",userValues:e.state.userValues.map((function(e){return{truckField:e.truckField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("truck")}),e.setState({buttonLoading:!1})}))}else{var a={name:this.state.name,licensePlate:this.state.licensePlate,fields:this.state.userValues};this.truckService.createTruck(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("truck")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",licensePlate:"",userValues:e.state.userValues.map((function(e){return{truckField:e.truckField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("truck")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.truckService.deleteTruck(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("truck")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("truck")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("supplier"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("licensePlate"),style:{width:"100%"},value:this.state.licensePlate,onChange:function(t){return e.setState({licensePlate:t.target.value})}})),this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(t){var n=e.state.userValues;n[a].value=t.target.value,e.setState({userValues:n})}}))}))))),r.a.createElement(b.Button,{type:"button",label:this.props.t("view_fields"),icon:"pi pi-cog",style:{marginRight:8},onClick:function(){window.location="#/truck-field"}}),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_truck"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",password:"",licensePlate:"",userValues:e.state.userValues.map((function(e){return{truckField:e.truckField,value:"",required:e.required}})),editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("trucks")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"licensePlate",header:this.props.t("licensePlate"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("truck_details"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view")+" "+e.props.t("truck_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))),r.a.createElement(y.Dialog,{header:this.props.t("truck_details"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("truck_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.truckField.name},header:this.props.t("truck_field"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0}))))))}}]),a}(n.Component),Ca=Object(N.a)()(ka),Na=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],radioValue:"String",chipsValue:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1,required:!1},e.truckFieldService=new Sa,e.handleCreateUserField=e.handleCreateUserField.bind(Object(p.a)(e)),e.handleDeleteUserField=e.handleDeleteUserField.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"checkPermission",value:function(e){return e.filter((function(e){return"/truck-field"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/truck-field"===e.route}))[0].methods}):window.location="#/accessdenied",this.truckFieldService.getAllFields().then((function(t){e.setState({dataTableValue:t.data,loading:!1})}))}},{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,radioValue:e.type,chipsValue:e.values.map((function(e){return e.label})),required:e.required,editData:e})}}),this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginLeft:".5em"},onClick:function(){a.handleDeleteUserField(e)}}))}},{key:"handleDeleteUserField",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.truckFieldService.deleteTruckField(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:"Truck Field deleted Successfully!"}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){t.growl.show({severity:"error",summary:t.props.t("error"),detail:"Can not delete Truck Field"}),t.setState({deleteLoading:!1})}))}},{key:"validate",value:function(){return this.state.name?"Select"!==this.state.radioValue||0!==this.state.chipsValue.length||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("drop_down_value_is_required")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name_cannot_be_blank")}),!1)}},{key:"handleCreateUserField",value:function(){var e=this;this.validate()&&this.setState({buttonLoading:!0}),this.state.editData?this.truckFieldService.editTruckField(this.state.editData._id,this.state.name,this.state.radioValue,this.state.chipsValue,this.state.required).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"Truck field edited Successfully!"}),n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.setState({dataTableValue:n,display:!1,buttonLoading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.growl.show({severity:"error",summary:e.props.t("error"),detail:"Can not edit User field"}),e.setState({buttonLoading:!1})})):this.truckFieldService.createTruckField(this.state.name,this.state.radioValue,this.state.chipsValue,this.state.required).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:"Truck field created Successfully!"}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||"Can not create User field"}),e.setState({buttonLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateUserField,label:this.props.t("save")})),a=r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.Dialog,{header:(this.state.editData?this.props.t("edit"):this.props.t("add"))+" "+this.props.t("fields"),visible:this.state.display,modal:!0,style:{width:"30vw"},footer:t,onHide:function(){return e.setState({display:!1})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement(f.InputText,{placeholder:this.props.t("name"),style:{width:"100%"},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,this.props.t("field_type")),r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"String",inputId:"rb1",onChange:function(t){return e.setState({radioValue:t.value})},checked:"String"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb1",className:"p-radiobutton-label"},this.props.t("text"))),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Number",inputId:"rb2",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Number"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb2",className:"p-radiobutton-label"},this.props.t("number"))),r.a.createElement("div",{className:"p-col-12 p-md-4"},r.a.createElement(de.RadioButton,{value:"Select",inputId:"rb3",onChange:function(t){return e.setState({radioValue:t.value})},checked:"Select"===this.state.radioValue}),r.a.createElement("label",{htmlFor:"rb3",className:"p-radiobutton-label"},this.props.t("dropdown"))),r.a.createElement("div",{className:"p-col-12 p-md-4",style:{marginTop:5}},r.a.createElement(Ce.Checkbox,{value:"get",inputId:"cb2",onChange:function(t){return e.setState({required:t.checked})},checked:this.state.required}),r.a.createElement("label",{htmlFor:"cb2",className:"p-checkbox-label"},this.props.t("required"))))),"Select"===this.state.radioValue&&r.a.createElement("div",{className:"p-col-12 p-md-12"},r.a.createElement("p",null,"DropDown Options"),r.a.createElement(ke.Chips,{value:this.state.chipsValue,placeholder:"Type and hit enter",onChange:function(t){var a=t.value;e.setState({chipsValue:a})}})))),this.state.methods.indexOf("create")>=0&&r.a.createElement(b.Button,{type:"button",label:this.props.t("create_field"),icon:"pi pi-cog",onClick:function(){return e.setState({display:!0,name:"",radioValue:"String",chipsValue:[],required:!1,editData:null})}})),n=r.a.createElement(b.Button,{type:"button",icon:"pi pi-cog"});return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("truck_fields")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:a,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"type",header:this.props.t("type"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("required"),body:function(t,a){return t.required?e.props.t("mandatory"):e.props.t("optional")}}),r.a.createElement(P.Column,{header:n,body:this.actionButtons,style:{textAlign:"center",width:"8em"}})))))}}]),a}(n.Component),_a=Object(N.a)()(Na),Ta=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],userValues:[],userFields:[],methods:[],loading:!0,buttonLoading:!1,deleteLoading:!1},e.truckService=new Ft,e.truckFieldService=new Sa,e.handleCreateWarehouse=e.handleCreateWarehouse.bind(Object(p.a)(e)),e.handleDeleteWarehouse=e.handleDeleteWarehouse.bind(Object(p.a)(e)),e.actionButtons=e.actionButtons.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"actionButtons",value:function(e,t){var a=this;return r.a.createElement("div",null,this.state.methods.indexOf("remove")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-times",disabled:this.state.deleteLoading,className:"p-button-danger",style:{marginRight:".5em"},onClick:function(){a.handleDeleteWarehouse(e)}}),this.state.methods.indexOf("patch")>=0&&r.a.createElement(b.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-warning",onClick:function(){a.setState({display:!0,name:e.name,licensePlate:e.licensePlate,userValues:a.state.userFields.map((function(t,a){return{truckField:t._id,value:e.fields[a]?e.fields[a].value:"",required:t.required}})),editData:e})}}))}},{key:"checkPermission",value:function(e){return e.filter((function(e){return"/trucks"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions,a=this.props.location.pathname.split("/")[2];this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/trucks"===e.route}))[0].methods}):window.location="#/accessdenied",this.truckFieldService.getAllFields().then((function(t){var n=t.data.map((function(e){return{truckField:e._id,value:"",required:e.required}}));e.setState({userValues:n,userFields:t.data}),e.truckService.getAllTrucks(a).then((function(t){e.setState({dataTableValue:t.data,loading:!1})})).catch((function(t){var a=t.response||t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))})).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("some_error")})}))}},{key:"validate",value:function(){var e=this.state.userValues.filter((function(e){return e.required&&!e.value}));return this.state.name?this.state.licensePlate?!(e.length>0)||(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("all_fields_mandatory")+" ! "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("licensePlate")+" "+this.props.t("can_not_be_empty")}),!1):(this.growl.show({severity:"warn",summary:this.props.t("validation_failed"),detail:this.props.t("name")+" "+this.props.t("can_not_be_empty")}),!1)}},{key:"handleCreateWarehouse",value:function(){var e=this;if(this.validate())if(this.setState({buttonLoading:!0}),this.state.editData){var t={name:this.state.name,licensePlate:this.state.licensePlate,fields:this.state.userValues};this.truckService.editTruck(this.state.editData._id,t).then(function(){var t=Object(J.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.dataTableValue,r=e.state.dataTableValue.indexOf(e.state.editData),n[r]=a.data,e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("truck")+" "+e.props.t("edited_Successfully")}),e.setState({dataTableValue:n,display:!1,buttonLoading:!1,name:"",licensePlate:"",userValues:e.state.userValues.map((function(e){return{truckField:e.truckField,value:"",required:e.required}}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_edit")+" "+e.props.t("truck")}),e.setState({buttonLoading:!1})}))}else{var a={name:this.state.name,licensePlate:this.state.licensePlate,fields:this.state.userValues};this.truckService.createTruck(a).then(function(){var t=Object(J.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.growl.show({severity:"success",summary:e.props.t("success"),detail:e.props.t("truck")+" "+e.props.t("created_Successfully")}),e.setState({dataTableValue:[a.data].concat(Object(R.a)(e.state.dataTableValue)),display:!1,buttonLoading:!1,name:"",password:"",licensePlate:"",userValues:e.state.userValues.map((function(e){return{truckField:e.truckField,value:"",required:e.required}}))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.response.data.message;e.growl.show({severity:"error",summary:e.props.t("error"),detail:a||e.props.t("can_not_create")+" "+e.props.t("truck")}),e.setState({buttonLoading:!1})}))}}},{key:"handleDeleteWarehouse",value:function(e){var t=this;this.setState({deleteLoading:!0}),this.truckService.deleteTruck(e._id).then((function(a){var n=t.state.dataTableValue,r=t.state.dataTableValue.indexOf(e);n.splice(r,1),t.growl.show({severity:"success",summary:t.props.t("success"),detail:t.props.t("truck")+" "+t.props.t("deleted_Successfully")}),t.setState({dataTableValue:n,deleteLoading:!1})})).catch((function(e){var a=e.response.data.message;t.growl.show({severity:"error",summary:t.props.t("error"),detail:a||t.props.t("can_not_delete")+" "+t.props.t("truck")}),t.setState({deleteLoading:!1})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({display:!1})},label:this.props.t("cancel"),className:"p-button-secondary"}),this.state.buttonLoading?r.a.createElement(b.Button,{label:r.a.createElement(E.ProgressSpinner,{style:{width:"43px",height:"12px"},strokeWidth:"3",animationDuration:".5s"})}):r.a.createElement(b.Button,{icon:"pi pi-check",onClick:this.handleCreateWarehouse,label:this.props.t("save")}));y.Dialog,this.state.editData?this.props.t("edit"):this.props.t("add"),this.props.t("supplier"),this.state.display,f.InputText,this.props.t("name"),this.state.name,f.InputText,this.props.t("licensePlate"),this.state.licensePlate,this.state.userFields.map((function(t,a){return r.a.createElement("div",{className:"p-col-12 p-md-12",key:a},"Select"===t.type?r.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:t.name,value:e.state.userValues[a].value,options:t.values,onChange:function(t){var n=e.state.userValues;n[a].value=t.value,e.setState({userValues:n})}}):r.a.createElement(f.InputText,{placeholder:t.name,style:{width:"100%"},type:t.type,value:e.state.userValues[a].value,onChange:function(t){var n=e.state.userValues;n[a].value=t.target.value,e.setState({userValues:n})}}))})),b.Button,this.props.t("view_fields"),this.state.methods.indexOf("create")>=0&&(b.Button,this.props.t("create_truck")),b.Button;return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("trucks")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.dataTableValue,selectionMode:"single",header:null,paginator:!0,rows:10,responsive:!0,selection:this.state.dataTableSelection1,onSelectionChange:function(t){return e.setState({dataTableSelection1:t.value})}},r.a.createElement(P.Column,{field:"name",header:this.props.t("name"),sortable:!0}),r.a.createElement(P.Column,{field:"licensePlate",header:this.props.t("licensePlate"),sortable:!0}),r.a.createElement(P.Column,{header:this.props.t("truck_details"),body:function(t){return function(t){return r.a.createElement("div",null,r.a.createElement(b.Button,{label:e.props.t("view")+" "+e.props.t("truck_details"),className:"p-button-info p-button-raised",style:{marginRight:".5em"},onClick:function(){e.setState({detailsShow:!0,selectedFields:t.fields})}}))}(t)},style:{textAlign:"center"}})))),r.a.createElement(y.Dialog,{header:this.props.t("truck_details"),visible:this.state.detailsShow,modal:!0,style:{width:"40vw"},footer:r.a.createElement("div",null,r.a.createElement(b.Button,{icon:"pi pi-times",onClick:function(){return e.setState({detailsShow:!1})},label:this.props.t("cancel"),className:"p-button-secondary"})),onHide:function(){return e.setState({detailsShow:!1,selectedUnits:[],selectedFields:[]})}},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-grid p-col-12 p-md-12"},r.a.createElement(F.DataTable,{ref:function(t){return e.dt=t},value:this.state.selectedFields,header:this.props.t("truck_fields"),selectionMode:"single",paginator:!0,rows:7,responsive:!0,selection:this.state.selectedFields1,onSelectionChange:function(t){return e.setState({selectedFields1:t.value})}},r.a.createElement(P.Column,{body:function(e){return e.truckField.name},header:this.props.t("truck_field"),style:{textAlign:"center"}}),r.a.createElement(P.Column,{field:"value",header:this.props.t("value"),sortable:!0}))))))}}]),a}(n.Component),Da=Object(N.a)()(Ta),Oa=a(328),xa=(a(749),a(296)),Va=0;function ja(e){var t=e.orders,a=Object(n.useRef)(null),s=Object(xa.a)().t,i=Object(n.useState)([]),l=Object($.a)(i,2),o=l[0],c=l[1],u=Object(n.useState)([]),d=Object($.a)(u,2),p=d[0],m=d[1],h=Object(n.useState)([]),v=Object($.a)(h,2),g=v[0],f=v[1],y=Object(n.useState)(W()(new Date).format("DD/MM/YYYY")),E=Object($.a)(y,2),w=E[0],S=E[1];return Object(n.useEffect)((function(){if(t.length>0){var e=t.filter((function(e,t,a){return a.findIndex((function(t){return t.dock._id===e.dock._id}))===t})).map((function(e){return e.dock}));m(t.map((function(e,t){var a=e;return a.deliveryTime=W()(a.deliveryTime).format("hh:mm A"),a.deliveryOn=W()(a.deliveryOn).format("DD/MM/YYYY"),a}))),f(e);for(var a=e.map((function(e){var t=e;return t.startingTime=W()(t.startingTime).valueOf(),t})).sort((function(e,t){return t.startingTime-e.startingTime}))[0].startingTime,n=e.map((function(e){var t=e;return t.endingTime=W()(t.endingTime).valueOf(),t})).sort((function(e,t){return t.endingTime-e.endingTime}))[e.length-1].endingTime,r=a,s=[];W()(r).format("hh:mm A")!==W()(n).format("hh:mm A");)s.push(W()(r).format("hh:mm A")),r=W()(r).add(15,"m");s.push(W()(n).format("hh:mm A")),c(s)}}),[t]),0===t.length?r.a.createElement("div",{style:{width:"90vw",height:"10vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("p",null,s("no_orders"))):r.a.createElement("div",{style:{width:"90vw",overflow:"scroll",margin:"10px 0px"}},r.a.createElement(_.Growl,{ref:a,style:{marginTop:"75px"}}),r.a.createElement("div",{style:{maxWidth:"90vw",overflow:"scroll"}},r.a.createElement("div",{style:{display:"flex",margin:"8px 0px"}},r.a.createElement(b.Button,{icon:"pi pi-angle-left",onClick:function(){var e=w;S(W()(e,"DD/MM/YYYY").subtract(1,"d").format("DD/MM/YYYY"))}}),r.a.createElement("p",{style:{minWidth:180,marginTop:"auto",marginBottom:"auto",textAlign:"center"}},w),r.a.createElement(b.Button,{icon:"pi pi-angle-right",onClick:function(){var e=w;S(W()(e,"DD/MM/YYYY").add(1,"d").format("DD/MM/YYYY"))}}),r.a.createElement("p",{style:{minWidth:120,margin:"0px 20px",paddingTop:"7px",color:"white",textAlign:"center",background:"orange"}},"Pending"),r.a.createElement("p",{style:{minWidth:120,margin:"0px 20px",paddingTop:"7px",color:"white",textAlign:"center",background:"green"}},"Complete")),r.a.createElement("div",{style:{border:"1px solid #323232",width:"fit-content"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"tdC"},"Time Slots"),g.map((function(e){return r.a.createElement("div",{className:"tdC"},"".concat(e.name,"(").concat(e.parentId.name,")"))}))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"tableC"},o.map((function(e){return r.a.createElement("div",{className:"tdC"},e)}))),g.map((function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.map((function(t){var a=p.filter((function(a){return a.deliveryTime===t&&e.name===a.dock.name&&e.parentId._id===a.dock.parentId._id&&w===a.deliveryOn}));if(Va>0)return Va--,r.a.createElement(r.a.Fragment,null);if(a.length>0){var n=a[0].slots.length;return Va=a[0].slots.length-1,r.a.createElement("div",{className:"thC",style:{height:"".concat(30*n,"px"),cursor:"pointer",wordBreak:"break-all",background:1===a[0].status?"orange":"green"},onClick:function(){window.location="#/manage-appointment/"+a[0].appointment._id}},"".concat(a[0].product.name,"(").concat(a[0].appointment.supplier.name,")"))}return r.a.createElement("div",{className:"thC"})})))}))))))}Object(Oa.a)(W.a);var Ia=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],orderData:[],methods:[],selectedDate:"",role:JSON.parse(localStorage.getItem("daym-user")).role,selectedMonth:"",loading:!0,fullcalendarEvents:[],fullcalendarOptions:{plugins:[ze.a,Ye.a,Qe.a],defaultView:"dayGridMonth",defaultDate:new Date,header:{left:"prev,next, today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!1}},e.appointmentService=new ie,e}return Object(o.a)(a,[{key:"checkPermission",value:function(e){return e.filter((function(e){return"/appointment-calendar"===e.route})).length>0}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("daym-user")).permissions;this.checkPermission(t)?this.setState({methods:t.filter((function(e){return"/appointment-calendar"===e.route}))[0].methods}):window.location="#/accessdenied",this.appointmentService.getAllAppointmentsForCalendar().then((function(t){var a=t.data.map((function(e,t){return{id:t,start:W()(W()(e.deliveryOn).format("YYYY-MM-DD")+"T"+W()(e.deliveryTime).format("HH:mm:ss")).toDate(),end:W()(W()(e.deliveryOn).format("YYYY-MM-DD")+"T"+W()(e.deliveryTime).format("HH:mm:ss")).toDate(),title:e.product.name+"("+e.dock.name+")",url:"#/manage-appointment/"+e.appointment._id}}));e.setState({fullcalendarEvents:Object(R.a)(a),orderData:t.data})})).catch((function(e){})).finally((function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid"},r.a.createElement(_.Growl,{ref:function(t){return e.growl=t},style:{marginTop:"15px"}}),r.a.createElement("div",{className:"p-col-12"},r.a.createElement("div",{className:"card card-w-title datatable-demo"},r.a.createElement("h1",null,this.props.t("all")+" "+this.props.t("appointments")),this.state.loading?r.a.createElement("div",{className:"p-col-12",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(E.ProgressSpinner,{style:{width:"50px",height:"50px"},strokeWidth:"3",animationDuration:".5s"})):r.a.createElement(ja,{orders:this.state.orderData}))))}}]),a}(n.Component),Ba=Object(N.a)()(Ia),Aa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={layoutMode:"slim",lightMenu:!0,overlayMenuActive:!1,staticMenuDesktopInactive:!1,staticMenuMobileActive:!1,isRTL:!1,topbarColor:"layout-topbar-blue",inlineUser:!1,topbarMenuActive:!1,activeTopbarItem:null,rightPanelMenuActive:null,inlineUserMenuActive:!1,menuActive:!1,themeColor:"blue",configDialogActive:!1,user:JSON.parse(localStorage.getItem("daym-user"))},e.onDocumentClick=e.onDocumentClick.bind(Object(p.a)(e)),e.onMenuClick=e.onMenuClick.bind(Object(p.a)(e)),e.onMenuButtonClick=e.onMenuButtonClick.bind(Object(p.a)(e)),e.onTopbarMenuButtonClick=e.onTopbarMenuButtonClick.bind(Object(p.a)(e)),e.onTopbarItemClick=e.onTopbarItemClick.bind(Object(p.a)(e)),e.onMenuItemClick=e.onMenuItemClick.bind(Object(p.a)(e)),e.onRootMenuItemClick=e.onRootMenuItemClick.bind(Object(p.a)(e)),e.onRightMenuButtonClick=e.onRightMenuButtonClick.bind(Object(p.a)(e)),e.onRightMenuClick=e.onRightMenuClick.bind(Object(p.a)(e)),e.onProfileMenuClick=e.onProfileMenuClick.bind(Object(p.a)(e)),e.changeMenuMode=e.changeMenuMode.bind(Object(p.a)(e)),e.changeMenuColor=e.changeMenuColor.bind(Object(p.a)(e)),e.changeProfileMode=e.changeProfileMode.bind(Object(p.a)(e)),e.changeOrientation=e.changeOrientation.bind(Object(p.a)(e)),e.changeTopbarColor=e.changeTopbarColor.bind(Object(p.a)(e)),e.changeTheme=e.changeTheme.bind(Object(p.a)(e)),e.onConfigButtonClick=e.onConfigButtonClick.bind(Object(p.a)(e)),e.onConfigCloseClick=e.onConfigCloseClick.bind(Object(p.a)(e)),e.onConfigClick=e.onConfigClick.bind(Object(p.a)(e)),e.createMenu=e.createMenu.bind(Object(p.a)(e)),e.createMenu(),e}return Object(o.a)(a,[{key:"onDocumentClick",value:function(e){this.topbarItemClick||this.setState({activeTopbarItem:null,topbarMenuActive:!1}),this.rightMenuClick||this.setState({rightPanelMenuActive:!1}),this.configClick||this.setState({configDialogActive:!1}),this.profileClick||!this.isSlim()||this.isMobile()||this.setState({inlineUserMenuActive:!1}),this.menuClick||((this.isHorizontal()||this.isSlim())&&this.setState({menuActive:!1}),(this.state.overlayMenuActive||this.state.staticMenuMobileActive)&&this.hideOverlayMenu(),this.setState({menuHoverActive:!1}),this.unblockBodyScroll()),this.topbarItemClick=!1,this.menuClick=!1,this.rightMenuClick=!1,this.profileClick=!1,this.configClick=!1}},{key:"onMenuButtonClick",value:function(e){this.menuClick=!0,this.setState({topbarMenuActive:!1,rightPanelMenuActive:!1}),this.isOverlay()&&this.setState({overlayMenuActive:!this.state.overlayMenuActive}),this.isDesktop()?this.setState({staticMenuDesktopInactive:!this.state.staticMenuDesktopInactive}):(this.setState({staticMenuMobileActive:!this.state.staticMenuMobileActive}),this.state.staticMenuMobileActive?this.blockBodyScroll():this.unblockBodyScroll()),e.preventDefault()}},{key:"onConfigButtonClick",value:function(e){this.configClick=!0,this.setState({configDialogActive:!this.state.configDialogActive})}},{key:"onConfigCloseClick",value:function(){this.setState({configDialogActive:!1})}},{key:"onConfigClick",value:function(){this.configClick=!0}},{key:"onTopbarMenuButtonClick",value:function(e){this.topbarItemClick=!0,this.setState({topbarMenuActive:!this.state.topbarMenuActive}),this.hideOverlayMenu(),e.preventDefault()}},{key:"onTopbarItemClick",value:function(e){this.topbarItemClick=!0,this.state.activeTopbarItem===e.item?this.setState({activeTopbarItem:null}):this.setState({activeTopbarItem:e.item}),e.originalEvent.preventDefault()}},{key:"onMenuClick",value:function(e){this.menuClick=!0}},{key:"blockBodyScroll",value:function(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}},{key:"unblockBodyScroll",value:function(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"onRightMenuButtonClick",value:function(e){this.rightMenuClick=!0,this.setState({rightPanelMenuActive:!this.state.rightPanelMenuActive}),this.hideOverlayMenu(),e.preventDefault()}},{key:"onRightMenuClick",value:function(e){this.rightMenuClick=!0}},{key:"onProfileMenuClick",value:function(e){this.profileClick=!0,this.setState({inlineUserMenuActive:!this.state.inlineUserMenuActive})}},{key:"hideOverlayMenu",value:function(){this.setState({overlayMenuActive:!1,staticMenuMobileActive:!1})}},{key:"onMenuItemClick",value:function(e){e.item.items||this.hideOverlayMenu(),e.item.items||!this.isHorizontal()&&!this.isSlim()||this.setState({menuActive:!1})}},{key:"onRootMenuItemClick",value:function(e){this.setState({menuActive:!this.state.menuActive})}},{key:"isTablet",value:function(){var e=window.innerWidth;return e<=1024&&e>640}},{key:"isDesktop",value:function(){return window.innerWidth>896}},{key:"isMobile",value:function(){return window.innerWidth<=1025}},{key:"isStatic",value:function(){return"static"===this.state.layoutMode}},{key:"isOverlay",value:function(){return"overlay"===this.state.layoutMode}},{key:"isHorizontal",value:function(){return"horizontal"===this.state.layoutMode}},{key:"isSlim",value:function(){return"slim"===this.state.layoutMode}},{key:"changeMenuMode",value:function(e){this.setState({layoutMode:e.menuMode,staticMenuDesktopInactive:!1,overlayMenuActive:!1}),"slim"!==e.menuMode&&"horizontal"!==e.menuMode||this.setState({inlineUser:!1,inlineUserMenuActive:!1})}},{key:"changeMenuColor",value:function(e){this.setState({lightMenu:e.lightMenu})}},{key:"changeProfileMode",value:function(e){e.inlineUser?this.isHorizontal()||this.setState({inlineUser:e.inlineUser}):this.setState({inlineUser:e.inlineUser,inlineUserMenuActive:e.inlineUser})}},{key:"changeOrientation",value:function(e){this.setState({isRTL:e.isRTL})}},{key:"changeTopbarColor",value:function(e){this.setState({topbarColor:e.topbarColor}),document.getElementById("topbar-logo").src="assets/layout/images/"+e.logo+".svg"}},{key:"changeTheme",value:function(e){this.setState({themeColor:e.theme}),this.changeStyleSheetUrl("layout-css",e.theme,"layout"),this.changeStyleSheetUrl("theme-css",e.theme,"theme")}},{key:"changeStyleSheetUrl",value:function(e,t,a){var n=document.getElementById(e),r=n.getAttribute("href").split("/");r[r.length-1]=a+"-"+t+".css";var s=r.join("/");this.replaceLink(n,s)}},{key:"isIE",value:function(){return/(MSIE|Trident\/|Edge\/)/i.test(window.navigator.userAgent)}},{key:"replaceLink",value:function(e,t){if(this.isIE())e.setAttribute("href",t);else{var a=e.getAttribute("id"),n=e.cloneNode(!0);n.setAttribute("href",t),n.setAttribute("id",a+"-clone"),e.parentNode.insertBefore(n,e.nextSibling),n.addEventListener("load",(function(){e.remove(),n.setAttribute("id",a)}))}}},{key:"createMenu",value:function(){}},{key:"render",value:function(){var e=h()("layout-wrapper",{"layout-horizontal":"horizontal"===this.state.layoutMode,"layout-overlay":"overlay"===this.state.layoutMode,"layout-static":"static"===this.state.layoutMode,"layout-slim":"slim"===this.state.layoutMode,"layout-menu-light":!0===this.state.lightMenu,"layout-menu-dark":!1===this.state.lightMenu,"layout-overlay-active":this.state.overlayMenuActive,"layout-mobile-active":this.state.staticMenuMobileActive,"layout-static-inactive":this.state.staticMenuDesktopInactive,"layout-rtl":this.state.isRTL},this.state.topbarColor);return r.a.createElement("div",{className:e,onClick:this.onDocumentClick},r.a.createElement(D,{topbarMenuActive:this.state.topbarMenuActive,activeTopbarItem:this.state.activeTopbarItem,inlineUser:this.state.inlineUser,onRightMenuButtonClick:this.onRightMenuButtonClick,onMenuButtonClick:this.onMenuButtonClick,onTopbarMenuButtonClick:this.onTopbarMenuButtonClick,onTopbarItemClick:this.onTopbarItemClick}),r.a.createElement("div",{className:"layout-menu-container",onClick:this.onMenuClick},r.a.createElement("div",{className:"menu-scroll-content"},this.state.inlineUser&&r.a.createElement("div",{className:"layout-profile"},r.a.createElement("button",{className:"p-link layout-profile-button",onClick:this.onProfileMenuClick},r.a.createElement("img",{src:this.state.user.avatar,alt:"roma-layout"}),r.a.createElement("span",{className:"layout-profile-userinfo"},r.a.createElement("span",{className:"layout-profile-name"},this.state.user.name),r.a.createElement("span",{className:"layout-profile-role"},this.state.user.userType.name))),r.a.createElement("ul",{className:h()("layout-profile-menu",{"profile-menu-active":this.state.inlineUserMenuActive})},r.a.createElement("li",null,r.a.createElement("button",{className:"p-link",onClick:function(){localStorage.removeItem("daym-user"),localStorage.removeItem("daym-tok"),window.location.reload()}},r.a.createElement("i",{className:"pi pi-fw pi-cog"}),r.a.createElement("span",null,"Logout"))))),r.a.createElement(I,{model:this.state.user.permissions.map((function(e){return{label:e[{sp:"spanish",pr:"portuguese",en:"name"}[localStorage.getItem("i18nextLng")]],icon:e.icon,to:e.route,drawer:e.drawer}})).filter((function(e){return!1!==e.drawer})),onMenuItemClick:this.onMenuItemClick,onRootMenuItemClick:this.onRootMenuItemClick,layoutMode:this.state.layoutMode,active:this.state.menuActive}))),r.a.createElement(L,{rightPanelMenuActive:this.state.rightPanelMenuActive,onRightMenuClick:this.onRightMenuClick}),r.a.createElement("div",{className:"layout-main"},r.a.createElement("div",{className:"layout-content"},r.a.createElement(d.a,{path:"/",exact:!0,component:G}),r.a.createElement(d.a,{path:"/locations",component:ge}),r.a.createElement(d.a,{path:"/warehouse",component:ye}),r.a.createElement(d.a,{path:"/dock",component:ue}),r.a.createElement(d.a,{path:"/gate",component:ae}),r.a.createElement(d.a,{path:"/manage-holiday",component:Re}),r.a.createElement(d.a,{path:"/view-holiday",component:Xe}),r.a.createElement(d.a,{path:"/user-type",component:we}),r.a.createElement(d.a,{path:"/user-field",component:_e}),r.a.createElement(d.a,{path:"/product-field",component:Oe}),r.a.createElement(d.a,{path:"/product-type",component:je}),r.a.createElement(d.a,{path:"/products",component:Ae}),r.a.createElement(d.a,{path:"/users",component:We}),r.a.createElement(d.a,{path:"/user-permission",component:at}),r.a.createElement(d.a,{path:"/supplier",component:rt}),r.a.createElement(d.a,{path:"/driver",component:it}),r.a.createElement(d.a,{path:"/all-drivers",component:ot}),r.a.createElement(d.a,{path:"/manage-admins",component:Le}),r.a.createElement(d.a,{path:"/manage-security",component:Fe}),r.a.createElement(d.a,{path:"/appointments",component:Lt}),r.a.createElement(d.a,{path:"/manage-appointment",component:Ht}),r.a.createElement(d.a,{path:"/today-appointments",component:wa}),r.a.createElement(d.a,{path:"/data",component:Et}),r.a.createElement(d.a,{path:"/forms",component:At}),r.a.createElement(d.a,{path:"/sample",component:Kt}),r.a.createElement(d.a,{path:"/panels",component:ea}),r.a.createElement(d.a,{path:"/overlays",component:na}),r.a.createElement(d.a,{path:"/menus",component:pa}),r.a.createElement(d.a,{path:"/messages",component:va}),r.a.createElement(d.a,{path:"/charts",component:fa}),r.a.createElement(d.a,{path:"/misc",component:ya}),r.a.createElement(d.a,{path:"/empty",component:ba}),r.a.createElement(d.a,{path:"/trucks",component:Ca}),r.a.createElement(d.a,{path:"/supplier-truck",component:Da}),r.a.createElement(d.a,{path:"/truck-field",component:_a}),r.a.createElement(d.a,{path:"/trucks-overtime",component:Wt}),r.a.createElement(d.a,{path:"/appointment-calendar",component:Ba})),r.a.createElement(A,{layoutMode:this.state.layoutMode,lightMenu:this.state.lightMenu,inlineUser:this.state.inlineUser,isRTL:this.state.isRTL,themeColor:this.state.themeColor,topbarColor:this.state.topbarColor,changeMenuMode:this.changeMenuMode,changeMenuColor:this.changeMenuColor,changeProfileMode:this.changeProfileMode,changeOrientation:this.changeOrientation,changeTopbarColor:this.changeTopbarColor,changeTheme:this.changeTheme,onConfigButtonClick:this.onConfigButtonClick,onConfigCloseClick:this.onConfigCloseClick,onConfigClick:this.onConfigClick,configDialogActive:this.state.configDialogActive})),r.a.createElement(O,null),r.a.createElement("div",{className:"layout-content-mask"}))}}]),a}(n.Component),Ma=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"requestToken",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"local";return S.a.post(k+"authentication?$populate=userType",{userName:e,password:t,strategy:a,fcmId:localStorage.getItem("ftk")}).then((function(e){return e}))}},{key:"validateToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jwt";return S.a.post(k+"authentication?$populate=userType",{accessToken:e,strategy:t,fcmId:localStorage.getItem("ftk")}).then((function(e){return e}))}}]),e}();function La(){var e=Object(n.useRef)(null),t=Object(n.useState)(""),a=Object($.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(""),o=Object($.a)(l,2),c=o[0],u=o[1],d=Object(n.useState)(!1),p=Object($.a)(d,2),m=p[0],h=p[1],v=new Ma;return r.a.createElement("div",{className:"login-body"},r.a.createElement(_.Growl,{ref:e,style:{marginTop:"75px"}}),r.a.createElement("div",{className:"card login-panel ui-fluid"},r.a.createElement("div",{className:"login-panel-content"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-sm-6 p-md-6 logo-container"},r.a.createElement("img",{src:"assets/layout/images/logo-roma.svg",alt:"roma",style:{width:100,height:"auto",marginTop:50}}),r.a.createElement("span",{className:"guest-sign-in"},"Welcome, please use the form to sign-in to DAYM")),r.a.createElement("div",{className:"p-col-12 username-container"},r.a.createElement("label",null,"Username"),r.a.createElement("div",{className:"login-input"},r.a.createElement(f.InputText,{id:"input",type:"text",value:s,onChange:function(e){return i(e.target.value)}}))),r.a.createElement("div",{className:"p-col-12 password-container"},r.a.createElement("label",null,"Password"),r.a.createElement("div",{className:"login-input"},r.a.createElement(f.InputText,{type:"password",value:c,onChange:function(e){return u(e.target.value)}}))),r.a.createElement("div",{className:"p-col-12 p-sm-12 p-md-12 "},r.a.createElement("a",{href:"/",className:"forget-password"},"Forgot Password")),r.a.createElement("div",{className:"p-col-12 p-sm-12 p-md-12"},m?r.a.createElement(E.ProgressSpinner,{style:{width:"30px",height:"30px"},strokeWidth:"3",animationDuration:".5s"}):r.a.createElement(b.Button,{label:"Sign In",icon:"pi pi-user",onClick:function(){""!==s&&""!==c?(h(!0),v.requestToken(s,c).then((function(t){var a=t.data;console.log("Ressss-----\x3e ",a),e.current.show({severity:"success",summary:"Success",detail:"Login Successful!"}),localStorage.setItem("daym-tok",a.accessToken),localStorage.setItem("daym-user",JSON.stringify(a.user)),window.location="/#"})).catch((function(t){console.log("Errrr",t.response.data.message);var a=t.response&&t.response.data?t.response.data.message:"Something went wrong";e.current.show({severity:"error",summary:"Error",detail:a})})).finally((function(){h(!1)}))):e.current.show({severity:"error",summary:"Error",detail:"Username or Password cannot be blank!"})}}))))))}var Pa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"exception-body error"},r.a.createElement("div",{className:"exception-panel"},r.a.createElement("div",{className:"exception-content"},r.a.createElement("img",{src:"assets/layout/images/pages/icon-error.svg",alt:"roma"}),r.a.createElement("h1",null,"Error Occured"),r.a.createElement("p",null,"Something went wrong."),r.a.createElement(b.Button,{label:"Go To Dashboard",onClick:function(){window.location="/#"}}))))}}]),a}(n.Component),Fa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"exception-body notfound"},r.a.createElement("div",{className:"exception-panel"},r.a.createElement("div",{className:"exception-content"},r.a.createElement("img",{src:"assets/layout/images/pages/icon-404.svg",alt:"roma"}),r.a.createElement("h1",null,"Page Not Found"),r.a.createElement("p",null,"Requested resource is not available."),r.a.createElement(b.Button,{label:"Go To Dashboard",onClick:function(){window.location="/#"}}))))}}]),a}(n.Component),Ua=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"exception-body accessdenied"},r.a.createElement("div",{className:"exception-panel"},r.a.createElement("div",{className:"exception-content"},r.a.createElement("img",{src:"assets/layout/images/pages/icon-access.svg",alt:"roma"}),r.a.createElement("h1",null,"Access Denied"),r.a.createElement("p",null,"You do not have the necessary permissons."),r.a.createElement(b.Button,{label:"Go To Dashboard",onClick:function(){window.location="/#"}}))))}}]),a}(n.Component),Wa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dataTableValue:[],loading:!0},e.loginService=new Ma,e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"componentDidMount",value:function(){localStorage.getItem("daym-tok")&&this.loginService.validateToken(localStorage.getItem("daym-tok")).then((function(e){var t=e.data;localStorage.setItem("daym-tok",t.accessToken),localStorage.setItem("daym-user",JSON.stringify(t.user))})).catch((function(e){localStorage.removeItem("daym-tok"),localStorage.removeItem("daym-user"),window.location.reload()})).finally((function(){}))}},{key:"render",value:function(){if(!localStorage.getItem("daym-tok")&&"/login"!==this.props.location.pathname)return window.location="#/login",r.a.createElement(d.a,{path:"/login",component:La});if(localStorage.getItem("daym-tok")&&"/login"===this.props.location.pathname)return window.location="#/",r.a.createElement(Aa,null);switch(this.props.location.pathname){case"/login":return r.a.createElement(d.a,{path:"/login",component:La});case"/error":return r.a.createElement(d.a,{path:"/error",component:Pa});case"/404":return r.a.createElement(d.a,{path:"/404",component:Fa});case"/accessdenied":return r.a.createElement(d.a,{path:"/accessdenied",component:Ua});default:return r.a.createElement(Aa,null)}}}]),a}(n.Component),qa=Object(d.e)(Wa),Ga=(a(750),a(751),a(151)),Ra=a(323),Ha=a(324),za={en:{translation:a(325)},sp:{translation:a(326)},pr:{translation:a(327)}};g.a.use(Ra.a).use(Ha.a).use(Ga.e).init({resources:za,fallbackLng:["pr"],detection:{checkWhitelist:!0},debug:!1,whitelist:["en","sp","pr"],interpolation:{escapeValue:!1}});g.a;var Ja=a(223);i.a.render(r.a.createElement(x.a,null,r.a.createElement(qa,null)),document.getElementById("root")),Ja.a.initializeApp({apiKey:"AIzaSyCyMDrz7dQuCR_jmKghV1OQf4bmHpWLZL4",authDomain:"daym-217cc.firebaseapp.com",projectId:"daym-217cc",storageBucket:"daym-217cc.appspot.com",messagingSenderId:"644539427557",appId:"1:644539427557:web:4651ee7c6802279d18420c",measurementId:"G-HK1LK3YLNV"});var Ya=Ja.a.messaging();Ya.requestPermission().then((function(e){Ya.getToken().then((function(e){localStorage.setItem("ftk",e)}))})).catch(console.log),Ya.onMessage((function(e){try{var t=e.notification.title,a={body:e.notification.body};new Notification(t,a).onclick=function(t){e&&e.notification&&e.notification.click_action&&e.notification.click_action.length>0&&window.open(e.notification.click_action,"_blank"),this.close()}}catch(n){}}))}},[[329,1,2]]]);
//# sourceMappingURL=main.b9e5a595.chunk.js.map